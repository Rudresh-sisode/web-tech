import {
  __commonJS,
  __esm,
  __export,
  __publicField,
  __toCommonJS
} from "./chunk-NAA53B64.js";

// node_modules/@daily-co/daily-js/dist/daily-esm.js
var daily_esm_exports = {};
__export(daily_esm_exports, {
  DAILY_ACCESS_LEVEL_FULL: () => Dr,
  DAILY_ACCESS_LEVEL_LOBBY: () => Nr,
  DAILY_ACCESS_LEVEL_NONE: () => Ir,
  DAILY_ACCESS_UNKNOWN: () => Lr,
  DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE: () => Kr,
  DAILY_CAMERA_ERROR_CAM_IN_USE: () => Hr,
  DAILY_CAMERA_ERROR_CONSTRAINTS: () => ti,
  DAILY_CAMERA_ERROR_MIC_IN_USE: () => Qr,
  DAILY_CAMERA_ERROR_NOT_FOUND: () => ei,
  DAILY_CAMERA_ERROR_PERMISSIONS: () => Xr,
  DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES: () => Zr,
  DAILY_CAMERA_ERROR_UNKNOWN: () => ni,
  DAILY_EVENT_ACCESS_STATE_UPDATED: () => _i,
  DAILY_EVENT_ACTIVE_SPEAKER_CHANGE: () => Yi,
  DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE: () => Ji,
  DAILY_EVENT_APP_MSG: () => Ri,
  DAILY_EVENT_CAMERA_ERROR: () => ui,
  DAILY_EVENT_CPU_LOAD_CHANGE: () => Hi,
  DAILY_EVENT_ERROR: () => ao,
  DAILY_EVENT_EXIT_FULLSCREEN: () => Ki,
  DAILY_EVENT_FULLSCREEN: () => Qi,
  DAILY_EVENT_IFRAME_LAUNCH_CONFIG: () => ii,
  DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG: () => ri,
  DAILY_EVENT_INPUT_SETTINGS_UPDATED: () => io,
  DAILY_EVENT_JOINED_MEETING: () => hi,
  DAILY_EVENT_JOINING_MEETING: () => di,
  DAILY_EVENT_LANG_UPDATED: () => no,
  DAILY_EVENT_LEFT_MEETING: () => pi,
  DAILY_EVENT_LIVE_STREAMING_ERROR: () => to,
  DAILY_EVENT_LIVE_STREAMING_STARTED: () => Xi,
  DAILY_EVENT_LIVE_STREAMING_STOPPED: () => eo,
  DAILY_EVENT_LIVE_STREAMING_UPDATED: () => Zi,
  DAILY_EVENT_LOADED: () => ci,
  DAILY_EVENT_LOADING: () => ai,
  DAILY_EVENT_LOAD_ATTEMPT_FAILED: () => si,
  DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED: () => qi,
  DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED: () => $i,
  DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED: () => Gi,
  DAILY_EVENT_MEETING_SESSION_DATA_ERROR: () => Si,
  DAILY_EVENT_MEETING_SESSION_STATE_UPDATED: () => wi,
  DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED: () => bi,
  DAILY_EVENT_NETWORK_CONNECTION: () => zi,
  DAILY_EVENT_NETWORK_QUALITY_CHANGE: () => Wi,
  DAILY_EVENT_NONFATAL_ERROR: () => oo,
  DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED: () => yi,
  DAILY_EVENT_PARTICIPANT_JOINED: () => gi,
  DAILY_EVENT_PARTICIPANT_LEFT: () => vi,
  DAILY_EVENT_PARTICIPANT_UPDATED: () => mi,
  DAILY_EVENT_RECEIVE_SETTINGS_UPDATED: () => ro,
  DAILY_EVENT_RECORDING_DATA: () => Ii,
  DAILY_EVENT_RECORDING_ERROR: () => Di,
  DAILY_EVENT_RECORDING_STARTED: () => Ai,
  DAILY_EVENT_RECORDING_STATS: () => Li,
  DAILY_EVENT_RECORDING_STOPPED: () => ji,
  DAILY_EVENT_RECORDING_UPLOAD_COMPLETED: () => Ni,
  DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED: () => Fi,
  DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED: () => Vi,
  DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED: () => Ui,
  DAILY_EVENT_STARTED_CAMERA: () => li,
  DAILY_EVENT_THEME_UPDATED: () => oi,
  DAILY_EVENT_TRACK_STARTED: () => Ti,
  DAILY_EVENT_TRACK_STOPPED: () => Ci,
  DAILY_EVENT_TRANSCRIPTION_ERROR: () => xi,
  DAILY_EVENT_TRANSCRIPTION_MSG: () => Bi,
  DAILY_EVENT_TRANSCRIPTION_STARTED: () => Oi,
  DAILY_EVENT_TRANSCRIPTION_STOPPED: () => Pi,
  DAILY_EVENT_WAITING_PARTICIPANT_ADDED: () => ki,
  DAILY_EVENT_WAITING_PARTICIPANT_REMOVED: () => Mi,
  DAILY_EVENT_WAITING_PARTICIPANT_UPDATED: () => Ei,
  DAILY_FATAL_ERROR_CONNECTION: () => zr,
  DAILY_FATAL_ERROR_EJECTED: () => Fr,
  DAILY_FATAL_ERROR_EOL: () => Jr,
  DAILY_FATAL_ERROR_EXP_ROOM: () => $r,
  DAILY_FATAL_ERROR_EXP_TOKEN: () => Gr,
  DAILY_FATAL_ERROR_MEETING_FULL: () => Yr,
  DAILY_FATAL_ERROR_NBF_ROOM: () => Ur,
  DAILY_FATAL_ERROR_NBF_TOKEN: () => Vr,
  DAILY_FATAL_ERROR_NOT_ALLOWED: () => Wr,
  DAILY_FATAL_ERROR_NO_ROOM: () => qr,
  DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY: () => Br,
  DAILY_RECEIVE_SETTINGS_BASE_KEY: () => Rr,
  DAILY_STATE_ERROR: () => Tr,
  DAILY_STATE_JOINED: () => Er,
  DAILY_STATE_JOINING: () => kr,
  DAILY_STATE_LEFT: () => Mr,
  DAILY_STATE_NEW: () => br,
  DAILY_TRACK_STATE_BLOCKED: () => Cr,
  DAILY_TRACK_STATE_INTERRUPTED: () => Ar,
  DAILY_TRACK_STATE_LOADING: () => xr,
  DAILY_TRACK_STATE_OFF: () => Or,
  DAILY_TRACK_STATE_PLAYABLE: () => jr,
  DAILY_TRACK_STATE_SENDABLE: () => Pr,
  default: () => Ka
});
function e(e2, t2) {
  if (null == e2)
    return {};
  var n2, r2, i2 = function(e3, t3) {
    if (null == e3)
      return {};
    var n3, r3, i3 = {}, o3 = Object.keys(e3);
    for (r3 = 0; r3 < o3.length; r3++)
      n3 = o3[r3], t3.indexOf(n3) >= 0 || (i3[n3] = e3[n3]);
    return i3;
  }(e2, t2);
  if (Object.getOwnPropertySymbols) {
    var o2 = Object.getOwnPropertySymbols(e2);
    for (r2 = 0; r2 < o2.length; r2++)
      n2 = o2[r2], t2.indexOf(n2) >= 0 || Object.prototype.propertyIsEnumerable.call(e2, n2) && (i2[n2] = e2[n2]);
  }
  return i2;
}
function t(e2, t2, n2, r2, i2, o2, a2) {
  try {
    var s2 = e2[o2](a2), c2 = s2.value;
  } catch (e3) {
    return void n2(e3);
  }
  s2.done ? t2(c2) : Promise.resolve(c2).then(r2, i2);
}
function n(e2) {
  return function() {
    var n2 = this, r2 = arguments;
    return new Promise(function(i2, o2) {
      var a2 = e2.apply(n2, r2);
      function s2(e3) {
        t(a2, i2, o2, s2, c2, "next", e3);
      }
      function c2(e3) {
        t(a2, i2, o2, s2, c2, "throw", e3);
      }
      s2(void 0);
    });
  };
}
function r(e2, t2) {
  if (!(e2 instanceof t2))
    throw new TypeError("Cannot call a class as a function");
}
function i(e2) {
  return i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e3) {
    return typeof e3;
  } : function(e3) {
    return e3 && "function" == typeof Symbol && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
  }, i(e2);
}
function o(e2) {
  var t2 = function(e3, t3) {
    if ("object" !== i(e3) || null === e3)
      return e3;
    var n2 = e3[Symbol.toPrimitive];
    if (void 0 !== n2) {
      var r2 = n2.call(e3, t3 || "default");
      if ("object" !== i(r2))
        return r2;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return ("string" === t3 ? String : Number)(e3);
  }(e2, "string");
  return "symbol" === i(t2) ? t2 : String(t2);
}
function a(e2, t2) {
  for (var n2 = 0; n2 < t2.length; n2++) {
    var r2 = t2[n2];
    r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, o(r2.key), r2);
  }
}
function s(e2, t2, n2) {
  return t2 && a(e2.prototype, t2), n2 && a(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
}
function c(e2) {
  if (void 0 === e2)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e2;
}
function l(e2, t2) {
  return l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e3, t3) {
    return e3.__proto__ = t3, e3;
  }, l(e2, t2);
}
function u(e2, t2) {
  if ("function" != typeof t2 && null !== t2)
    throw new TypeError("Super expression must either be null or a function");
  e2.prototype = Object.create(t2 && t2.prototype, { constructor: { value: e2, writable: true, configurable: true } }), Object.defineProperty(e2, "prototype", { writable: false }), t2 && l(e2, t2);
}
function d(e2, t2) {
  if (t2 && ("object" === i(t2) || "function" == typeof t2))
    return t2;
  if (void 0 !== t2)
    throw new TypeError("Derived constructors may only return object or undefined");
  return c(e2);
}
function h(e2) {
  return h = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e3) {
    return e3.__proto__ || Object.getPrototypeOf(e3);
  }, h(e2);
}
function p(e2, t2, n2) {
  return (t2 = o(t2)) in e2 ? Object.defineProperty(e2, t2, { value: n2, enumerable: true, configurable: true, writable: true }) : e2[t2] = n2, e2;
}
function f(e2, t2) {
  (null == t2 || t2 > e2.length) && (t2 = e2.length);
  for (var n2 = 0, r2 = new Array(t2); n2 < t2; n2++)
    r2[n2] = e2[n2];
  return r2;
}
function g(e2, t2) {
  return function(e3) {
    if (Array.isArray(e3))
      return e3;
  }(e2) || function(e3, t3) {
    var n2 = null == e3 ? null : "undefined" != typeof Symbol && e3[Symbol.iterator] || e3["@@iterator"];
    if (null != n2) {
      var r2, i2, o2, a2, s2 = [], c2 = true, l2 = false;
      try {
        if (o2 = (n2 = n2.call(e3)).next, 0 === t3) {
          if (Object(n2) !== n2)
            return;
          c2 = false;
        } else
          for (; !(c2 = (r2 = o2.call(n2)).done) && (s2.push(r2.value), s2.length !== t3); c2 = true)
            ;
      } catch (e4) {
        l2 = true, i2 = e4;
      } finally {
        try {
          if (!c2 && null != n2.return && (a2 = n2.return(), Object(a2) !== a2))
            return;
        } finally {
          if (l2)
            throw i2;
        }
      }
      return s2;
    }
  }(e2, t2) || function(e3, t3) {
    if (e3) {
      if ("string" == typeof e3)
        return f(e3, t3);
      var n2 = Object.prototype.toString.call(e3).slice(8, -1);
      return "Object" === n2 && e3.constructor && (n2 = e3.constructor.name), "Map" === n2 || "Set" === n2 ? Array.from(e3) : "Arguments" === n2 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2) ? f(e3, t3) : void 0;
    }
  }(e2, t2) || function() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }();
}
function S() {
  S.init.call(this);
}
function E(e2) {
  if ("function" != typeof e2)
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e2);
}
function M(e2) {
  return void 0 === e2._maxListeners ? S.defaultMaxListeners : e2._maxListeners;
}
function T(e2, t2, n2, r2) {
  var i2, o2, a2, s2;
  if (E(n2), void 0 === (o2 = e2._events) ? (o2 = e2._events = /* @__PURE__ */ Object.create(null), e2._eventsCount = 0) : (void 0 !== o2.newListener && (e2.emit("newListener", t2, n2.listener ? n2.listener : n2), o2 = e2._events), a2 = o2[t2]), void 0 === a2)
    a2 = o2[t2] = n2, ++e2._eventsCount;
  else if ("function" == typeof a2 ? a2 = o2[t2] = r2 ? [n2, a2] : [a2, n2] : r2 ? a2.unshift(n2) : a2.push(n2), (i2 = M(e2)) > 0 && a2.length > i2 && !a2.warned) {
    a2.warned = true;
    var c2 = new Error("Possible EventEmitter memory leak detected. " + a2.length + " " + String(t2) + " listeners added. Use emitter.setMaxListeners() to increase limit");
    c2.name = "MaxListenersExceededWarning", c2.emitter = e2, c2.type = t2, c2.count = a2.length, s2 = c2, console && console.warn && console.warn(s2);
  }
  return e2;
}
function C() {
  if (!this.fired)
    return this.target.removeListener(this.type, this.wrapFn), this.fired = true, 0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
}
function O(e2, t2, n2) {
  var r2 = { fired: false, wrapFn: void 0, target: e2, type: t2, listener: n2 }, i2 = C.bind(r2);
  return i2.listener = n2, r2.wrapFn = i2, i2;
}
function P(e2, t2, n2) {
  var r2 = e2._events;
  if (void 0 === r2)
    return [];
  var i2 = r2[t2];
  return void 0 === i2 ? [] : "function" == typeof i2 ? n2 ? [i2.listener || i2] : [i2] : n2 ? function(e3) {
    for (var t3 = new Array(e3.length), n3 = 0; n3 < t3.length; ++n3)
      t3[n3] = e3[n3].listener || e3[n3];
    return t3;
  }(i2) : A(i2, i2.length);
}
function x(e2) {
  var t2 = this._events;
  if (void 0 !== t2) {
    var n2 = t2[e2];
    if ("function" == typeof n2)
      return 1;
    if (void 0 !== n2)
      return n2.length;
  }
  return 0;
}
function A(e2, t2) {
  for (var n2 = new Array(t2), r2 = 0; r2 < t2; ++r2)
    n2[r2] = e2[r2];
  return n2;
}
function j(e2, t2, n2, r2) {
  if ("function" == typeof e2.on)
    r2.once ? e2.once(t2, n2) : e2.on(t2, n2);
  else {
    if ("function" != typeof e2.addEventListener)
      throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof e2);
    e2.addEventListener(t2, function i2(o2) {
      r2.once && e2.removeEventListener(t2, i2), n2(o2);
    });
  }
}
function D(e2, t2, n2) {
  for (n2 of e2.keys())
    if (N(n2, t2))
      return n2;
}
function N(e2, t2) {
  var n2, r2, i2;
  if (e2 === t2)
    return true;
  if (e2 && t2 && (n2 = e2.constructor) === t2.constructor) {
    if (n2 === Date)
      return e2.getTime() === t2.getTime();
    if (n2 === RegExp)
      return e2.toString() === t2.toString();
    if (n2 === Array) {
      if ((r2 = e2.length) === t2.length)
        for (; r2-- && N(e2[r2], t2[r2]); )
          ;
      return -1 === r2;
    }
    if (n2 === Set) {
      if (e2.size !== t2.size)
        return false;
      for (r2 of e2) {
        if ((i2 = r2) && "object" == typeof i2 && !(i2 = D(t2, i2)))
          return false;
        if (!t2.has(i2))
          return false;
      }
      return true;
    }
    if (n2 === Map) {
      if (e2.size !== t2.size)
        return false;
      for (r2 of e2) {
        if ((i2 = r2[0]) && "object" == typeof i2 && !(i2 = D(t2, i2)))
          return false;
        if (!N(r2[1], t2.get(i2)))
          return false;
      }
      return true;
    }
    if (n2 === ArrayBuffer)
      e2 = new Uint8Array(e2), t2 = new Uint8Array(t2);
    else if (n2 === DataView) {
      if ((r2 = e2.byteLength) === t2.byteLength)
        for (; r2-- && e2.getInt8(r2) === t2.getInt8(r2); )
          ;
      return -1 === r2;
    }
    if (ArrayBuffer.isView(e2)) {
      if ((r2 = e2.byteLength) === t2.byteLength)
        for (; r2-- && e2[r2] === t2[r2]; )
          ;
      return -1 === r2;
    }
    if (!n2 || "object" == typeof e2) {
      for (n2 in r2 = 0, e2) {
        if (L.call(e2, n2) && ++r2 && !L.call(t2, n2))
          return false;
        if (!(n2 in t2) || !N(e2[n2], t2[n2]))
          return false;
      }
      return Object.keys(t2).length === r2;
    }
  }
  return e2 != e2 && t2 != t2;
}
function H() {
  return Date.now() + Math.random().toString();
}
function Q() {
  throw new Error("Method must be implemented in subclass");
}
function K(e2) {
  return window._dailyConfig && window._dailyConfig.proxyUrl ? window._dailyConfig.proxyUrl + ("/" === window._dailyConfig.proxyUrl.slice(-1) ? "" : "/") + e2.substring(8) : e2;
}
function X() {
  return window._dailyConfig && window._dailyConfig.callObjectBundleUrlOverride ? window._dailyConfig.callObjectBundleUrlOverride : K("https://c.daily.co/call-machine/versioned/".concat("0.58.0", "/static/call-machine-object-bundle.js"));
}
function Z(e2) {
  try {
    new URL(e2);
  } catch (e3) {
    return false;
  }
  return true;
}
function te(e2) {
  switch (ee.call(e2)) {
    case "[object Error]":
    case "[object Exception]":
    case "[object DOMException]":
      return true;
    default:
      return ue(e2, Error);
  }
}
function ne(e2, t2) {
  return ee.call(e2) === `[object ${t2}]`;
}
function re(e2) {
  return ne(e2, "ErrorEvent");
}
function ie(e2) {
  return ne(e2, "DOMError");
}
function oe(e2) {
  return ne(e2, "String");
}
function ae(e2) {
  return null === e2 || "object" != typeof e2 && "function" != typeof e2;
}
function se(e2) {
  return ne(e2, "Object");
}
function ce(e2) {
  return "undefined" != typeof Event && ue(e2, Event);
}
function le(e2) {
  return Boolean(e2 && e2.then && "function" == typeof e2.then);
}
function ue(e2, t2) {
  try {
    return e2 instanceof t2;
  } catch (e3) {
    return false;
  }
}
function de(e2, t2 = 0) {
  return "string" != typeof e2 || 0 === t2 || e2.length <= t2 ? e2 : `${e2.slice(0, t2)}...`;
}
function he(e2, t2) {
  if (!Array.isArray(e2))
    return "";
  const n2 = [];
  for (let t3 = 0; t3 < e2.length; t3++) {
    const r2 = e2[t3];
    try {
      n2.push(String(r2));
    } catch (e3) {
      n2.push("[value cannot be serialized]");
    }
  }
  return n2.join(t2);
}
function pe(e2, t2, n2 = false) {
  return !!oe(e2) && (ne(t2, "RegExp") ? t2.test(e2) : !!oe(t2) && (n2 ? e2 === t2 : e2.includes(t2)));
}
function fe(e2, t2 = [], n2 = false) {
  return t2.some((t3) => pe(e2, t3, n2));
}
function ge(e2, t2, n2 = 250, r2, i2, o2, a2) {
  if (!(o2.exception && o2.exception.values && a2 && ue(a2.originalException, Error)))
    return;
  const s2 = o2.exception.values.length > 0 ? o2.exception.values[o2.exception.values.length - 1] : void 0;
  var c2, l2;
  s2 && (o2.exception.values = (c2 = me(e2, t2, i2, a2.originalException, r2, o2.exception.values, s2, 0), l2 = n2, c2.map((e3) => (e3.value && (e3.value = de(e3.value, l2)), e3))));
}
function me(e2, t2, n2, r2, i2, o2, a2, s2) {
  if (o2.length >= n2 + 1)
    return o2;
  let c2 = [...o2];
  if (ue(r2[i2], Error)) {
    ve(a2, s2);
    const o3 = e2(t2, r2[i2]), l2 = c2.length;
    ye(o3, i2, l2, s2), c2 = me(e2, t2, n2, r2[i2], i2, [o3, ...c2], o3, l2);
  }
  return Array.isArray(r2.errors) && r2.errors.forEach((r3, o3) => {
    if (ue(r3, Error)) {
      ve(a2, s2);
      const l2 = e2(t2, r3), u2 = c2.length;
      ye(l2, `errors[${o3}]`, u2, s2), c2 = me(e2, t2, n2, r3, i2, [l2, ...c2], l2, u2);
    }
  }), c2;
}
function ve(e2, t2) {
  e2.mechanism = e2.mechanism || { type: "generic", handled: true }, e2.mechanism = { ...e2.mechanism, is_exception_group: true, exception_id: t2 };
}
function ye(e2, t2, n2, r2) {
  e2.mechanism = e2.mechanism || { type: "generic", handled: true }, e2.mechanism = { ...e2.mechanism, type: "chained", source: t2, exception_id: n2, parent_id: r2 };
}
function _e(e2) {
  return e2 && e2.Math == Math ? e2 : void 0;
}
function we() {
  return be;
}
function Se(e2, t2, n2) {
  const r2 = n2 || be, i2 = r2.__SENTRY__ = r2.__SENTRY__ || {};
  return i2[e2] || (i2[e2] = t2());
}
function Me(e2, t2 = {}) {
  try {
    let n2 = e2;
    const r2 = 5, i2 = [];
    let o2 = 0, a2 = 0;
    const s2 = " > ", c2 = s2.length;
    let l2;
    const u2 = Array.isArray(t2) ? t2 : t2.keyAttrs, d2 = !Array.isArray(t2) && t2.maxStringLength || Ee;
    for (; n2 && o2++ < r2 && (l2 = Te(n2, u2), !("html" === l2 || o2 > 1 && a2 + i2.length * c2 + l2.length >= d2)); )
      i2.push(l2), a2 += l2.length, n2 = n2.parentNode;
    return i2.reverse().join(s2);
  } catch (e3) {
    return "<unknown>";
  }
}
function Te(e2, t2) {
  const n2 = e2, r2 = [];
  let i2, o2, a2, s2, c2;
  if (!n2 || !n2.tagName)
    return "";
  r2.push(n2.tagName.toLowerCase());
  const l2 = t2 && t2.length ? t2.filter((e3) => n2.getAttribute(e3)).map((e3) => [e3, n2.getAttribute(e3)]) : null;
  if (l2 && l2.length)
    l2.forEach((e3) => {
      r2.push(`[${e3[0]}="${e3[1]}"]`);
    });
  else if (n2.id && r2.push(`#${n2.id}`), i2 = n2.className, i2 && oe(i2))
    for (o2 = i2.split(/\s+/), c2 = 0; c2 < o2.length; c2++)
      r2.push(`.${o2[c2]}`);
  const u2 = ["aria-label", "type", "name", "title", "alt"];
  for (c2 = 0; c2 < u2.length; c2++)
    a2 = u2[c2], s2 = n2.getAttribute(a2), s2 && r2.push(`[${a2}="${s2}"]`);
  return r2.join("");
}
function Oe(e2) {
  if (!("console" in be))
    return e2();
  const t2 = be.console, n2 = {};
  Ce.forEach((e3) => {
    const r2 = t2[e3] && t2[e3].__sentry_original__;
    e3 in t2 && r2 && (n2[e3] = t2[e3], t2[e3] = r2);
  });
  try {
    return e2();
  } finally {
    Object.keys(n2).forEach((e3) => {
      t2[e3] = n2[e3];
    });
  }
}
function Pe() {
  let e2 = false;
  const t2 = { enable: () => {
    e2 = true;
  }, disable: () => {
    e2 = false;
  } };
  return "undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__ ? Ce.forEach((n2) => {
    t2[n2] = (...t3) => {
      e2 && Oe(() => {
        be.console[n2](`Sentry Logger [${n2}]:`, ...t3);
      });
    };
  }) : Ce.forEach((e3) => {
    t2[e3] = () => {
    };
  }), t2;
}
function je(e2, t2 = false) {
  const { host: n2, path: r2, pass: i2, port: o2, projectId: a2, protocol: s2, publicKey: c2 } = e2;
  return `${s2}://${c2}${t2 && i2 ? `:${i2}` : ""}@${n2}${o2 ? `:${o2}` : ""}/${r2 ? `${r2}/` : r2}${a2}`;
}
function Le(e2) {
  return { protocol: e2.protocol, publicKey: e2.publicKey || "", pass: e2.pass || "", host: e2.host, port: e2.port || "", path: e2.path || "", projectId: e2.projectId };
}
function De(e2) {
  const t2 = "string" == typeof e2 ? function(e3) {
    const t3 = Ae.exec(e3);
    if (!t3)
      return void console.error(`Invalid Sentry Dsn: ${e3}`);
    const [n2, r2, i2 = "", o2, a2 = "", s2] = t3.slice(1);
    let c2 = "", l2 = s2;
    const u2 = l2.split("/");
    if (u2.length > 1 && (c2 = u2.slice(0, -1).join("/"), l2 = u2.pop()), l2) {
      const e4 = l2.match(/^\d+/);
      e4 && (l2 = e4[0]);
    }
    return Le({ host: o2, pass: i2, path: c2, projectId: l2, port: a2, protocol: n2, publicKey: r2 });
  }(e2) : Le(e2);
  if (t2 && function(e3) {
    if ("undefined" != typeof __SENTRY_DEBUG__ && !__SENTRY_DEBUG__)
      return true;
    const { port: t3, projectId: n2, protocol: r2 } = e3;
    return !(["protocol", "publicKey", "host", "projectId"].find((t4) => !e3[t4] && (xe.error(`Invalid Sentry Dsn: ${t4} missing`), true)) || (n2.match(/^\d+$/) ? /* @__PURE__ */ function(e4) {
      return "http" === e4 || "https" === e4;
    }(r2) ? t3 && isNaN(parseInt(t3, 10)) && (xe.error(`Invalid Sentry Dsn: Invalid port ${t3}`), 1) : (xe.error(`Invalid Sentry Dsn: Invalid protocol ${r2}`), 1) : (xe.error(`Invalid Sentry Dsn: Invalid projectId ${n2}`), 1)));
  }(t2))
    return t2;
}
function Ie(e2, t2, n2) {
  if (!(t2 in e2))
    return;
  const r2 = e2[t2], i2 = n2(r2);
  if ("function" == typeof i2)
    try {
      Be(i2, r2);
    } catch (e3) {
    }
  e2[t2] = i2;
}
function Re(e2, t2, n2) {
  Object.defineProperty(e2, t2, { value: n2, writable: true, configurable: true });
}
function Be(e2, t2) {
  const n2 = t2.prototype || {};
  e2.prototype = t2.prototype = n2, Re(e2, "__sentry_original__", t2);
}
function Fe(e2) {
  return e2.__sentry_original__;
}
function Ue(e2) {
  if (te(e2))
    return { message: e2.message, name: e2.name, stack: e2.stack, ...$e(e2) };
  if (ce(e2)) {
    const t2 = { type: e2.type, target: Ve(e2.target), currentTarget: Ve(e2.currentTarget), ...$e(e2) };
    return "undefined" != typeof CustomEvent && ue(e2, CustomEvent) && (t2.detail = e2.detail), t2;
  }
  return e2;
}
function Ve(e2) {
  try {
    return t2 = e2, "undefined" != typeof Element && ue(t2, Element) ? Me(e2) : Object.prototype.toString.call(e2);
  } catch (e3) {
    return "<unknown>";
  }
  var t2;
}
function $e(e2) {
  if ("object" == typeof e2 && null !== e2) {
    const t2 = {};
    for (const n2 in e2)
      Object.prototype.hasOwnProperty.call(e2, n2) && (t2[n2] = e2[n2]);
    return t2;
  }
  return {};
}
function Ge(e2) {
  return qe(e2, /* @__PURE__ */ new Map());
}
function qe(e2, t2) {
  if (se(e2)) {
    const n2 = t2.get(e2);
    if (void 0 !== n2)
      return n2;
    const r2 = {};
    t2.set(e2, r2);
    for (const n3 of Object.keys(e2))
      void 0 !== e2[n3] && (r2[n3] = qe(e2[n3], t2));
    return r2;
  }
  if (Array.isArray(e2)) {
    const n2 = t2.get(e2);
    if (void 0 !== n2)
      return n2;
    const r2 = [];
    return t2.set(e2, r2), e2.forEach((e3) => {
      r2.push(qe(e3, t2));
    }), r2;
  }
  return e2;
}
function Je(e2) {
  try {
    return e2 && "function" == typeof e2 && e2.name || Ye;
  } catch (e3) {
    return Ye;
  }
}
function ze(e2) {
  return e2 && /^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e2.toString());
}
function He() {
  if (!function() {
    if (!("fetch" in We))
      return false;
    try {
      return new Headers(), new Request("http://www.example.com"), new Response(), true;
    } catch (e3) {
      return false;
    }
  }())
    return false;
  if (ze(We.fetch))
    return true;
  let e2 = false;
  const t2 = We.document;
  if (t2 && "function" == typeof t2.createElement)
    try {
      const n2 = t2.createElement("iframe");
      n2.hidden = true, t2.head.appendChild(n2), n2.contentWindow && n2.contentWindow.fetch && (e2 = ze(n2.contentWindow.fetch)), t2.head.removeChild(n2);
    } catch (e3) {
      ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ", e3);
    }
  return e2;
}
function tt(e2) {
  if (!et[e2])
    switch (et[e2] = true, e2) {
      case "console":
        !function() {
          if (!("console" in Ke))
            return;
          Ce.forEach(function(e3) {
            e3 in Ke.console && Ie(Ke.console, e3, function(t2) {
              return function(...n2) {
                rt("console", { args: n2, level: e3 }), t2 && t2.apply(Ke.console, n2);
              };
            });
          });
        }();
        break;
      case "dom":
        !function() {
          if (!("document" in Ke))
            return;
          const e3 = rt.bind(null, "dom"), t2 = ut(e3, true);
          Ke.document.addEventListener("click", t2, false), Ke.document.addEventListener("keypress", t2, false), ["EventTarget", "Node"].forEach((t3) => {
            const n2 = Ke[t3] && Ke[t3].prototype;
            n2 && n2.hasOwnProperty && n2.hasOwnProperty("addEventListener") && (Ie(n2, "addEventListener", function(t4) {
              return function(n3, r2, i2) {
                if ("click" === n3 || "keypress" == n3)
                  try {
                    const r3 = this, o2 = r3.__sentry_instrumentation_handlers__ = r3.__sentry_instrumentation_handlers__ || {}, a2 = o2[n3] = o2[n3] || { refCount: 0 };
                    if (!a2.handler) {
                      const r4 = ut(e3);
                      a2.handler = r4, t4.call(this, n3, r4, i2);
                    }
                    a2.refCount++;
                  } catch (e4) {
                  }
                return t4.call(this, n3, r2, i2);
              };
            }), Ie(n2, "removeEventListener", function(e4) {
              return function(t4, n3, r2) {
                if ("click" === t4 || "keypress" == t4)
                  try {
                    const n4 = this, i2 = n4.__sentry_instrumentation_handlers__ || {}, o2 = i2[t4];
                    o2 && (o2.refCount--, o2.refCount <= 0 && (e4.call(this, t4, o2.handler, r2), o2.handler = void 0, delete i2[t4]), 0 === Object.keys(i2).length && delete n4.__sentry_instrumentation_handlers__);
                  } catch (e5) {
                  }
                return e4.call(this, t4, n3, r2);
              };
            }));
          });
        }();
        break;
      case "xhr":
        !function() {
          if (!("XMLHttpRequest" in Ke))
            return;
          const e3 = XMLHttpRequest.prototype;
          Ie(e3, "open", function(e4) {
            return function(...t2) {
              const n2 = t2[1], r2 = this[Xe] = { method: oe(t2[0]) ? t2[0].toUpperCase() : t2[0], url: t2[1], request_headers: {} };
              oe(n2) && "POST" === r2.method && n2.match(/sentry_key/) && (this.__sentry_own_request__ = true);
              const i2 = () => {
                const e5 = this[Xe];
                if (e5 && 4 === this.readyState) {
                  try {
                    e5.status_code = this.status;
                  } catch (e6) {
                  }
                  rt("xhr", { args: t2, endTimestamp: Date.now(), startTimestamp: Date.now(), xhr: this });
                }
              };
              return "onreadystatechange" in this && "function" == typeof this.onreadystatechange ? Ie(this, "onreadystatechange", function(e5) {
                return function(...t3) {
                  return i2(), e5.apply(this, t3);
                };
              }) : this.addEventListener("readystatechange", i2), Ie(this, "setRequestHeader", function(e5) {
                return function(...t3) {
                  const [n3, r3] = t3, i3 = this[Xe];
                  return i3 && (i3.request_headers[n3.toLowerCase()] = r3), e5.apply(this, t3);
                };
              }), e4.apply(this, t2);
            };
          }), Ie(e3, "send", function(e4) {
            return function(...t2) {
              const n2 = this[Xe];
              return n2 && void 0 !== t2[0] && (n2.body = t2[0]), rt("xhr", { args: t2, startTimestamp: Date.now(), xhr: this }), e4.apply(this, t2);
            };
          });
        }();
        break;
      case "fetch":
        !function() {
          if (!He())
            return;
          Ie(Ke, "fetch", function(e3) {
            return function(...t2) {
              const { method: n2, url: r2 } = function(e4) {
                if (0 === e4.length)
                  return { method: "GET", url: "" };
                if (2 === e4.length) {
                  const [t4, n3] = e4;
                  return { url: ot(t4), method: it(n3, "method") ? String(n3.method).toUpperCase() : "GET" };
                }
                const t3 = e4[0];
                return { url: ot(t3), method: it(t3, "method") ? String(t3.method).toUpperCase() : "GET" };
              }(t2), i2 = { args: t2, fetchData: { method: n2, url: r2 }, startTimestamp: Date.now() };
              return rt("fetch", { ...i2 }), e3.apply(Ke, t2).then((e4) => (rt("fetch", { ...i2, endTimestamp: Date.now(), response: e4 }), e4), (e4) => {
                throw rt("fetch", { ...i2, endTimestamp: Date.now(), error: e4 }), e4;
              });
            };
          });
        }();
        break;
      case "history":
        !function() {
          if (!function() {
            const e4 = Qe.chrome, t3 = e4 && e4.app && e4.app.runtime, n2 = "history" in Qe && !!Qe.history.pushState && !!Qe.history.replaceState;
            return !t3 && n2;
          }())
            return;
          const e3 = Ke.onpopstate;
          function t2(e4) {
            return function(...t3) {
              const n2 = t3.length > 2 ? t3[2] : void 0;
              if (n2) {
                const e5 = at, t4 = String(n2);
                at = t4, rt("history", { from: e5, to: t4 });
              }
              return e4.apply(this, t3);
            };
          }
          Ke.onpopstate = function(...t3) {
            const n2 = Ke.location.href, r2 = at;
            if (at = n2, rt("history", { from: r2, to: n2 }), e3)
              try {
                return e3.apply(this, t3);
              } catch (e4) {
              }
          }, Ie(Ke.history, "pushState", t2), Ie(Ke.history, "replaceState", t2);
        }();
        break;
      case "error":
        dt = Ke.onerror, Ke.onerror = function(e3, t2, n2, r2, i2) {
          return rt("error", { column: r2, error: i2, line: n2, msg: e3, url: t2 }), !(!dt || dt.__SENTRY_LOADER__) && dt.apply(this, arguments);
        }, Ke.onerror.__SENTRY_INSTRUMENTED__ = true;
        break;
      case "unhandledrejection":
        ht = Ke.onunhandledrejection, Ke.onunhandledrejection = function(e3) {
          return rt("unhandledrejection", e3), !(ht && !ht.__SENTRY_LOADER__) || ht.apply(this, arguments);
        }, Ke.onunhandledrejection.__SENTRY_INSTRUMENTED__ = true;
        break;
      default:
        return void (("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn("unknown instrumentation type:", e2));
    }
}
function nt(e2, t2) {
  Ze[e2] = Ze[e2] || [], Ze[e2].push(t2), tt(e2);
}
function rt(e2, t2) {
  if (e2 && Ze[e2])
    for (const n2 of Ze[e2] || [])
      try {
        n2(t2);
      } catch (t3) {
        ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.error(`Error while triggering instrumentation handler.
Type: ${e2}
Name: ${Je(n2)}
Error:`, t3);
      }
}
function it(e2, t2) {
  return !!e2 && "object" == typeof e2 && !!e2[t2];
}
function ot(e2) {
  return "string" == typeof e2 ? e2 : e2 ? it(e2, "url") ? e2.url : e2.toString ? e2.toString() : "" : "";
}
function ut(e2, t2 = false) {
  return (n2) => {
    if (!n2 || lt === n2)
      return;
    if (function(e3) {
      if ("keypress" !== e3.type)
        return false;
      try {
        const t3 = e3.target;
        if (!t3 || !t3.tagName)
          return true;
        if ("INPUT" === t3.tagName || "TEXTAREA" === t3.tagName || t3.isContentEditable)
          return false;
      } catch (e4) {
      }
      return true;
    }(n2))
      return;
    const r2 = "keypress" === n2.type ? "input" : n2.type;
    (void 0 === ct || function(e3, t3) {
      if (!e3)
        return true;
      if (e3.type !== t3.type)
        return true;
      try {
        if (e3.target !== t3.target)
          return true;
      } catch (e4) {
      }
      return false;
    }(lt, n2)) && (e2({ event: n2, name: r2, global: t2 }), lt = n2), clearTimeout(ct), ct = Ke.setTimeout(() => {
      ct = void 0;
    }, st);
  };
}
function pt() {
  const e2 = be, t2 = e2.crypto || e2.msCrypto;
  if (t2 && t2.randomUUID)
    return t2.randomUUID().replace(/-/g, "");
  const n2 = t2 && t2.getRandomValues ? () => t2.getRandomValues(new Uint8Array(1))[0] : () => 16 * Math.random();
  return ("10000000100040008000" + 1e11).replace(/[018]/g, (e3) => (e3 ^ (15 & n2()) >> e3 / 4).toString(16));
}
function ft(e2) {
  return e2.exception && e2.exception.values ? e2.exception.values[0] : void 0;
}
function gt(e2) {
  const { message: t2, event_id: n2 } = e2;
  if (t2)
    return t2;
  const r2 = ft(e2);
  return r2 ? r2.type && r2.value ? `${r2.type}: ${r2.value}` : r2.type || r2.value || n2 || "<unknown>" : n2 || "<unknown>";
}
function mt(e2, t2, n2) {
  const r2 = e2.exception = e2.exception || {}, i2 = r2.values = r2.values || [], o2 = i2[0] = i2[0] || {};
  o2.value || (o2.value = t2 || ""), o2.type || (o2.type = n2 || "Error");
}
function vt(e2, t2) {
  const n2 = ft(e2);
  if (!n2)
    return;
  const r2 = n2.mechanism;
  if (n2.mechanism = { type: "generic", handled: true, ...r2, ...t2 }, t2 && "data" in t2) {
    const e3 = { ...r2 && r2.data, ...t2.data };
    n2.mechanism.data = e3;
  }
}
function yt(e2) {
  if (e2 && e2.__sentry_captured__)
    return true;
  try {
    Re(e2, "__sentry_captured__", true);
  } catch (e3) {
  }
  return false;
}
function _t(e2, t2 = 100, n2 = 1 / 0) {
  try {
    return wt("", e2, t2, n2);
  } catch (e3) {
    return { ERROR: `**non-serializable** (${e3})` };
  }
}
function bt(e2, t2 = 3, n2 = 102400) {
  const r2 = _t(e2, t2);
  return i2 = r2, function(e3) {
    return ~-encodeURI(e3).split(/%..|./).length;
  }(JSON.stringify(i2)) > n2 ? bt(e2, t2 - 1, n2) : r2;
  var i2;
}
function wt(e2, t2, n2 = 1 / 0, r2 = 1 / 0, i2 = /* @__PURE__ */ function() {
  const e3 = "function" == typeof WeakSet, t3 = e3 ? /* @__PURE__ */ new WeakSet() : [];
  return [function(n3) {
    if (e3)
      return !!t3.has(n3) || (t3.add(n3), false);
    for (let e4 = 0; e4 < t3.length; e4++)
      if (t3[e4] === n3)
        return true;
    return t3.push(n3), false;
  }, function(n3) {
    if (e3)
      t3.delete(n3);
    else
      for (let e4 = 0; e4 < t3.length; e4++)
        if (t3[e4] === n3) {
          t3.splice(e4, 1);
          break;
        }
  }];
}()) {
  const [o2, a2] = i2;
  if (null == t2 || ["number", "boolean", "string"].includes(typeof t2) && ("number" != typeof (s2 = t2) || s2 == s2))
    return t2;
  var s2;
  const c2 = function(e3, t3) {
    try {
      if ("domain" === e3 && t3 && "object" == typeof t3 && t3._events)
        return "[Domain]";
      if ("domainEmitter" === e3)
        return "[DomainEmitter]";
      if ("undefined" != typeof global && t3 === global)
        return "[Global]";
      if ("undefined" != typeof window && t3 === window)
        return "[Window]";
      if ("undefined" != typeof document && t3 === document)
        return "[Document]";
      if (function(e4) {
        return se(e4) && "nativeEvent" in e4 && "preventDefault" in e4 && "stopPropagation" in e4;
      }(t3))
        return "[SyntheticEvent]";
      if ("number" == typeof t3 && t3 != t3)
        return "[NaN]";
      if ("function" == typeof t3)
        return `[Function: ${Je(t3)}]`;
      if ("symbol" == typeof t3)
        return `[${String(t3)}]`;
      if ("bigint" == typeof t3)
        return `[BigInt: ${String(t3)}]`;
      const n3 = function(e4) {
        const t4 = Object.getPrototypeOf(e4);
        return t4 ? t4.constructor.name : "null prototype";
      }(t3);
      return /^HTML(\w*)Element$/.test(n3) ? `[HTMLElement: ${n3}]` : `[object ${n3}]`;
    } catch (e4) {
      return `**non-serializable** (${e4})`;
    }
  }(e2, t2);
  if (!c2.startsWith("[object "))
    return c2;
  if (t2.__sentry_skip_normalization__)
    return t2;
  const l2 = "number" == typeof t2.__sentry_override_normalization_depth__ ? t2.__sentry_override_normalization_depth__ : n2;
  if (0 === l2)
    return c2.replace("object ", "");
  if (o2(t2))
    return "[Circular ~]";
  const u2 = t2;
  if (u2 && "function" == typeof u2.toJSON)
    try {
      return wt("", u2.toJSON(), l2 - 1, r2, i2);
    } catch (e3) {
    }
  const d2 = Array.isArray(t2) ? [] : {};
  let h2 = 0;
  const p2 = Ue(t2);
  for (const e3 in p2) {
    if (!Object.prototype.hasOwnProperty.call(p2, e3))
      continue;
    if (h2 >= r2) {
      d2[e3] = "[MaxProperties ~]";
      break;
    }
    const t3 = p2[e3];
    d2[e3] = wt(e3, t3, l2 - 1, r2, i2), h2++;
  }
  return a2(t2), d2;
}
function kt(e2) {
  return new Mt((t2) => {
    t2(e2);
  });
}
function Et(e2) {
  return new Mt((t2, n2) => {
    n2(e2);
  });
}
function Tt(e2) {
  const t2 = [];
  function n2(e3) {
    return t2.splice(t2.indexOf(e3), 1)[0];
  }
  return { $: t2, add: function(r2) {
    if (!(void 0 === e2 || t2.length < e2))
      return Et(new Ne("Not adding Promise because buffer limit was reached."));
    const i2 = r2();
    return -1 === t2.indexOf(i2) && t2.push(i2), i2.then(() => n2(i2)).then(null, () => n2(i2).then(null, () => {
    })), i2;
  }, drain: function(e3) {
    return new Mt((n3, r2) => {
      let i2 = t2.length;
      if (!i2)
        return n3(true);
      const o2 = setTimeout(() => {
        e3 && e3 > 0 && n3(false);
      }, e3);
      t2.forEach((e4) => {
        kt(e4).then(() => {
          --i2 || (clearTimeout(o2), n3(true));
        }, r2);
      });
    });
  } };
}
function Ct(e2) {
  if (!e2)
    return {};
  const t2 = e2.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);
  if (!t2)
    return {};
  const n2 = t2[6] || "", r2 = t2[8] || "";
  return { host: t2[4], path: t2[5], protocol: t2[2], search: n2, hash: r2, relative: t2[5] + n2 + r2 };
}
function Nt(e2, t2 = []) {
  return [e2, t2];
}
function It(e2, t2) {
  const [n2, r2] = e2;
  return [n2, [...r2, t2]];
}
function Rt(e2, t2) {
  const n2 = e2[1];
  for (const e3 of n2) {
    if (t2(e3, e3[0].type))
      return true;
  }
  return false;
}
function Bt(e2, t2) {
  return (t2 || new TextEncoder()).encode(e2);
}
function Ft(e2, t2) {
  const [n2, r2] = e2;
  let i2 = JSON.stringify(n2);
  function o2(e3) {
    "string" == typeof i2 ? i2 = "string" == typeof e3 ? i2 + e3 : [Bt(i2, t2), e3] : i2.push("string" == typeof e3 ? Bt(e3, t2) : e3);
  }
  for (const e3 of r2) {
    const [t3, n3] = e3;
    if (o2(`
${JSON.stringify(t3)}
`), "string" == typeof n3 || n3 instanceof Uint8Array)
      o2(n3);
    else {
      let e4;
      try {
        e4 = JSON.stringify(n3);
      } catch (t4) {
        e4 = JSON.stringify(_t(n3));
      }
      o2(e4);
    }
  }
  return "string" == typeof i2 ? i2 : function(e3) {
    const t3 = e3.reduce((e4, t4) => e4 + t4.length, 0), n3 = new Uint8Array(t3);
    let r3 = 0;
    for (const t4 of e3)
      n3.set(t4, r3), r3 += t4.length;
    return n3;
  }(i2);
}
function Ut(e2, t2) {
  const n2 = "string" == typeof e2.data ? Bt(e2.data, t2) : e2.data;
  return [Ge({ type: "attachment", length: n2.length, filename: e2.filename, content_type: e2.contentType, attachment_type: e2.attachmentType }), n2];
}
function $t(e2) {
  return Vt[e2];
}
function Gt(e2) {
  if (!e2 || !e2.sdk)
    return;
  const { name: t2, version: n2 } = e2.sdk;
  return { name: t2, version: n2 };
}
function Yt(e2, { statusCode: t2, headers: n2 }, r2 = Date.now()) {
  const i2 = { ...e2 }, o2 = n2 && n2["x-sentry-rate-limits"], a2 = n2 && n2["retry-after"];
  if (o2)
    for (const e3 of o2.trim().split(",")) {
      const [t3, n3] = e3.split(":", 2), o3 = parseInt(t3, 10), a3 = 1e3 * (isNaN(o3) ? 60 : o3);
      if (n3)
        for (const e4 of n3.split(";"))
          i2[e4] = r2 + a3;
      else
        i2.all = r2 + a3;
    }
  else
    a2 ? i2.all = r2 + function(e3, t3 = Date.now()) {
      const n3 = parseInt(`${e3}`, 10);
      if (!isNaN(n3))
        return 1e3 * n3;
      const r3 = Date.parse(`${e3}`);
      return isNaN(r3) ? qt : r3 - t3;
    }(a2, r2) : 429 === t2 && (i2.all = r2 + 6e4);
  return i2;
}
function Wt(e2) {
  const t2 = Dt(), n2 = { sid: pt(), init: true, timestamp: t2, started: t2, duration: 0, status: "ok", errors: 0, ignoreDuration: false, toJSON: () => function(e3) {
    return Ge({ sid: `${e3.sid}`, init: e3.init, started: new Date(1e3 * e3.started).toISOString(), timestamp: new Date(1e3 * e3.timestamp).toISOString(), status: e3.status, errors: e3.errors, did: "number" == typeof e3.did || "string" == typeof e3.did ? `${e3.did}` : void 0, duration: e3.duration, attrs: { release: e3.release, environment: e3.environment, ip_address: e3.ipAddress, user_agent: e3.userAgent } });
  }(n2) };
  return e2 && zt(n2, e2), n2;
}
function zt(e2, t2 = {}) {
  if (t2.user && (!e2.ipAddress && t2.user.ip_address && (e2.ipAddress = t2.user.ip_address), e2.did || t2.did || (e2.did = t2.user.id || t2.user.email || t2.user.username)), e2.timestamp = t2.timestamp || Dt(), t2.ignoreDuration && (e2.ignoreDuration = t2.ignoreDuration), t2.sid && (e2.sid = 32 === t2.sid.length ? t2.sid : pt()), void 0 !== t2.init && (e2.init = t2.init), !e2.did && t2.did && (e2.did = `${t2.did}`), "number" == typeof t2.started && (e2.started = t2.started), e2.ignoreDuration)
    e2.duration = void 0;
  else if ("number" == typeof t2.duration)
    e2.duration = t2.duration;
  else {
    const t3 = e2.timestamp - e2.started;
    e2.duration = t3 >= 0 ? t3 : 0;
  }
  t2.release && (e2.release = t2.release), t2.environment && (e2.environment = t2.environment), !e2.ipAddress && t2.ipAddress && (e2.ipAddress = t2.ipAddress), !e2.userAgent && t2.userAgent && (e2.userAgent = t2.userAgent), "number" == typeof t2.errors && (e2.errors = t2.errors), t2.status && (e2.status = t2.status);
}
function Qt() {
  return Se("globalEventProcessors", () => []);
}
function Kt(e2) {
  Qt().push(e2);
}
function Xt() {
  return { traceId: pt(), spanId: pt().substring(16), sampled: false };
}
function nn() {
  return be.__SENTRY__ = be.__SENTRY__ || { extensions: {}, hub: void 0 }, be;
}
function rn(e2) {
  const t2 = nn(), n2 = an(t2);
  return sn(t2, e2), n2;
}
function on() {
  const e2 = nn();
  if (e2.__SENTRY__ && e2.__SENTRY__.acs) {
    const t2 = e2.__SENTRY__.acs.getCurrentHub();
    if (t2)
      return t2;
  }
  return function(e3 = nn()) {
    t2 = e3, t2 && t2.__SENTRY__ && t2.__SENTRY__.hub && !an(e3).isOlderThan(Zt) || sn(e3, new tn());
    var t2;
    return an(e3);
  }(e2);
}
function an(e2) {
  return Se("hub", () => new tn(), e2);
}
function sn(e2, t2) {
  if (!e2)
    return false;
  return (e2.__SENTRY__ = e2.__SENTRY__ || {}).hub = t2, true;
}
function ln(e2, t2) {
  return n2 = { sentry_key: e2.publicKey, sentry_version: cn, ...t2 && { sentry_client: `${t2.name}/${t2.version}` } }, Object.keys(n2).map((e3) => `${encodeURIComponent(e3)}=${encodeURIComponent(n2[e3])}`).join("&");
  var n2;
}
function un(e2, t2, n2, r2) {
  const i2 = Gt(n2), o2 = e2.type && "replay_event" !== e2.type ? e2.type : "event";
  !function(e3, t3) {
    t3 && (e3.sdk = e3.sdk || {}, e3.sdk.name = e3.sdk.name || t3.name, e3.sdk.version = e3.sdk.version || t3.version, e3.sdk.integrations = [...e3.sdk.integrations || [], ...t3.integrations || []], e3.sdk.packages = [...e3.sdk.packages || [], ...t3.packages || []]);
  }(e2, n2 && n2.sdk);
  const a2 = function(e3, t3, n3, r3) {
    const i3 = e3.sdkProcessingMetadata && e3.sdkProcessingMetadata.dynamicSamplingContext;
    return { event_id: e3.event_id, sent_at: (/* @__PURE__ */ new Date()).toISOString(), ...t3 && { sdk: t3 }, ...!!n3 && { dsn: je(r3) }, ...i3 && { trace: Ge({ ...i3 }) } };
  }(e2, i2, r2, t2);
  delete e2.sdkProcessingMetadata;
  return Nt(a2, [[{ type: o2 }, e2]]);
}
function hn(e2, t2) {
  t2[e2.name] = e2, -1 === dn.indexOf(e2.name) && (e2.setupOnce(Kt, on), dn.push(e2.name), ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.log(`Integration installed: ${e2.name}`));
}
function pn(e2, t2, n2, r2) {
  const { normalizeDepth: i2 = 3, normalizeMaxBreadth: o2 = 1e3 } = e2, a2 = { ...t2, event_id: t2.event_id || n2.event_id || pt(), timestamp: t2.timestamp || Lt() }, s2 = n2.integrations || e2.integrations.map((e3) => e3.name);
  !function(e3, t3) {
    const { environment: n3, release: r3, dist: i3, maxValueLength: o3 = 250 } = t3;
    "environment" in e3 || (e3.environment = "environment" in t3 ? n3 : Jt);
    void 0 === e3.release && void 0 !== r3 && (e3.release = r3);
    void 0 === e3.dist && void 0 !== i3 && (e3.dist = i3);
    e3.message && (e3.message = de(e3.message, o3));
    const a3 = e3.exception && e3.exception.values && e3.exception.values[0];
    a3 && a3.value && (a3.value = de(a3.value, o3));
    const s3 = e3.request;
    s3 && s3.url && (s3.url = de(s3.url, o3));
  }(a2, e2), function(e3, t3) {
    t3.length > 0 && (e3.sdk = e3.sdk || {}, e3.sdk.integrations = [...e3.sdk.integrations || [], ...t3]);
  }(a2, s2), void 0 === t2.type && function(e3, t3) {
    const n3 = be._sentryDebugIds;
    if (!n3)
      return;
    let r3;
    const i3 = fn.get(t3);
    i3 ? r3 = i3 : (r3 = /* @__PURE__ */ new Map(), fn.set(t3, r3));
    const o3 = Object.keys(n3).reduce((e4, i4) => {
      let o4;
      const a3 = r3.get(i4);
      a3 ? o4 = a3 : (o4 = t3(i4), r3.set(i4, o4));
      for (let t4 = o4.length - 1; t4 >= 0; t4--) {
        const r4 = o4[t4];
        if (r4.filename) {
          e4[r4.filename] = n3[i4];
          break;
        }
      }
      return e4;
    }, {});
    try {
      e3.exception.values.forEach((e4) => {
        e4.stacktrace.frames.forEach((e5) => {
          e5.filename && (e5.debug_id = o3[e5.filename]);
        });
      });
    } catch (e4) {
    }
  }(a2, e2.stackParser);
  let c2 = r2;
  n2.captureContext && (c2 = Ht.clone(c2).update(n2.captureContext));
  let l2 = kt(a2);
  if (c2) {
    if (c2.getAttachments) {
      const e3 = [...n2.attachments || [], ...c2.getAttachments()];
      e3.length && (n2.attachments = e3);
    }
    l2 = c2.applyToEvent(a2, n2);
  }
  return l2.then((e3) => (e3 && function(e4) {
    const t3 = {};
    try {
      e4.exception.values.forEach((e5) => {
        e5.stacktrace.frames.forEach((e6) => {
          e6.debug_id && (e6.abs_path ? t3[e6.abs_path] = e6.debug_id : e6.filename && (t3[e6.filename] = e6.debug_id), delete e6.debug_id);
        });
      });
    } catch (e5) {
    }
    if (0 === Object.keys(t3).length)
      return;
    e4.debug_meta = e4.debug_meta || {}, e4.debug_meta.images = e4.debug_meta.images || [];
    const n3 = e4.debug_meta.images;
    Object.keys(t3).forEach((e5) => {
      n3.push({ type: "sourcemap", code_file: e5, debug_id: t3[e5] });
    });
  }(e3), "number" == typeof i2 && i2 > 0 ? function(e4, t3, n3) {
    if (!e4)
      return null;
    const r3 = { ...e4, ...e4.breadcrumbs && { breadcrumbs: e4.breadcrumbs.map((e5) => ({ ...e5, ...e5.data && { data: _t(e5.data, t3, n3) } })) }, ...e4.user && { user: _t(e4.user, t3, n3) }, ...e4.contexts && { contexts: _t(e4.contexts, t3, n3) }, ...e4.extra && { extra: _t(e4.extra, t3, n3) } };
    e4.contexts && e4.contexts.trace && r3.contexts && (r3.contexts.trace = e4.contexts.trace, e4.contexts.trace.data && (r3.contexts.trace.data = _t(e4.contexts.trace.data, t3, n3)));
    e4.spans && (r3.spans = e4.spans.map((e5) => (e5.data && (e5.data = _t(e5.data, t3, n3)), e5)));
    return r3;
  }(e3, i2, o2) : e3));
}
function vn(e2) {
  return void 0 === e2.type;
}
function yn(e2) {
  return "transaction" === e2.type;
}
function bn(e2, t2, n2 = Tt(e2.bufferSize || _n)) {
  let r2 = {};
  function i2(i3) {
    const o2 = [];
    if (Rt(i3, (t3, n3) => {
      const i4 = $t(n3);
      if (function(e3, t4, n4 = Date.now()) {
        return function(e4, t5) {
          return e4[t5] || e4.all || 0;
        }(e3, t4) > n4;
      }(r2, i4)) {
        const r3 = wn(t3, n3);
        e2.recordDroppedEvent("ratelimit_backoff", i4, r3);
      } else
        o2.push(t3);
    }), 0 === o2.length)
      return kt();
    const a2 = Nt(i3[0], o2), s2 = (t3) => {
      Rt(a2, (n3, r3) => {
        const i4 = wn(n3, r3);
        e2.recordDroppedEvent(t3, $t(r3), i4);
      });
    };
    return n2.add(() => t2({ body: Ft(a2, e2.textEncoder) }).then((e3) => (void 0 !== e3.statusCode && (e3.statusCode < 200 || e3.statusCode >= 300) && ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn(`Sentry responded with status code ${e3.statusCode} to sent event.`), r2 = Yt(r2, e3), e3), (e3) => {
      throw s2("network_error"), e3;
    })).then((e3) => e3, (e3) => {
      if (e3 instanceof Ne)
        return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.error("Skipped sending event because buffer is full."), s2("queue_overflow"), kt();
      throw e3;
    });
  }
  return i2.__sentry__baseTransport__ = true, { send: i2, flush: (e3) => n2.drain(e3) };
}
function wn(e2, t2) {
  if ("event" === t2 || "transaction" === t2)
    return Array.isArray(e2) ? e2[1] : void 0;
}
function On(e2) {
  try {
    let t2;
    try {
      t2 = e2.exception.values[0].stacktrace.frames;
    } catch (e3) {
    }
    return t2 ? function(e3 = []) {
      for (let t3 = e3.length - 1; t3 >= 0; t3--) {
        const n2 = e3[t3];
        if (n2 && "<anonymous>" !== n2.filename && "[native code]" !== n2.filename)
          return n2.filename || null;
      }
      return null;
    }(t2) : null;
  } catch (t2) {
    return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.error(`Cannot extract url for event ${gt(e2)}`), null;
  }
}
function jn() {
  return An > 0;
}
function Ln(e2, t2 = {}, n2) {
  if ("function" != typeof e2)
    return e2;
  try {
    const t3 = e2.__sentry_wrapped__;
    if (t3)
      return t3;
    if (Fe(e2))
      return e2;
  } catch (t3) {
    return e2;
  }
  const r2 = function() {
    const r3 = Array.prototype.slice.call(arguments);
    try {
      n2 && "function" == typeof n2 && n2.apply(this, arguments);
      const i3 = r3.map((e3) => Ln(e3, t2));
      return e2.apply(this, i3);
    } catch (e3) {
      throw An++, setTimeout(() => {
        An--;
      }), i2 = (n3) => {
        var i3, o2;
        n3.addEventProcessor((e4) => (t2.mechanism && (mt(e4, void 0, void 0), vt(e4, t2.mechanism)), e4.extra = { ...e4.extra, arguments: r3 }, e4)), i3 = e3, on().captureException(i3, { captureContext: o2 });
      }, on().withScope(i2), e3;
    }
    var i2;
  };
  try {
    for (const t3 in e2)
      Object.prototype.hasOwnProperty.call(e2, t3) && (r2[t3] = e2[t3]);
  } catch (e3) {
  }
  Be(r2, e2), Re(e2, "__sentry_wrapped__", r2);
  try {
    Object.getOwnPropertyDescriptor(r2, "name").configurable && Object.defineProperty(r2, "name", { get: () => e2.name });
  } catch (e3) {
  }
  return r2;
}
function Dn(e2, t2) {
  const n2 = In(e2, t2), r2 = { type: t2 && t2.name, value: Bn(t2) };
  return n2.length && (r2.stacktrace = { frames: n2 }), void 0 === r2.type && "" === r2.value && (r2.value = "Unrecoverable error caught"), r2;
}
function Nn(e2, t2) {
  return { exception: { values: [Dn(e2, t2)] } };
}
function In(e2, t2) {
  const n2 = t2.stacktrace || t2.stack || "", r2 = function(e3) {
    if (e3) {
      if ("number" == typeof e3.framesToPop)
        return e3.framesToPop;
      if (Rn.test(e3.message))
        return 1;
    }
    return 0;
  }(t2);
  try {
    return e2(n2, r2);
  } catch (e3) {
  }
  return [];
}
function Bn(e2) {
  const t2 = e2 && e2.message;
  return t2 ? t2.error && "string" == typeof t2.error.message ? t2.error.message : t2 : "No error message";
}
function Fn(e2, t2, n2, r2, i2) {
  let o2;
  if (re(t2) && t2.error) {
    return Nn(e2, t2.error);
  }
  if (ie(t2) || ne(t2, "DOMException")) {
    const i3 = t2;
    if ("stack" in t2)
      o2 = Nn(e2, t2);
    else {
      const t3 = i3.name || (ie(i3) ? "DOMError" : "DOMException"), a2 = i3.message ? `${t3}: ${i3.message}` : t3;
      o2 = Un(e2, a2, n2, r2), mt(o2, a2);
    }
    return "code" in i3 && (o2.tags = { ...o2.tags, "DOMException.code": `${i3.code}` }), o2;
  }
  if (te(t2))
    return Nn(e2, t2);
  if (se(t2) || ce(t2)) {
    return o2 = function(e3, t3, n3, r3) {
      const i3 = on().getClient(), o3 = i3 && i3.getOptions().normalizeDepth, a2 = { exception: { values: [{ type: ce(t3) ? t3.constructor.name : r3 ? "UnhandledRejection" : "Error", value: Vn(t3, { isUnhandledRejection: r3 }) }] }, extra: { __serialized__: bt(t3, o3) } };
      if (n3) {
        const t4 = In(e3, n3);
        t4.length && (a2.exception.values[0].stacktrace = { frames: t4 });
      }
      return a2;
    }(e2, t2, n2, i2), vt(o2, { synthetic: true }), o2;
  }
  return o2 = Un(e2, t2, n2, r2), mt(o2, `${t2}`, void 0), vt(o2, { synthetic: true }), o2;
}
function Un(e2, t2, n2, r2) {
  const i2 = { message: t2 };
  if (r2 && n2) {
    const r3 = In(e2, n2);
    r3.length && (i2.exception = { values: [{ value: t2, stacktrace: { frames: r3 } }] });
  }
  return i2;
}
function Vn(e2, { isUnhandledRejection: t2 }) {
  const n2 = function(e3, t3 = 40) {
    const n3 = Object.keys(Ue(e3));
    if (n3.sort(), !n3.length)
      return "[object has no keys]";
    if (n3[0].length >= t3)
      return de(n3[0], t3);
    for (let e4 = n3.length; e4 > 0; e4--) {
      const r3 = n3.slice(0, e4).join(", ");
      if (!(r3.length > t3))
        return e4 === n3.length ? r3 : de(r3, t3);
    }
    return "";
  }(e2), r2 = t2 ? "promise rejection" : "exception";
  if (re(e2))
    return `Event \`ErrorEvent\` captured as ${r2} with message \`${e2.message}\``;
  if (ce(e2)) {
    return `Event \`${function(e3) {
      try {
        const t3 = Object.getPrototypeOf(e3);
        return t3 ? t3.constructor.name : void 0;
      } catch (e4) {
      }
    }(e2)}\` (type=${e2.type}) captured as ${r2}`;
  }
  return `Object captured as ${r2} with keys: ${n2}`;
}
function Yn(e2) {
  for (let t3 = 0; t3 < e2.args.length; t3++)
    if ("ref=Ref<" === e2.args[t3]) {
      e2.args[t3 + 1] = "viewRef";
      break;
    }
  const t2 = { category: "console", data: { arguments: e2.args, logger: "console" }, level: (n2 = e2.level, "warn" === n2 ? "warning" : Ot.includes(n2) ? n2 : "log"), message: he(e2.args, " ") };
  var n2;
  if ("assert" === e2.level) {
    if (false !== e2.args[0])
      return;
    t2.message = `Assertion failed: ${he(e2.args.slice(1), " ") || "console.assert"}`, t2.data.arguments = e2.args.slice(1);
  }
  on().addBreadcrumb(t2, { input: e2.args, level: e2.level });
}
function Jn(e2) {
  const { startTimestamp: t2, endTimestamp: n2 } = e2, r2 = e2.xhr[Xe];
  if (!t2 || !n2 || !r2)
    return;
  const { method: i2, url: o2, status_code: a2, body: s2 } = r2, c2 = { method: i2, url: o2, status_code: a2 }, l2 = { xhr: e2.xhr, input: s2, startTimestamp: t2, endTimestamp: n2 };
  on().addBreadcrumb({ category: "xhr", data: c2, type: "http" }, l2);
}
function Wn(e2) {
  const { startTimestamp: t2, endTimestamp: n2 } = e2;
  if (n2 && (!e2.fetchData.url.match(/sentry_key/) || "POST" !== e2.fetchData.method))
    if (e2.error) {
      const r2 = e2.fetchData, i2 = { data: e2.error, input: e2.args, startTimestamp: t2, endTimestamp: n2 };
      on().addBreadcrumb({ category: "fetch", data: r2, level: "error", type: "http" }, i2);
    } else {
      const r2 = { ...e2.fetchData, status_code: e2.response && e2.response.status }, i2 = { input: e2.args, response: e2.response, startTimestamp: t2, endTimestamp: n2 };
      on().addBreadcrumb({ category: "fetch", data: r2, type: "http" }, i2);
    }
}
function zn(e2) {
  let t2 = e2.from, n2 = e2.to;
  const r2 = Ct(xn.location.href);
  let i2 = Ct(t2);
  const o2 = Ct(n2);
  i2.path || (i2 = r2), r2.protocol === o2.protocol && r2.host === o2.host && (n2 = o2.relative), r2.protocol === i2.protocol && r2.host === i2.host && (t2 = i2.relative), on().addBreadcrumb({ category: "navigation", data: { from: t2, to: n2 } });
}
function Kn(e2, t2 = function() {
  if (Qn)
    return Qn;
  if (ze(xn.fetch))
    return Qn = xn.fetch.bind(xn);
  const e3 = xn.document;
  let t3 = xn.fetch;
  if (e3 && "function" == typeof e3.createElement)
    try {
      const n2 = e3.createElement("iframe");
      n2.hidden = true, e3.head.appendChild(n2);
      const r2 = n2.contentWindow;
      r2 && r2.fetch && (t3 = r2.fetch), e3.head.removeChild(n2);
    } catch (e4) {
      ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ", e4);
    }
  return Qn = t3.bind(xn);
}()) {
  let n2 = 0, r2 = 0;
  return bn(e2, function(i2) {
    const o2 = i2.body.length;
    n2 += o2, r2++;
    const a2 = { body: i2.body, method: "POST", referrerPolicy: "origin", headers: e2.headers, keepalive: n2 <= 6e4 && r2 < 15, ...e2.fetchOptions };
    try {
      return t2(e2.url, a2).then((e3) => (n2 -= o2, r2--, { statusCode: e3.status, headers: { "x-sentry-rate-limits": e3.headers.get("X-Sentry-Rate-Limits"), "retry-after": e3.headers.get("Retry-After") } }));
    } catch (e3) {
      return Qn = void 0, n2 -= o2, r2--, Et(e3);
    }
  });
}
function Zn() {
  nt("error", (e2) => {
    const [t2, n2, r2] = rr();
    if (!t2.getIntegration(Xn))
      return;
    const { msg: i2, url: o2, line: a2, column: s2, error: c2 } = e2;
    if (jn() || c2 && c2.__sentry_own_request__)
      return;
    const l2 = void 0 === c2 && oe(i2) ? function(e3, t3, n3, r3) {
      const i3 = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;
      let o3 = re(e3) ? e3.message : e3, a3 = "Error";
      const s3 = o3.match(i3);
      s3 && (a3 = s3[1], o3 = s3[2]);
      const c3 = { exception: { values: [{ type: a3, value: o3 }] } };
      return tr(c3, t3, n3, r3);
    }(i2, o2, a2, s2) : tr(Fn(n2, c2 || i2, void 0, r2, false), o2, a2, s2);
    l2.level = "error", nr(t2, c2, l2, "onerror");
  });
}
function er() {
  nt("unhandledrejection", (e2) => {
    const [t2, n2, r2] = rr();
    if (!t2.getIntegration(Xn))
      return;
    let i2 = e2;
    try {
      "reason" in e2 ? i2 = e2.reason : "detail" in e2 && "reason" in e2.detail && (i2 = e2.detail.reason);
    } catch (e3) {
    }
    if (jn() || i2 && i2.__sentry_own_request__)
      return true;
    const o2 = ae(i2) ? { exception: { values: [{ type: "UnhandledRejection", value: `Non-Error promise rejection captured with value: ${String(i2)}` }] } } : Fn(n2, i2, void 0, r2, true);
    o2.level = "error", nr(t2, i2, o2, "onunhandledrejection");
  });
}
function tr(e2, t2, n2, r2) {
  const i2 = e2.exception = e2.exception || {}, o2 = i2.values = i2.values || [], a2 = o2[0] = o2[0] || {}, s2 = a2.stacktrace = a2.stacktrace || {}, c2 = s2.frames = s2.frames || [], l2 = isNaN(parseInt(r2, 10)) ? void 0 : r2, u2 = isNaN(parseInt(n2, 10)) ? void 0 : n2, d2 = oe(t2) && t2.length > 0 ? t2 : function() {
    try {
      return ke.document.location.href;
    } catch (e3) {
      return "";
    }
  }();
  return 0 === c2.length && c2.push({ colno: l2, filename: d2, function: "?", in_app: true, lineno: u2 }), e2;
}
function nr(e2, t2, n2, r2) {
  vt(n2, { handled: false, type: r2 }), e2.captureEvent(n2, { originalException: t2 });
}
function rr() {
  const e2 = on(), t2 = e2.getClient(), n2 = t2 && t2.getOptions() || { stackParser: () => [], attachStacktrace: false };
  return [e2, n2.stackParser, n2.attachStacktrace];
}
function ar(e2) {
  return function(...t2) {
    const n2 = t2[0];
    return t2[0] = Ln(n2, { mechanism: { data: { function: Je(e2) }, handled: true, type: "instrument" } }), e2.apply(this, t2);
  };
}
function sr(e2) {
  return function(t2) {
    return e2.apply(this, [Ln(t2, { mechanism: { data: { function: "requestAnimationFrame", handler: Je(e2) }, handled: true, type: "instrument" } })]);
  };
}
function cr(e2) {
  return function(...t2) {
    const n2 = this;
    return ["onload", "onerror", "onprogress", "onreadystatechange"].forEach((e3) => {
      e3 in n2 && "function" == typeof n2[e3] && Ie(n2, e3, function(t3) {
        const n3 = { mechanism: { data: { function: e3, handler: Je(t3) }, handled: true, type: "instrument" } }, r2 = Fe(t3);
        return r2 && (n3.mechanism.data.handler = Je(r2)), Ln(t3, n3);
      });
    }), e2.apply(this, t2);
  };
}
function lr(e2) {
  const t2 = xn, n2 = t2[e2] && t2[e2].prototype;
  n2 && n2.hasOwnProperty && n2.hasOwnProperty("addEventListener") && (Ie(n2, "addEventListener", function(t3) {
    return function(n3, r2, i2) {
      try {
        "function" == typeof r2.handleEvent && (r2.handleEvent = Ln(r2.handleEvent, { mechanism: { data: { function: "handleEvent", handler: Je(r2), target: e2 }, handled: true, type: "instrument" } }));
      } catch (e3) {
      }
      return t3.apply(this, [n3, Ln(r2, { mechanism: { data: { function: "addEventListener", handler: Je(r2), target: e2 }, handled: true, type: "instrument" } }), i2]);
    };
  }), Ie(n2, "removeEventListener", function(e3) {
    return function(t3, n3, r2) {
      const i2 = n3;
      try {
        const n4 = i2 && i2.__sentry_wrapped__;
        n4 && e3.call(this, t3, n4, r2);
      } catch (e4) {
      }
      return e3.call(this, t3, i2, r2);
    };
  }));
}
function pr(e2, t2) {
  let n2 = mr(e2), r2 = mr(t2);
  if (!n2 && !r2)
    return true;
  if (n2 && !r2 || !n2 && r2)
    return false;
  if (r2.length !== n2.length)
    return false;
  for (let e3 = 0; e3 < r2.length; e3++) {
    const t3 = r2[e3], i2 = n2[e3];
    if (t3.filename !== i2.filename || t3.lineno !== i2.lineno || t3.colno !== i2.colno || t3.function !== i2.function)
      return false;
  }
  return true;
}
function fr(e2, t2) {
  let n2 = e2.fingerprint, r2 = t2.fingerprint;
  if (!n2 && !r2)
    return true;
  if (n2 && !r2 || !n2 && r2)
    return false;
  try {
    return !(n2.join("") !== r2.join(""));
  } catch (e3) {
    return false;
  }
}
function gr(e2) {
  return e2.exception && e2.exception.values && e2.exception.values[0];
}
function mr(e2) {
  const t2 = e2.exception;
  if (t2)
    try {
      return t2.values[0].stacktrace.frames;
    } catch (e3) {
      return;
    }
}
function So() {
  return !ko() && "undefined" != typeof window && window.navigator && window.navigator.userAgent ? window.navigator.userAgent : "";
}
function ko() {
  return "undefined" != typeof navigator && navigator.product && "ReactNative" === navigator.product;
}
function Eo() {
  return !!So().match(/iPad|iPhone|iPod/i);
}
function Mo() {
  return navigator && navigator.mediaDevices && navigator.mediaDevices.getUserMedia;
}
function To() {
  return !!(navigator && navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) && (function(e2, t2) {
    if (!e2 || !t2)
      return true;
    switch (e2) {
      case "Chrome":
        return t2.major >= 75;
      case "Safari":
        return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection") && !(13 === t2.major && 0 === t2.minor && 0 === t2.point);
      case "Firefox":
        return t2.major >= 67;
    }
    return true;
  }(Lo(), Do()) || ko());
}
function Co() {
  if (ko())
    return false;
  if (!document)
    return false;
  var e2 = document.createElement("iframe");
  return !!e2.requestFullscreen || !!e2.webkitRequestFullscreen;
}
function Oo() {
  var e2 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
  return !ko() && (e2 ? function() {
    if (jo())
      return false;
    return ["Chrome", "Firefox"].includes(Lo());
  }() : function() {
    if (jo())
      return false;
    var e3 = Lo();
    if (Eo() && "Safari" === e3) {
      var t2 = Ro();
      if (15 === t2.major && t2.minor < 4)
        return false;
    }
    return ["Chrome", "Firefox", "Safari"].includes(e3);
  }());
}
function xo() {
  return !ko() && (!jo() && ("undefined" != typeof AudioWorkletNode && Po.includes(Lo())));
}
function Ao() {
  return Mo() && !function() {
    var e2, t2 = Lo();
    if (!So())
      return true;
    switch (t2) {
      case "Chrome":
        return (e2 = No()).major && e2.major > 0 && e2.major < 61;
      case "Firefox":
        return (e2 = Bo()).major < 78;
      case "Safari":
        return (e2 = Ro()).major < 12;
      default:
        return true;
    }
  }();
}
function jo() {
  var e2, t2, n2 = So(), r2 = n2.match(/Mac/) && (!ko() && "undefined" != typeof window && null !== (e2 = window) && void 0 !== e2 && null !== (t2 = e2.navigator) && void 0 !== t2 && t2.maxTouchPoints ? window.navigator.maxTouchPoints : 0) >= 5;
  return !!(n2.match(/Mobi/) || n2.match(/Android/) || r2) || (!!So().match(/DailyAnd\//) || void 0);
}
function Lo() {
  if ("undefined" != typeof window) {
    var e2 = So();
    return Io() ? "Safari" : e2.indexOf("Edge") > -1 ? "Edge" : e2.match(/Chrome\//) ? "Chrome" : e2.indexOf("Safari") > -1 ? "Safari" : e2.indexOf("Firefox") > -1 ? "Firefox" : e2.indexOf("MSIE") > -1 || e2.indexOf(".NET") > -1 ? "IE" : "Unknown Browser";
  }
}
function Do() {
  switch (Lo()) {
    case "Chrome":
      return No();
    case "Safari":
      return Ro();
    case "Firefox":
      return Bo();
    case "Edge":
      return function() {
        var e2 = 0, t2 = 0;
        if ("undefined" != typeof window) {
          var n2 = So().match(/Edge\/(\d+).(\d+)/);
          if (n2)
            try {
              e2 = parseInt(n2[1]), t2 = parseInt(n2[2]);
            } catch (e3) {
            }
        }
        return { major: e2, minor: t2 };
      }();
  }
}
function No() {
  var e2 = 0, t2 = 0, n2 = 0, r2 = 0, i2 = false;
  if ("undefined" != typeof window) {
    var o2 = So(), a2 = o2.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);
    if (a2)
      try {
        e2 = parseInt(a2[1]), t2 = parseInt(a2[2]), n2 = parseInt(a2[3]), r2 = parseInt(a2[4]), i2 = o2.indexOf("OPR/") > -1;
      } catch (e3) {
      }
  }
  return { major: e2, minor: t2, build: n2, patch: r2, opera: i2 };
}
function Io() {
  return Eo() && Mo();
}
function Ro() {
  var e2 = 0, t2 = 0, n2 = 0;
  if ("undefined" != typeof window) {
    var r2 = So().match(/Version\/(\d+).(\d+)(.(\d+))?/);
    if (r2)
      try {
        e2 = parseInt(r2[1]), t2 = parseInt(r2[2]), n2 = parseInt(r2[4]);
      } catch (e3) {
      }
    else
      Io() && (e2 = 14, t2 = 0, n2 = 3);
  }
  return { major: e2, minor: t2, point: n2 };
}
function Bo() {
  var e2 = 0, t2 = 0;
  if ("undefined" != typeof window) {
    var n2 = So().match(/Firefox\/(\d+).(\d+)/);
    if (n2)
      try {
        e2 = parseInt(n2[1]), t2 = parseInt(n2[2]);
      } catch (e3) {
      }
  }
  return { major: e2, minor: t2 };
}
function Uo(e2, t2) {
  var n2 = Object.keys(e2);
  if (Object.getOwnPropertySymbols) {
    var r2 = Object.getOwnPropertySymbols(e2);
    t2 && (r2 = r2.filter(function(t3) {
      return Object.getOwnPropertyDescriptor(e2, t3).enumerable;
    })), n2.push.apply(n2, r2);
  }
  return n2;
}
function Vo(e2) {
  for (var t2 = 1; t2 < arguments.length; t2++) {
    var n2 = null != arguments[t2] ? arguments[t2] : {};
    t2 % 2 ? Uo(Object(n2), true).forEach(function(t3) {
      p(e2, t3, n2[t3]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e2, Object.getOwnPropertyDescriptors(n2)) : Uo(Object(n2)).forEach(function(t3) {
      Object.defineProperty(e2, t3, Object.getOwnPropertyDescriptor(n2, t3));
    });
  }
  return e2;
}
function $o(e2) {
  var t2 = function() {
    if ("undefined" == typeof Reflect || !Reflect.construct)
      return false;
    if (Reflect.construct.sham)
      return false;
    if ("function" == typeof Proxy)
      return true;
    try {
      return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
      })), true;
    } catch (e3) {
      return false;
    }
  }();
  return function() {
    var n2, r2 = h(e2);
    if (t2) {
      var i2 = h(this).constructor;
      n2 = Reflect.construct(r2, arguments, i2);
    } else
      n2 = r2.apply(this, arguments);
    return d(this, n2);
  };
}
function qo(e2) {
  var t2 = function() {
    if ("undefined" == typeof Reflect || !Reflect.construct)
      return false;
    if (Reflect.construct.sham)
      return false;
    if ("function" == typeof Proxy)
      return true;
    try {
      return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
      })), true;
    } catch (e3) {
      return false;
    }
  }();
  return function() {
    var n2, r2 = h(e2);
    if (t2) {
      var i2 = h(this).constructor;
      n2 = Reflect.construct(r2, arguments, i2);
    } else
      n2 = r2.apply(this, arguments);
    return d(this, n2);
  };
}
function Qo(e2, t2, n2) {
  return Qo = function() {
    if ("undefined" == typeof Reflect || !Reflect.construct)
      return false;
    if (Reflect.construct.sham)
      return false;
    if ("function" == typeof Proxy)
      return true;
    try {
      return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
      })), true;
    } catch (e3) {
      return false;
    }
  }() ? Reflect.construct.bind() : function(e3, t3, n3) {
    var r2 = [null];
    r2.push.apply(r2, t3);
    var i2 = new (Function.bind.apply(e3, r2))();
    return n3 && l(i2, n3.prototype), i2;
  }, Qo.apply(null, arguments);
}
function Ko(e2) {
  var t2 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
  return Ko = function(e3) {
    if (null === e3 || (n2 = e3, -1 === Function.toString.call(n2).indexOf("[native code]")))
      return e3;
    var n2;
    if ("function" != typeof e3)
      throw new TypeError("Super expression must either be null or a function");
    if (void 0 !== t2) {
      if (t2.has(e3))
        return t2.get(e3);
      t2.set(e3, r2);
    }
    function r2() {
      return Qo(e3, arguments, h(this).constructor);
    }
    return r2.prototype = Object.create(e3.prototype, { constructor: { value: r2, enumerable: false, writable: true, configurable: true } }), l(r2, e3);
  }, Ko(e2);
}
function Xo(e2) {
  var t2 = function() {
    if ("undefined" == typeof Reflect || !Reflect.construct)
      return false;
    if (Reflect.construct.sham)
      return false;
    if ("function" == typeof Proxy)
      return true;
    try {
      return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
      })), true;
    } catch (e3) {
      return false;
    }
  }();
  return function() {
    var n2, r2 = h(e2);
    if (t2) {
      var i2 = h(this).constructor;
      n2 = Reflect.construct(r2, arguments, i2);
    } else
      n2 = r2.apply(this, arguments);
    return d(this, n2);
  };
}
function ha(e2) {
  for (var t2 = store.getState(), n2 = 0, r2 = ["cam", "screen"]; n2 < r2.length; n2++)
    for (var i2 = r2[n2], o2 = 0, a2 = ["video", "audio"]; o2 < a2.length; o2++) {
      var s2 = a2[o2], c2 = "cam" === i2 ? s2 : "screen".concat(s2.charAt(0).toUpperCase() + s2.slice(1)), l2 = e2.tracks[c2];
      if (l2) {
        var u2 = e2.local ? sa(t2, i2, s2) : ca(t2, e2.session_id, i2, s2);
        "playable" === l2.state && (l2.track = u2), l2.persistentTrack = u2;
      }
    }
}
function pa(e2) {
  try {
    var t2 = store.getState();
    for (var n2 in e2.tracks)
      if (!fa(n2)) {
        var r2 = e2.tracks[n2].kind;
        if (r2) {
          var i2 = e2.tracks[n2];
          if (i2) {
            var o2 = e2.local ? da(t2, n2) : ca(t2, e2.session_id, n2, r2);
            "playable" === i2.state && (e2.tracks[n2].track = o2), i2.persistentTrack = o2;
          }
        } else
          console.error("unknown type for custom track");
      }
  } catch (e3) {
    console.error(e3);
  }
}
function fa(e2) {
  return ["video", "audio", "screenVideo", "screenAudio"].includes(e2);
}
function ga(e2, t2) {
  var n2 = store.getState();
  if (e2.local) {
    if (e2.audio)
      try {
        e2.audioTrack = n2.local.streams.cam.stream.getAudioTracks()[0], e2.audioTrack || (e2.audio = false);
      } catch (e3) {
      }
    if (e2.video)
      try {
        e2.videoTrack = n2.local.streams.cam.stream.getVideoTracks()[0], e2.videoTrack || (e2.video = false);
      } catch (e3) {
      }
    if (e2.screen)
      try {
        e2.screenVideoTrack = n2.local.streams.screen.stream.getVideoTracks()[0], e2.screenAudioTrack = n2.local.streams.screen.stream.getAudioTracks()[0], e2.screenVideoTrack || e2.screenAudioTrack || (e2.screen = false);
      } catch (e3) {
      }
  } else {
    var r2 = true;
    try {
      var i2 = n2.participants[e2.session_id];
      i2 && i2.public && i2.public.rtcType && "peer-to-peer" === i2.public.rtcType.impl && i2.private && !["connected", "completed"].includes(i2.private.peeringState) && (r2 = false);
    } catch (e3) {
      console.error(e3);
    }
    if (!r2)
      return e2.audio = false, e2.audioTrack = false, e2.video = false, e2.videoTrack = false, e2.screen = false, void (e2.screenTrack = false);
    try {
      n2.streams;
      if (e2.audio && aa(n2, e2.session_id, "cam-audio")) {
        var o2 = ca(n2, e2.session_id, "cam", "audio");
        o2 && (t2 && t2.audioTrack && t2.audioTrack.id === o2.id ? e2.audioTrack = o2 : o2.muted || (e2.audioTrack = o2)), e2.audioTrack || (e2.audio = false);
      }
      if (e2.video && aa(n2, e2.session_id, "cam-video")) {
        var a2 = ca(n2, e2.session_id, "cam", "video");
        a2 && (t2 && t2.videoTrack && t2.videoTrack.id === a2.id ? e2.videoTrack = a2 : a2.muted || (e2.videoTrack = a2)), e2.videoTrack || (e2.video = false);
      }
      if (e2.screen && aa(n2, e2.session_id, "screen-audio")) {
        var s2 = ca(n2, e2.session_id, "screen", "audio");
        s2 && (t2 && t2.screenAudioTrack && t2.screenAudioTrack.id === s2.id ? e2.screenAudioTrack = s2 : s2.muted || (e2.screenAudioTrack = s2));
      }
      if (e2.screen && aa(n2, e2.session_id, "screen-video")) {
        var c2 = ca(n2, e2.session_id, "screen", "video");
        c2 && (t2 && t2.screenVideoTrack && t2.screenVideoTrack.id === c2.id ? e2.screenVideoTrack = c2 : c2.muted || (e2.screenVideoTrack = c2));
      }
      e2.screenVideoTrack || e2.screenAudioTrack || (e2.screen = false);
    } catch (e3) {
      console.error("unexpected error matching up tracks", e3);
    }
  }
}
function ma(e2, t2) {
  var n2 = "undefined" != typeof Symbol && e2[Symbol.iterator] || e2["@@iterator"];
  if (!n2) {
    if (Array.isArray(e2) || (n2 = function(e3, t3) {
      if (!e3)
        return;
      if ("string" == typeof e3)
        return va(e3, t3);
      var n3 = Object.prototype.toString.call(e3).slice(8, -1);
      "Object" === n3 && e3.constructor && (n3 = e3.constructor.name);
      if ("Map" === n3 || "Set" === n3)
        return Array.from(e3);
      if ("Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3))
        return va(e3, t3);
    }(e2)) || t2 && e2 && "number" == typeof e2.length) {
      n2 && (e2 = n2);
      var r2 = 0, i2 = function() {
      };
      return { s: i2, n: function() {
        return r2 >= e2.length ? { done: true } : { done: false, value: e2[r2++] };
      }, e: function(e3) {
        throw e3;
      }, f: i2 };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var o2, a2 = true, s2 = false;
  return { s: function() {
    n2 = n2.call(e2);
  }, n: function() {
    var e3 = n2.next();
    return a2 = e3.done, e3;
  }, e: function(e3) {
    s2 = true, o2 = e3;
  }, f: function() {
    try {
      a2 || null == n2.return || n2.return();
    } finally {
      if (s2)
        throw o2;
    }
  } };
}
function va(e2, t2) {
  (null == t2 || t2 > e2.length) && (t2 = e2.length);
  for (var n2 = 0, r2 = new Array(t2); n2 < t2; n2++)
    r2[n2] = e2[n2];
  return r2;
}
function ba(e2, t2) {
  var n2 = "undefined" != typeof Symbol && e2[Symbol.iterator] || e2["@@iterator"];
  if (!n2) {
    if (Array.isArray(e2) || (n2 = function(e3, t3) {
      if (!e3)
        return;
      if ("string" == typeof e3)
        return wa(e3, t3);
      var n3 = Object.prototype.toString.call(e3).slice(8, -1);
      "Object" === n3 && e3.constructor && (n3 = e3.constructor.name);
      if ("Map" === n3 || "Set" === n3)
        return Array.from(e3);
      if ("Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3))
        return wa(e3, t3);
    }(e2)) || t2 && e2 && "number" == typeof e2.length) {
      n2 && (e2 = n2);
      var r2 = 0, i2 = function() {
      };
      return { s: i2, n: function() {
        return r2 >= e2.length ? { done: true } : { done: false, value: e2[r2++] };
      }, e: function(e3) {
        throw e3;
      }, f: i2 };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var o2, a2 = true, s2 = false;
  return { s: function() {
    n2 = n2.call(e2);
  }, n: function() {
    var e3 = n2.next();
    return a2 = e3.done, e3;
  }, e: function(e3) {
    s2 = true, o2 = e3;
  }, f: function() {
    try {
      a2 || null == n2.return || n2.return();
    } finally {
      if (s2)
        throw o2;
    }
  } };
}
function wa(e2, t2) {
  (null == t2 || t2 > e2.length) && (t2 = e2.length);
  for (var n2 = 0, r2 = new Array(t2); n2 < t2; n2++)
    r2[n2] = e2[n2];
  return r2;
}
function Ma(e2) {
  Ca() ? function(e3) {
    ya.has(e3) || (ya.set(e3, {}), navigator.mediaDevices.enumerateDevices().then(function(t2) {
      ya.has(e3) && (ya.get(e3).lastDevicesString = JSON.stringify(t2), _a || (_a = function() {
        var e4 = n(function* () {
          var e5, t3 = yield navigator.mediaDevices.enumerateDevices(), n2 = ma(ya.keys());
          try {
            for (n2.s(); !(e5 = n2.n()).done; ) {
              var r2 = e5.value, i2 = JSON.stringify(t3);
              i2 !== ya.get(r2).lastDevicesString && (ya.get(r2).lastDevicesString = i2, r2(t3));
            }
          } catch (e6) {
            n2.e(e6);
          } finally {
            n2.f();
          }
        });
        return function() {
          return e4.apply(this, arguments);
        };
      }(), navigator.mediaDevices.addEventListener("devicechange", _a)));
    }));
  }(e2) : function(e3) {
    Sa.has(e3) || (Sa.set(e3, {}), navigator.mediaDevices.enumerateDevices().then(function(t2) {
      Sa.has(e3) && (Sa.get(e3).lastDevicesString = JSON.stringify(t2), ka || (ka = setInterval(n(function* () {
        var e4, t3 = yield navigator.mediaDevices.enumerateDevices(), n2 = ba(Sa.keys());
        try {
          for (n2.s(); !(e4 = n2.n()).done; ) {
            var r2 = e4.value, i2 = JSON.stringify(t3);
            i2 !== Sa.get(r2).lastDevicesString && (Sa.get(r2).lastDevicesString = i2, r2(t3));
          }
        } catch (e5) {
          n2.e(e5);
        } finally {
          n2.f();
        }
      }), Ea)));
    }));
  }(e2);
}
function Ta(e2) {
  Ca() ? function(e3) {
    ya.has(e3) && (ya.delete(e3), 0 === ya.size && _a && (navigator.mediaDevices.removeEventListener("devicechange", _a), _a = null));
  }(e2) : function(e3) {
    Sa.has(e3) && (Sa.delete(e3), 0 === Sa.size && ka && (clearInterval(ka), ka = null));
  }(e2);
}
function Ca() {
  return ko() || void 0 !== navigator.mediaDevices.ondevicechange;
}
function Pa(e2, t2) {
  var n2 = t2.isLocalScreenVideo;
  return e2 && "live" === e2.readyState && !function(e3, t3) {
    return (!t3.isLocalScreenVideo || "Chrome" !== Lo()) && e3.muted && !Oa.has(e3.id);
  }(e2, { isLocalScreenVideo: n2 });
}
function Da(e2, t2) {
  var n2 = Object.keys(e2);
  if (Object.getOwnPropertySymbols) {
    var r2 = Object.getOwnPropertySymbols(e2);
    t2 && (r2 = r2.filter(function(t3) {
      return Object.getOwnPropertyDescriptor(e2, t3).enumerable;
    })), n2.push.apply(n2, r2);
  }
  return n2;
}
function Na(e2) {
  for (var t2 = 1; t2 < arguments.length; t2++) {
    var n2 = null != arguments[t2] ? arguments[t2] : {};
    t2 % 2 ? Da(Object(n2), true).forEach(function(t3) {
      p(e2, t3, n2[t3]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e2, Object.getOwnPropertyDescriptors(n2)) : Da(Object(n2)).forEach(function(t3) {
      Object.defineProperty(e2, t3, Object.getOwnPropertyDescriptor(n2, t3));
    });
  }
  return e2;
}
function Ia(e2) {
  var t2 = function() {
    if ("undefined" == typeof Reflect || !Reflect.construct)
      return false;
    if (Reflect.construct.sham)
      return false;
    if ("function" == typeof Proxy)
      return true;
    try {
      return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
      })), true;
    } catch (e3) {
      return false;
    }
  }();
  return function() {
    var n2, r2 = h(e2);
    if (t2) {
      var i2 = h(this).constructor;
      n2 = Reflect.construct(r2, arguments, i2);
    } else
      n2 = r2.apply(this, arguments);
    return d(this, n2);
  };
}
function Ra(e2, t2) {
  var n2 = "undefined" != typeof Symbol && e2[Symbol.iterator] || e2["@@iterator"];
  if (!n2) {
    if (Array.isArray(e2) || (n2 = function(e3, t3) {
      if (!e3)
        return;
      if ("string" == typeof e3)
        return Ba(e3, t3);
      var n3 = Object.prototype.toString.call(e3).slice(8, -1);
      "Object" === n3 && e3.constructor && (n3 = e3.constructor.name);
      if ("Map" === n3 || "Set" === n3)
        return Array.from(e3);
      if ("Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3))
        return Ba(e3, t3);
    }(e2)) || t2 && e2 && "number" == typeof e2.length) {
      n2 && (e2 = n2);
      var r2 = 0, i2 = function() {
      };
      return { s: i2, n: function() {
        return r2 >= e2.length ? { done: true } : { done: false, value: e2[r2++] };
      }, e: function(e3) {
        throw e3;
      }, f: i2 };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var o2, a2 = true, s2 = false;
  return { s: function() {
    n2 = n2.call(e2);
  }, n: function() {
    var e3 = n2.next();
    return a2 = e3.done, e3;
  }, e: function(e3) {
    s2 = true, o2 = e3;
  }, f: function() {
    try {
      a2 || null == n2.return || n2.return();
    } finally {
      if (s2)
        throw o2;
    }
  } };
}
function Ba(e2, t2) {
  (null == t2 || t2 > e2.length) && (t2 = e2.length);
  for (var n2 = 0, r2 = new Array(t2); n2 < t2; n2++)
    r2[n2] = e2[n2];
  return r2;
}
function Xa(e2) {
  var t2 = {};
  for (var n2 in e2)
    e2[n2] instanceof MediaStreamTrack ? t2[n2] = fo : "dailyConfig" === n2 ? (e2[n2].modifyLocalSdpHook && (window._dailyConfig && (window._dailyConfig.modifyLocalSdpHook = e2[n2].modifyLocalSdpHook), delete e2[n2].modifyLocalSdpHook), e2[n2].modifyRemoteSdpHook && (window._dailyConfig && (window._dailyConfig.modifyRemoteSdpHook = e2[n2].modifyRemoteSdpHook), delete e2[n2].modifyRemoteSdpHook), t2[n2] = e2[n2]) : t2[n2] = e2[n2];
  return t2;
}
function Za(e2) {
  var t2 = arguments.length > 2 ? arguments[2] : void 0;
  if (e2 !== Er) {
    var n2 = "".concat(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "This daily-js method", " only supported after join.");
    throw t2 && (n2 += " ".concat(t2)), console.error(n2), new Error(n2);
  }
}
function es(e2, t2) {
  return [kr, Er].includes(e2) || t2;
}
function ts(e2, t2) {
  var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "This daily-js method", r2 = arguments.length > 3 ? arguments[3] : void 0;
  if (es(e2, t2)) {
    var i2 = "".concat(n2, " not supported after joining a meeting.");
    throw r2 && (i2 += " ".concat(r2)), console.error(i2), new Error(i2);
  }
}
function ns(e2) {
  var t2 = arguments.length > 2 ? arguments[2] : void 0;
  if (!e2) {
    var n2 = "".concat(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "This daily-js method", " requires preAuth(), startCamera(), or join() to initialize call state.");
    throw t2 && (n2 += " ".concat(t2)), console.error(n2), new Error(n2);
  }
}
function rs(e2) {
  if (e2) {
    var t2 = "A pre-call quality test is in progress. Please try ".concat(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "This daily-js method", " again once testing has completed. Use stopTestCallQuality() to end it early.");
    throw console.error(t2), new Error(t2);
  }
}
function is(e2) {
  if (!e2) {
    var t2 = "".concat(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "This daily-js method", " is only supported on custom callObject instances");
    throw console.error(t2), new Error(t2);
  }
}
function os(e2) {
  if (e2) {
    var t2 = "".concat(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "This daily-js method", " is only supported as part of Daily's Prebuilt");
    throw console.error(t2), new Error(t2);
  }
}
function as() {
  if (ko())
    throw new Error("This daily-js method is not currently supported in React Native");
}
function ss() {
  if (!ko())
    throw new Error("This daily-js method is only supported in React Native");
}
function cs(e2) {
  if (void 0 === e2)
    return true;
  var t2;
  if ("string" == typeof e2)
    t2 = e2;
  else
    try {
      t2 = JSON.stringify(e2), N(JSON.parse(t2), e2) || console.warn("The userData provided will be modified when serialized.");
    } catch (e3) {
      throw Error("userData must be serializable to JSON: ".concat(e3));
    }
  if (t2.length > 4096)
    throw Error("userData is too large (".concat(t2.length, " characters). Maximum size suppported is ").concat(4096, "."));
  return true;
}
function ls(e2, t2) {
  for (var n2 = t2.allowAllParticipantsKey, r2 = function(e3) {
    var t3 = ["local"];
    return n2 || t3.push("*"), e3 && !t3.includes(e3);
  }, i2 = function(e3) {
    return !!(void 0 === e3.layer || Number.isInteger(e3.layer) && e3.layer >= 0 || "inherit" === e3.layer);
  }, o2 = function(e3) {
    return !!e3 && (!(e3.video && !i2(e3.video)) && !(e3.screenVideo && !i2(e3.screenVideo)));
  }, a2 = 0, s2 = Object.entries(e2); a2 < s2.length; a2++) {
    var c2 = g(s2[a2], 2), l2 = c2[0], u2 = c2[1];
    if (!r2(l2) || !o2(u2))
      return false;
  }
  return true;
}
function us(e2) {
  return "object" === i(e2) && (!!(e2.video && "object" === i(e2.video) || e2.audio && "object" === i(e2.audio)) && (!(e2.video && !function(e3) {
    var t3 = ["type", "config"];
    if (!e3)
      return false;
    if ("object" !== i(e3))
      return false;
    if (!function(e4) {
      if ("string" != typeof e4)
        return false;
      if (!Object.values(go).includes(e4))
        return console.error("inputSettings video processor type invalid"), false;
      return true;
    }(e3.type))
      return false;
    if (e3.config) {
      if ("object" !== i(e3.config))
        return false;
      if (!function(e4, t4) {
        var n3 = Object.keys(t4);
        if (0 === n3.length)
          return true;
        var r3 = "invalid object in inputSettings -> video -> processor -> config";
        switch (e4) {
          case go.BGBLUR:
            return n3.length > 1 || "strength" !== n3[0] ? (console.error(r3), false) : !("number" != typeof t4.strength || t4.strength <= 0 || t4.strength > 1 || isNaN(t4.strength)) || (console.error("".concat(r3, "; expected: {0 < strength <= 1}, got: ").concat(t4.strength)), false);
          case go.BGIMAGE:
            return !(void 0 !== t4.source && !function(e5) {
              if ("default" === e5.source)
                return e5.type = "default", true;
              if (e5.source instanceof ArrayBuffer)
                return true;
              if (Z(e5.source))
                return e5.type = "url", !!function(e6) {
                  var t6 = new URL(e6), n5 = t6.pathname;
                  if ("data:" === t6.protocol)
                    try {
                      var r4 = n5.substring(n5.indexOf(":") + 1, n5.indexOf(";")).split("/")[1];
                      return _o.includes(r4);
                    } catch (e7) {
                      return console.error("failed to deduce blob content type", e7), false;
                    }
                  var i2 = n5.split(".").at(-1).toLowerCase().trim();
                  return _o.includes(i2);
                }(e5.source) || (console.error("invalid image type; supported types: [".concat(_o.join(", "), "]")), false);
              return t5 = e5.source, n4 = Number(t5), isNaN(n4) || !Number.isInteger(n4) || n4 <= 0 || n4 > yo ? (console.error("invalid image selection; must be an int, > 0, <= ".concat(yo)), false) : (e5.type = "daily-preselect", true);
              var t5, n4;
            }(t4));
          default:
            return true;
        }
      }(e3.type, e3.config))
        return false;
    }
    return Object.keys(e3).filter(function(e4) {
      return !t3.includes(e4);
    }).forEach(function(t4) {
      console.warn("invalid key inputSettings -> video -> processor : ".concat(t4)), delete e3[t4];
    }), true;
  }(e2.video.processor)) && !(e2.audio && (n2 = e2.audio.processor, r2 = ["type"], !n2 || "object" !== i(n2) || (Object.keys(n2).filter(function(e3) {
    return !r2.includes(e3);
  }).forEach(function(e3) {
    console.warn("invalid key inputSettings -> audio -> processor : ".concat(e3)), delete n2[e3];
  }), t2 = n2.type, "string" != typeof t2 || !Object.values(mo).includes(t2) && (console.error("inputSettings audio processor type invalid"), 1))))));
  var t2, n2, r2;
}
function ds(e2) {
  var t2, n2, r2 = [];
  e2.video && !Oo(null !== (t2 = null === (n2 = window._dailyConfig) || void 0 === n2 ? void 0 : n2.useLegacyVideoProcessor) && void 0 !== t2 && t2) && (delete e2.video, r2.push("video")), e2.audio && !xo() && (delete e2.audio, r2.push("audio")), r2.length > 0 && console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(r2.join(", ")));
}
function hs() {
  var e2 = Object.values(go).join(" | "), t2 = Object.values(mo).join(" | ");
  return "inputSettings must be of the form: { video?: { processor: { type: [ ".concat(e2, " ], config?: {} } }, audio?: { processor: {type: [ ").concat(t2, " ] } } }");
}
function ps(e2) {
  var t2 = e2.allowAllParticipantsKey;
  return "receiveSettings must be of the form { [<remote participant id> | ".concat(Rr).concat(t2 ? ' | "'.concat(Br, '"') : "", "]: ") + '{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}';
}
function fs() {
  return "customIntegrations should be an object of type ".concat(JSON.stringify(za), ".");
}
function gs(e2) {
  if (e2 && "object" !== i(e2) || Array.isArray(e2))
    return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Wa), ".")), false;
  if (e2)
    for (var t2 = 0, n2 = Object.entries(e2); t2 < n2.length; t2++)
      for (var r2 = g(n2[t2], 1)[0], o2 = 0, a2 = Object.entries(e2[r2]); o2 < a2.length; o2++) {
        var s2 = g(a2[o2], 2), c2 = s2[0], l2 = s2[1];
        if ("iconPath" === c2 && !Z(l2))
          return console.error("customTrayButton ".concat(c2, " should be a url.")), false;
        if ("iconPathDarkMode" === c2 && !Z(l2))
          return console.error("customTrayButton ".concat(c2, " should be a url.")), false;
        var u2 = Wa.id[c2];
        if (!u2)
          return console.error("customTrayButton does not support key ".concat(c2)), false;
        if (i(l2) !== u2)
          return console.error("customTrayButton ".concat(c2, " should be a ").concat(u2, ".")), false;
      }
  return true;
}
function ms(e2) {
  if (!e2 || e2 && "object" !== i(e2) || Array.isArray(e2))
    return console.error(fs()), false;
  for (var t2 = function(e3) {
    return "".concat(e3, " should be ").concat(za.id[e3]);
  }, n2 = function(e3, t3) {
    return console.error("customIntegration ".concat(e3, ": ").concat(t3));
  }, r2 = 0, o2 = Object.entries(e2); r2 < o2.length; r2++) {
    var a2 = g(o2[r2], 1)[0];
    if (!("label" in e2[a2]))
      return n2(a2, "label is required"), false;
    if (!("location" in e2[a2]))
      return n2(a2, "location is required"), false;
    if (!("src" in e2[a2]) && !("srcdoc" in e2[a2]))
      return n2(a2, "src or srcdoc is required"), false;
    for (var s2 = 0, c2 = Object.entries(e2[a2]); s2 < c2.length; s2++) {
      var l2 = g(c2[s2], 2), u2 = l2[0], d2 = l2[1];
      switch (u2) {
        case "allow":
        case "csp":
        case "name":
        case "referrerPolicy":
        case "sandbox":
          if ("string" != typeof d2)
            return n2(a2, t2(u2)), false;
          break;
        case "iconURL":
          if (!Z(d2))
            return n2(a2, "".concat(u2, " should be a url")), false;
          break;
        case "src":
          if ("srcdoc" in e2[a2])
            return n2(a2, "cannot have both src and srcdoc"), false;
          if (!Z(d2))
            return n2(a2, 'src "'.concat(d2, '" is not a valid URL')), false;
          break;
        case "srcdoc":
          if ("src" in e2[a2])
            return n2(a2, "cannot have both src and srcdoc"), false;
          if ("string" != typeof d2)
            return n2(a2, t2(u2)), false;
          break;
        case "location":
          if (!["main", "sidebar"].includes(d2))
            return n2(a2, t2(u2)), false;
          break;
        case "controlledBy":
          if ("*" !== d2 && "owners" !== d2 && (!Array.isArray(d2) || d2.some(function(e3) {
            return "string" != typeof e3;
          })))
            return n2(a2, t2(u2)), false;
          break;
        case "shared":
          if ((!Array.isArray(d2) || d2.some(function(e3) {
            return "string" != typeof e3;
          })) && "owners" !== d2 && "boolean" != typeof d2)
            return n2(a2, t2(u2)), false;
          break;
        default:
          if (!za.id[u2])
            return console.error("customIntegration does not support key ".concat(u2)), false;
      }
    }
  }
  return true;
}
function vs(e2, t2) {
  if (void 0 === t2)
    return false;
  switch (i(t2)) {
    case "string":
      return i(e2) === t2;
    case "object":
      if ("object" !== i(e2))
        return false;
      for (var n2 in e2)
        if (!vs(e2[n2], t2[n2]))
          return false;
      return true;
    default:
      return false;
  }
}
function ys(e2) {
  if ("object" !== i(e2))
    throw new Error('RemoteMediaPlayerSettings: must be "object" type');
  if (e2.state && !Object.values(vo).includes(e2.state))
    throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: " + JSON.stringify(vo));
  if (e2.volume) {
    if ("number" != typeof e2.volume)
      throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');
    if (e2.volume < 0 || e2.volume > 2)
      throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0");
  }
}
function _s(e2, t2, n2) {
  return !("number" != typeof e2 || e2 < t2 || e2 > n2);
}
function bs(e2, t2) {
  return e2 && !t2 && delete e2.data, e2;
}
var m, v, y, _, b, w, k, L, I, R, B, F, U, V, $, G, q, Y, J, W, z, ee, be, ke, Ee, Ce, xe, Ae, Ne, Ye, We, Qe, Ke, Xe, Ze, et, at, st, ct, lt, dt, ht, St, Mt, Ot, Pt, xt, At, jt, Lt, Dt, Vt, qt, Jt, Ht, Zt, en, tn, cn, dn, fn, gn, mn, _n, Sn, kn, En, Mn, Tn, Cn, Pn, xn, An, Rn, $n, Gn, qn, Hn, Qn, Xn, ir, or, ur, dr, hr, vr, yr, _r, br, wr, Sr, kr, Er, Mr, Tr, Cr, Or, Pr, xr, Ar, jr, Lr, Dr, Nr, Ir, Rr, Br, Fr, Ur, Vr, $r, Gr, qr, Yr, Jr, Wr, zr, Hr, Qr, Kr, Xr, Zr, ei, ti, ni, ri, ii, oi, ai, si, ci, li, ui, di, hi, pi, fi, gi, mi, vi, yi, _i, bi, wi, Si, ki, Ei, Mi, Ti, Ci, Oi, Pi, xi, Ai, ji, Li, Di, Ni, Ii, Ri, Bi, Fi, Ui, Vi, $i, Gi, qi, Yi, Ji, Wi, zi, Hi, Qi, Ki, Xi, Zi, eo, to, no, ro, io, oo, ao, so, co, lo, uo, ho, po, fo, go, mo, vo, yo, _o, bo, wo, Po, Fo, Go, Yo, Jo, Wo, zo, Ho, Zo, ea, ta, na, ra, ia, oa, aa, sa, ca, la, ua, da, ya, _a, Sa, ka, Ea, Oa, xa, Aa, ja, La, Fa, Ua, Va, $a, Ga, qa, Ya, Ja, Wa, za, Ha, Qa, Ka;
var init_daily_esm = __esm({
  "node_modules/@daily-co/daily-js/dist/daily-esm.js"() {
    v = {};
    y = { get exports() {
      return v;
    }, set exports(e2) {
      v = e2;
    } };
    _ = "object" == typeof Reflect ? Reflect : null;
    b = _ && "function" == typeof _.apply ? _.apply : function(e2, t2, n2) {
      return Function.prototype.apply.call(e2, t2, n2);
    };
    m = _ && "function" == typeof _.ownKeys ? _.ownKeys : Object.getOwnPropertySymbols ? function(e2) {
      return Object.getOwnPropertyNames(e2).concat(Object.getOwnPropertySymbols(e2));
    } : function(e2) {
      return Object.getOwnPropertyNames(e2);
    };
    w = Number.isNaN || function(e2) {
      return e2 != e2;
    };
    y.exports = S, v.once = function(e2, t2) {
      return new Promise(function(n2, r2) {
        function i2(n3) {
          e2.removeListener(t2, o2), r2(n3);
        }
        function o2() {
          "function" == typeof e2.removeListener && e2.removeListener("error", i2), n2([].slice.call(arguments));
        }
        j(e2, t2, o2, { once: true }), "error" !== t2 && function(e3, t3, n3) {
          "function" == typeof e3.on && j(e3, "error", t3, n3);
        }(e2, i2, { once: true });
      });
    }, S.EventEmitter = S, S.prototype._events = void 0, S.prototype._eventsCount = 0, S.prototype._maxListeners = void 0;
    k = 10;
    Object.defineProperty(S, "defaultMaxListeners", { enumerable: true, get: function() {
      return k;
    }, set: function(e2) {
      if ("number" != typeof e2 || e2 < 0 || w(e2))
        throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e2 + ".");
      k = e2;
    } }), S.init = function() {
      void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
    }, S.prototype.setMaxListeners = function(e2) {
      if ("number" != typeof e2 || e2 < 0 || w(e2))
        throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e2 + ".");
      return this._maxListeners = e2, this;
    }, S.prototype.getMaxListeners = function() {
      return M(this);
    }, S.prototype.emit = function(e2) {
      for (var t2 = [], n2 = 1; n2 < arguments.length; n2++)
        t2.push(arguments[n2]);
      var r2 = "error" === e2, i2 = this._events;
      if (void 0 !== i2)
        r2 = r2 && void 0 === i2.error;
      else if (!r2)
        return false;
      if (r2) {
        var o2;
        if (t2.length > 0 && (o2 = t2[0]), o2 instanceof Error)
          throw o2;
        var a2 = new Error("Unhandled error." + (o2 ? " (" + o2.message + ")" : ""));
        throw a2.context = o2, a2;
      }
      var s2 = i2[e2];
      if (void 0 === s2)
        return false;
      if ("function" == typeof s2)
        b(s2, this, t2);
      else {
        var c2 = s2.length, l2 = A(s2, c2);
        for (n2 = 0; n2 < c2; ++n2)
          b(l2[n2], this, t2);
      }
      return true;
    }, S.prototype.addListener = function(e2, t2) {
      return T(this, e2, t2, false);
    }, S.prototype.on = S.prototype.addListener, S.prototype.prependListener = function(e2, t2) {
      return T(this, e2, t2, true);
    }, S.prototype.once = function(e2, t2) {
      return E(t2), this.on(e2, O(this, e2, t2)), this;
    }, S.prototype.prependOnceListener = function(e2, t2) {
      return E(t2), this.prependListener(e2, O(this, e2, t2)), this;
    }, S.prototype.removeListener = function(e2, t2) {
      var n2, r2, i2, o2, a2;
      if (E(t2), void 0 === (r2 = this._events))
        return this;
      if (void 0 === (n2 = r2[e2]))
        return this;
      if (n2 === t2 || n2.listener === t2)
        0 == --this._eventsCount ? this._events = /* @__PURE__ */ Object.create(null) : (delete r2[e2], r2.removeListener && this.emit("removeListener", e2, n2.listener || t2));
      else if ("function" != typeof n2) {
        for (i2 = -1, o2 = n2.length - 1; o2 >= 0; o2--)
          if (n2[o2] === t2 || n2[o2].listener === t2) {
            a2 = n2[o2].listener, i2 = o2;
            break;
          }
        if (i2 < 0)
          return this;
        0 === i2 ? n2.shift() : function(e3, t3) {
          for (; t3 + 1 < e3.length; t3++)
            e3[t3] = e3[t3 + 1];
          e3.pop();
        }(n2, i2), 1 === n2.length && (r2[e2] = n2[0]), void 0 !== r2.removeListener && this.emit("removeListener", e2, a2 || t2);
      }
      return this;
    }, S.prototype.off = S.prototype.removeListener, S.prototype.removeAllListeners = function(e2) {
      var t2, n2, r2;
      if (void 0 === (n2 = this._events))
        return this;
      if (void 0 === n2.removeListener)
        return 0 === arguments.length ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : void 0 !== n2[e2] && (0 == --this._eventsCount ? this._events = /* @__PURE__ */ Object.create(null) : delete n2[e2]), this;
      if (0 === arguments.length) {
        var i2, o2 = Object.keys(n2);
        for (r2 = 0; r2 < o2.length; ++r2)
          "removeListener" !== (i2 = o2[r2]) && this.removeAllListeners(i2);
        return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
      }
      if ("function" == typeof (t2 = n2[e2]))
        this.removeListener(e2, t2);
      else if (void 0 !== t2)
        for (r2 = t2.length - 1; r2 >= 0; r2--)
          this.removeListener(e2, t2[r2]);
      return this;
    }, S.prototype.listeners = function(e2) {
      return P(this, e2, true);
    }, S.prototype.rawListeners = function(e2) {
      return P(this, e2, false);
    }, S.listenerCount = function(e2, t2) {
      return "function" == typeof e2.listenerCount ? e2.listenerCount(t2) : x.call(e2, t2);
    }, S.prototype.listenerCount = x, S.prototype.eventNames = function() {
      return this._eventsCount > 0 ? m(this._events) : [];
    };
    L = Object.prototype.hasOwnProperty;
    I = { "Amazon Silk": "amazon_silk", "Android Browser": "android", Bada: "bada", BlackBerry: "blackberry", Chrome: "chrome", Chromium: "chromium", Electron: "electron", Epiphany: "epiphany", Firefox: "firefox", Focus: "focus", Generic: "generic", "Google Search": "google_search", Googlebot: "googlebot", "Internet Explorer": "ie", "K-Meleon": "k_meleon", Maxthon: "maxthon", "Microsoft Edge": "edge", "MZ Browser": "mz", "NAVER Whale Browser": "naver", Opera: "opera", "Opera Coast": "opera_coast", PhantomJS: "phantomjs", Puffin: "puffin", QupZilla: "qupzilla", QQ: "qq", QQLite: "qqlite", Safari: "safari", Sailfish: "sailfish", "Samsung Internet for Android": "samsung_internet", SeaMonkey: "seamonkey", Sleipnir: "sleipnir", Swing: "swing", Tizen: "tizen", "UC Browser": "uc", Vivaldi: "vivaldi", "WebOS Browser": "webos", WeChat: "wechat", "Yandex Browser": "yandex", Roku: "roku" };
    R = { amazon_silk: "Amazon Silk", android: "Android Browser", bada: "Bada", blackberry: "BlackBerry", chrome: "Chrome", chromium: "Chromium", electron: "Electron", epiphany: "Epiphany", firefox: "Firefox", focus: "Focus", generic: "Generic", googlebot: "Googlebot", google_search: "Google Search", ie: "Internet Explorer", k_meleon: "K-Meleon", maxthon: "Maxthon", edge: "Microsoft Edge", mz: "MZ Browser", naver: "NAVER Whale Browser", opera: "Opera", opera_coast: "Opera Coast", phantomjs: "PhantomJS", puffin: "Puffin", qupzilla: "QupZilla", qq: "QQ Browser", qqlite: "QQ Browser Lite", safari: "Safari", sailfish: "Sailfish", samsung_internet: "Samsung Internet for Android", seamonkey: "SeaMonkey", sleipnir: "Sleipnir", swing: "Swing", tizen: "Tizen", uc: "UC Browser", vivaldi: "Vivaldi", webos: "WebOS Browser", wechat: "WeChat", yandex: "Yandex Browser" };
    B = { tablet: "tablet", mobile: "mobile", desktop: "desktop", tv: "tv" };
    F = { WindowsPhone: "Windows Phone", Windows: "Windows", MacOS: "macOS", iOS: "iOS", Android: "Android", WebOS: "WebOS", BlackBerry: "BlackBerry", Bada: "Bada", Tizen: "Tizen", Linux: "Linux", ChromeOS: "Chrome OS", PlayStation4: "PlayStation 4", Roku: "Roku" };
    U = { EdgeHTML: "EdgeHTML", Blink: "Blink", Trident: "Trident", Presto: "Presto", Gecko: "Gecko", WebKit: "WebKit" };
    V = class _V {
      static getFirstMatch(e2, t2) {
        const n2 = t2.match(e2);
        return n2 && n2.length > 0 && n2[1] || "";
      }
      static getSecondMatch(e2, t2) {
        const n2 = t2.match(e2);
        return n2 && n2.length > 1 && n2[2] || "";
      }
      static matchAndReturnConst(e2, t2, n2) {
        if (e2.test(t2))
          return n2;
      }
      static getWindowsVersionName(e2) {
        switch (e2) {
          case "NT":
            return "NT";
          case "XP":
          case "NT 5.1":
            return "XP";
          case "NT 5.0":
            return "2000";
          case "NT 5.2":
            return "2003";
          case "NT 6.0":
            return "Vista";
          case "NT 6.1":
            return "7";
          case "NT 6.2":
            return "8";
          case "NT 6.3":
            return "8.1";
          case "NT 10.0":
            return "10";
          default:
            return;
        }
      }
      static getMacOSVersionName(e2) {
        const t2 = e2.split(".").splice(0, 2).map((e3) => parseInt(e3, 10) || 0);
        if (t2.push(0), 10 === t2[0])
          switch (t2[1]) {
            case 5:
              return "Leopard";
            case 6:
              return "Snow Leopard";
            case 7:
              return "Lion";
            case 8:
              return "Mountain Lion";
            case 9:
              return "Mavericks";
            case 10:
              return "Yosemite";
            case 11:
              return "El Capitan";
            case 12:
              return "Sierra";
            case 13:
              return "High Sierra";
            case 14:
              return "Mojave";
            case 15:
              return "Catalina";
            default:
              return;
          }
      }
      static getAndroidVersionName(e2) {
        const t2 = e2.split(".").splice(0, 2).map((e3) => parseInt(e3, 10) || 0);
        if (t2.push(0), !(1 === t2[0] && t2[1] < 5))
          return 1 === t2[0] && t2[1] < 6 ? "Cupcake" : 1 === t2[0] && t2[1] >= 6 ? "Donut" : 2 === t2[0] && t2[1] < 2 ? "Eclair" : 2 === t2[0] && 2 === t2[1] ? "Froyo" : 2 === t2[0] && t2[1] > 2 ? "Gingerbread" : 3 === t2[0] ? "Honeycomb" : 4 === t2[0] && t2[1] < 1 ? "Ice Cream Sandwich" : 4 === t2[0] && t2[1] < 4 ? "Jelly Bean" : 4 === t2[0] && t2[1] >= 4 ? "KitKat" : 5 === t2[0] ? "Lollipop" : 6 === t2[0] ? "Marshmallow" : 7 === t2[0] ? "Nougat" : 8 === t2[0] ? "Oreo" : 9 === t2[0] ? "Pie" : void 0;
      }
      static getVersionPrecision(e2) {
        return e2.split(".").length;
      }
      static compareVersions(e2, t2, n2 = false) {
        const r2 = _V.getVersionPrecision(e2), i2 = _V.getVersionPrecision(t2);
        let o2 = Math.max(r2, i2), a2 = 0;
        const s2 = _V.map([e2, t2], (e3) => {
          const t3 = o2 - _V.getVersionPrecision(e3), n3 = e3 + new Array(t3 + 1).join(".0");
          return _V.map(n3.split("."), (e4) => new Array(20 - e4.length).join("0") + e4).reverse();
        });
        for (n2 && (a2 = o2 - Math.min(r2, i2)), o2 -= 1; o2 >= a2; ) {
          if (s2[0][o2] > s2[1][o2])
            return 1;
          if (s2[0][o2] === s2[1][o2]) {
            if (o2 === a2)
              return 0;
            o2 -= 1;
          } else if (s2[0][o2] < s2[1][o2])
            return -1;
        }
      }
      static map(e2, t2) {
        const n2 = [];
        let r2;
        if (Array.prototype.map)
          return Array.prototype.map.call(e2, t2);
        for (r2 = 0; r2 < e2.length; r2 += 1)
          n2.push(t2(e2[r2]));
        return n2;
      }
      static find(e2, t2) {
        let n2, r2;
        if (Array.prototype.find)
          return Array.prototype.find.call(e2, t2);
        for (n2 = 0, r2 = e2.length; n2 < r2; n2 += 1) {
          const r3 = e2[n2];
          if (t2(r3, n2))
            return r3;
        }
      }
      static assign(e2, ...t2) {
        const n2 = e2;
        let r2, i2;
        if (Object.assign)
          return Object.assign(e2, ...t2);
        for (r2 = 0, i2 = t2.length; r2 < i2; r2 += 1) {
          const e3 = t2[r2];
          if ("object" == typeof e3 && null !== e3) {
            Object.keys(e3).forEach((t3) => {
              n2[t3] = e3[t3];
            });
          }
        }
        return e2;
      }
      static getBrowserAlias(e2) {
        return I[e2];
      }
      static getBrowserTypeByAlias(e2) {
        return R[e2] || "";
      }
    };
    $ = /version\/(\d+(\.?_?\d+)+)/i;
    G = [{ test: [/googlebot/i], describe(e2) {
      const t2 = { name: "Googlebot" }, n2 = V.getFirstMatch(/googlebot\/(\d+(\.\d+))/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/opera/i], describe(e2) {
      const t2 = { name: "Opera" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/opr\/|opios/i], describe(e2) {
      const t2 = { name: "Opera" }, n2 = V.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/SamsungBrowser/i], describe(e2) {
      const t2 = { name: "Samsung Internet for Android" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/Whale/i], describe(e2) {
      const t2 = { name: "NAVER Whale Browser" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/MZBrowser/i], describe(e2) {
      const t2 = { name: "MZ Browser" }, n2 = V.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/focus/i], describe(e2) {
      const t2 = { name: "Focus" }, n2 = V.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/swing/i], describe(e2) {
      const t2 = { name: "Swing" }, n2 = V.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/coast/i], describe(e2) {
      const t2 = { name: "Opera Coast" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/opt\/\d+(?:.?_?\d+)+/i], describe(e2) {
      const t2 = { name: "Opera Touch" }, n2 = V.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/yabrowser/i], describe(e2) {
      const t2 = { name: "Yandex Browser" }, n2 = V.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/ucbrowser/i], describe(e2) {
      const t2 = { name: "UC Browser" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/Maxthon|mxios/i], describe(e2) {
      const t2 = { name: "Maxthon" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/epiphany/i], describe(e2) {
      const t2 = { name: "Epiphany" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/puffin/i], describe(e2) {
      const t2 = { name: "Puffin" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/sleipnir/i], describe(e2) {
      const t2 = { name: "Sleipnir" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/k-meleon/i], describe(e2) {
      const t2 = { name: "K-Meleon" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/micromessenger/i], describe(e2) {
      const t2 = { name: "WeChat" }, n2 = V.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/qqbrowser/i], describe(e2) {
      const t2 = { name: /qqbrowserlite/i.test(e2) ? "QQ Browser Lite" : "QQ Browser" }, n2 = V.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/msie|trident/i], describe(e2) {
      const t2 = { name: "Internet Explorer" }, n2 = V.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/\sedg\//i], describe(e2) {
      const t2 = { name: "Microsoft Edge" }, n2 = V.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/edg([ea]|ios)/i], describe(e2) {
      const t2 = { name: "Microsoft Edge" }, n2 = V.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/vivaldi/i], describe(e2) {
      const t2 = { name: "Vivaldi" }, n2 = V.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/seamonkey/i], describe(e2) {
      const t2 = { name: "SeaMonkey" }, n2 = V.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/sailfish/i], describe(e2) {
      const t2 = { name: "Sailfish" }, n2 = V.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/silk/i], describe(e2) {
      const t2 = { name: "Amazon Silk" }, n2 = V.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/phantom/i], describe(e2) {
      const t2 = { name: "PhantomJS" }, n2 = V.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/slimerjs/i], describe(e2) {
      const t2 = { name: "SlimerJS" }, n2 = V.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/blackberry|\bbb\d+/i, /rim\stablet/i], describe(e2) {
      const t2 = { name: "BlackBerry" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/(web|hpw)[o0]s/i], describe(e2) {
      const t2 = { name: "WebOS Browser" }, n2 = V.getFirstMatch($, e2) || V.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/bada/i], describe(e2) {
      const t2 = { name: "Bada" }, n2 = V.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/tizen/i], describe(e2) {
      const t2 = { name: "Tizen" }, n2 = V.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/qupzilla/i], describe(e2) {
      const t2 = { name: "QupZilla" }, n2 = V.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/firefox|iceweasel|fxios/i], describe(e2) {
      const t2 = { name: "Firefox" }, n2 = V.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/electron/i], describe(e2) {
      const t2 = { name: "Electron" }, n2 = V.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/MiuiBrowser/i], describe(e2) {
      const t2 = { name: "Miui" }, n2 = V.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/chromium/i], describe(e2) {
      const t2 = { name: "Chromium" }, n2 = V.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i, e2) || V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/chrome|crios|crmo/i], describe(e2) {
      const t2 = { name: "Chrome" }, n2 = V.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/GSA/i], describe(e2) {
      const t2 = { name: "Google Search" }, n2 = V.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test(e2) {
      const t2 = !e2.test(/like android/i), n2 = e2.test(/android/i);
      return t2 && n2;
    }, describe(e2) {
      const t2 = { name: "Android Browser" }, n2 = V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/playstation 4/i], describe(e2) {
      const t2 = { name: "PlayStation 4" }, n2 = V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/safari|applewebkit/i], describe(e2) {
      const t2 = { name: "Safari" }, n2 = V.getFirstMatch($, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/.*/i], describe(e2) {
      const t2 = -1 !== e2.search("\\(") ? /^(.*)\/(.*)[ \t]\((.*)/ : /^(.*)\/(.*) /;
      return { name: V.getFirstMatch(t2, e2), version: V.getSecondMatch(t2, e2) };
    } }];
    q = [{ test: [/Roku\/DVP/], describe(e2) {
      const t2 = V.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i, e2);
      return { name: F.Roku, version: t2 };
    } }, { test: [/windows phone/i], describe(e2) {
      const t2 = V.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i, e2);
      return { name: F.WindowsPhone, version: t2 };
    } }, { test: [/windows /i], describe(e2) {
      const t2 = V.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i, e2), n2 = V.getWindowsVersionName(t2);
      return { name: F.Windows, version: t2, versionName: n2 };
    } }, { test: [/Macintosh(.*?) FxiOS(.*?)\//], describe(e2) {
      const t2 = { name: F.iOS }, n2 = V.getSecondMatch(/(Version\/)(\d[\d.]+)/, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/macintosh/i], describe(e2) {
      const t2 = V.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i, e2).replace(/[_\s]/g, "."), n2 = V.getMacOSVersionName(t2), r2 = { name: F.MacOS, version: t2 };
      return n2 && (r2.versionName = n2), r2;
    } }, { test: [/(ipod|iphone|ipad)/i], describe(e2) {
      const t2 = V.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i, e2).replace(/[_\s]/g, ".");
      return { name: F.iOS, version: t2 };
    } }, { test(e2) {
      const t2 = !e2.test(/like android/i), n2 = e2.test(/android/i);
      return t2 && n2;
    }, describe(e2) {
      const t2 = V.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i, e2), n2 = V.getAndroidVersionName(t2), r2 = { name: F.Android, version: t2 };
      return n2 && (r2.versionName = n2), r2;
    } }, { test: [/(web|hpw)[o0]s/i], describe(e2) {
      const t2 = V.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i, e2), n2 = { name: F.WebOS };
      return t2 && t2.length && (n2.version = t2), n2;
    } }, { test: [/blackberry|\bbb\d+/i, /rim\stablet/i], describe(e2) {
      const t2 = V.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i, e2) || V.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i, e2) || V.getFirstMatch(/\bbb(\d+)/i, e2);
      return { name: F.BlackBerry, version: t2 };
    } }, { test: [/bada/i], describe(e2) {
      const t2 = V.getFirstMatch(/bada\/(\d+(\.\d+)*)/i, e2);
      return { name: F.Bada, version: t2 };
    } }, { test: [/tizen/i], describe(e2) {
      const t2 = V.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i, e2);
      return { name: F.Tizen, version: t2 };
    } }, { test: [/linux/i], describe: () => ({ name: F.Linux }) }, { test: [/CrOS/], describe: () => ({ name: F.ChromeOS }) }, { test: [/PlayStation 4/], describe(e2) {
      const t2 = V.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i, e2);
      return { name: F.PlayStation4, version: t2 };
    } }];
    Y = [{ test: [/googlebot/i], describe: () => ({ type: "bot", vendor: "Google" }) }, { test: [/huawei/i], describe(e2) {
      const t2 = V.getFirstMatch(/(can-l01)/i, e2) && "Nova", n2 = { type: B.mobile, vendor: "Huawei" };
      return t2 && (n2.model = t2), n2;
    } }, { test: [/nexus\s*(?:7|8|9|10).*/i], describe: () => ({ type: B.tablet, vendor: "Nexus" }) }, { test: [/ipad/i], describe: () => ({ type: B.tablet, vendor: "Apple", model: "iPad" }) }, { test: [/Macintosh(.*?) FxiOS(.*?)\//], describe: () => ({ type: B.tablet, vendor: "Apple", model: "iPad" }) }, { test: [/kftt build/i], describe: () => ({ type: B.tablet, vendor: "Amazon", model: "Kindle Fire HD 7" }) }, { test: [/silk/i], describe: () => ({ type: B.tablet, vendor: "Amazon" }) }, { test: [/tablet(?! pc)/i], describe: () => ({ type: B.tablet }) }, { test(e2) {
      const t2 = e2.test(/ipod|iphone/i), n2 = e2.test(/like (ipod|iphone)/i);
      return t2 && !n2;
    }, describe(e2) {
      const t2 = V.getFirstMatch(/(ipod|iphone)/i, e2);
      return { type: B.mobile, vendor: "Apple", model: t2 };
    } }, { test: [/nexus\s*[0-6].*/i, /galaxy nexus/i], describe: () => ({ type: B.mobile, vendor: "Nexus" }) }, { test: [/[^-]mobi/i], describe: () => ({ type: B.mobile }) }, { test: (e2) => "blackberry" === e2.getBrowserName(true), describe: () => ({ type: B.mobile, vendor: "BlackBerry" }) }, { test: (e2) => "bada" === e2.getBrowserName(true), describe: () => ({ type: B.mobile }) }, { test: (e2) => "windows phone" === e2.getBrowserName(), describe: () => ({ type: B.mobile, vendor: "Microsoft" }) }, { test(e2) {
      const t2 = Number(String(e2.getOSVersion()).split(".")[0]);
      return "android" === e2.getOSName(true) && t2 >= 3;
    }, describe: () => ({ type: B.tablet }) }, { test: (e2) => "android" === e2.getOSName(true), describe: () => ({ type: B.mobile }) }, { test: (e2) => "macos" === e2.getOSName(true), describe: () => ({ type: B.desktop, vendor: "Apple" }) }, { test: (e2) => "windows" === e2.getOSName(true), describe: () => ({ type: B.desktop }) }, { test: (e2) => "linux" === e2.getOSName(true), describe: () => ({ type: B.desktop }) }, { test: (e2) => "playstation 4" === e2.getOSName(true), describe: () => ({ type: B.tv }) }, { test: (e2) => "roku" === e2.getOSName(true), describe: () => ({ type: B.tv }) }];
    J = [{ test: (e2) => "microsoft edge" === e2.getBrowserName(true), describe(e2) {
      if (/\sedg\//i.test(e2))
        return { name: U.Blink };
      const t2 = V.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i, e2);
      return { name: U.EdgeHTML, version: t2 };
    } }, { test: [/trident/i], describe(e2) {
      const t2 = { name: U.Trident }, n2 = V.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: (e2) => e2.test(/presto/i), describe(e2) {
      const t2 = { name: U.Presto }, n2 = V.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test(e2) {
      const t2 = e2.test(/gecko/i), n2 = e2.test(/like gecko/i);
      return t2 && !n2;
    }, describe(e2) {
      const t2 = { name: U.Gecko }, n2 = V.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }, { test: [/(apple)?webkit\/537\.36/i], describe: () => ({ name: U.Blink }) }, { test: [/(apple)?webkit/i], describe(e2) {
      const t2 = { name: U.WebKit }, n2 = V.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i, e2);
      return n2 && (t2.version = n2), t2;
    } }];
    W = class {
      constructor(e2, t2 = false) {
        if (null == e2 || "" === e2)
          throw new Error("UserAgent parameter can't be empty");
        this._ua = e2, this.parsedResult = {}, true !== t2 && this.parse();
      }
      getUA() {
        return this._ua;
      }
      test(e2) {
        return e2.test(this._ua);
      }
      parseBrowser() {
        this.parsedResult.browser = {};
        const e2 = V.find(G, (e3) => {
          if ("function" == typeof e3.test)
            return e3.test(this);
          if (e3.test instanceof Array)
            return e3.test.some((e4) => this.test(e4));
          throw new Error("Browser's test function is not valid");
        });
        return e2 && (this.parsedResult.browser = e2.describe(this.getUA())), this.parsedResult.browser;
      }
      getBrowser() {
        return this.parsedResult.browser ? this.parsedResult.browser : this.parseBrowser();
      }
      getBrowserName(e2) {
        return e2 ? String(this.getBrowser().name).toLowerCase() || "" : this.getBrowser().name || "";
      }
      getBrowserVersion() {
        return this.getBrowser().version;
      }
      getOS() {
        return this.parsedResult.os ? this.parsedResult.os : this.parseOS();
      }
      parseOS() {
        this.parsedResult.os = {};
        const e2 = V.find(q, (e3) => {
          if ("function" == typeof e3.test)
            return e3.test(this);
          if (e3.test instanceof Array)
            return e3.test.some((e4) => this.test(e4));
          throw new Error("Browser's test function is not valid");
        });
        return e2 && (this.parsedResult.os = e2.describe(this.getUA())), this.parsedResult.os;
      }
      getOSName(e2) {
        const { name: t2 } = this.getOS();
        return e2 ? String(t2).toLowerCase() || "" : t2 || "";
      }
      getOSVersion() {
        return this.getOS().version;
      }
      getPlatform() {
        return this.parsedResult.platform ? this.parsedResult.platform : this.parsePlatform();
      }
      getPlatformType(e2 = false) {
        const { type: t2 } = this.getPlatform();
        return e2 ? String(t2).toLowerCase() || "" : t2 || "";
      }
      parsePlatform() {
        this.parsedResult.platform = {};
        const e2 = V.find(Y, (e3) => {
          if ("function" == typeof e3.test)
            return e3.test(this);
          if (e3.test instanceof Array)
            return e3.test.some((e4) => this.test(e4));
          throw new Error("Browser's test function is not valid");
        });
        return e2 && (this.parsedResult.platform = e2.describe(this.getUA())), this.parsedResult.platform;
      }
      getEngine() {
        return this.parsedResult.engine ? this.parsedResult.engine : this.parseEngine();
      }
      getEngineName(e2) {
        return e2 ? String(this.getEngine().name).toLowerCase() || "" : this.getEngine().name || "";
      }
      parseEngine() {
        this.parsedResult.engine = {};
        const e2 = V.find(J, (e3) => {
          if ("function" == typeof e3.test)
            return e3.test(this);
          if (e3.test instanceof Array)
            return e3.test.some((e4) => this.test(e4));
          throw new Error("Browser's test function is not valid");
        });
        return e2 && (this.parsedResult.engine = e2.describe(this.getUA())), this.parsedResult.engine;
      }
      parse() {
        return this.parseBrowser(), this.parseOS(), this.parsePlatform(), this.parseEngine(), this;
      }
      getResult() {
        return V.assign({}, this.parsedResult);
      }
      satisfies(e2) {
        const t2 = {};
        let n2 = 0;
        const r2 = {};
        let i2 = 0;
        if (Object.keys(e2).forEach((o2) => {
          const a2 = e2[o2];
          "string" == typeof a2 ? (r2[o2] = a2, i2 += 1) : "object" == typeof a2 && (t2[o2] = a2, n2 += 1);
        }), n2 > 0) {
          const e3 = Object.keys(t2), n3 = V.find(e3, (e4) => this.isOS(e4));
          if (n3) {
            const e4 = this.satisfies(t2[n3]);
            if (void 0 !== e4)
              return e4;
          }
          const r3 = V.find(e3, (e4) => this.isPlatform(e4));
          if (r3) {
            const e4 = this.satisfies(t2[r3]);
            if (void 0 !== e4)
              return e4;
          }
        }
        if (i2 > 0) {
          const e3 = Object.keys(r2), t3 = V.find(e3, (e4) => this.isBrowser(e4, true));
          if (void 0 !== t3)
            return this.compareVersion(r2[t3]);
        }
      }
      isBrowser(e2, t2 = false) {
        const n2 = this.getBrowserName().toLowerCase();
        let r2 = e2.toLowerCase();
        const i2 = V.getBrowserTypeByAlias(r2);
        return t2 && i2 && (r2 = i2.toLowerCase()), r2 === n2;
      }
      compareVersion(e2) {
        let t2 = [0], n2 = e2, r2 = false;
        const i2 = this.getBrowserVersion();
        if ("string" == typeof i2)
          return ">" === e2[0] || "<" === e2[0] ? (n2 = e2.substr(1), "=" === e2[1] ? (r2 = true, n2 = e2.substr(2)) : t2 = [], ">" === e2[0] ? t2.push(1) : t2.push(-1)) : "=" === e2[0] ? n2 = e2.substr(1) : "~" === e2[0] && (r2 = true, n2 = e2.substr(1)), t2.indexOf(V.compareVersions(i2, n2, r2)) > -1;
      }
      isOS(e2) {
        return this.getOSName(true) === String(e2).toLowerCase();
      }
      isPlatform(e2) {
        return this.getPlatformType(true) === String(e2).toLowerCase();
      }
      isEngine(e2) {
        return this.getEngineName(true) === String(e2).toLowerCase();
      }
      is(e2, t2 = false) {
        return this.isBrowser(e2, t2) || this.isOS(e2) || this.isPlatform(e2);
      }
      some(e2 = []) {
        return e2.some((e3) => this.is(e3));
      }
    };
    z = class {
      static getParser(e2, t2 = false) {
        if ("string" != typeof e2)
          throw new Error("UserAgent should be a string");
        return new W(e2, t2);
      }
      static parse(e2) {
        return new W(e2).getResult();
      }
      static get BROWSER_MAP() {
        return R;
      }
      static get ENGINE_MAP() {
        return U;
      }
      static get OS_MAP() {
        return F;
      }
      static get PLATFORMS_MAP() {
        return B;
      }
    };
    ee = Object.prototype.toString;
    be = "object" == typeof globalThis && _e(globalThis) || "object" == typeof window && _e(window) || "object" == typeof self && _e(self) || "object" == typeof global && _e(global) || /* @__PURE__ */ function() {
      return this;
    }() || {};
    ke = we();
    Ee = 80;
    Ce = ["debug", "info", "warn", "error", "log", "assert", "trace"];
    xe = "undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__ ? Se("logger", Pe) : Pe();
    Ae = /^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;
    Ne = class extends Error {
      constructor(e2, t2 = "warn") {
        super(e2), this.message = e2, this.name = new.target.prototype.constructor.name, Object.setPrototypeOf(this, new.target.prototype), this.logLevel = t2;
      }
    };
    Ye = "<anonymous>";
    We = we();
    Qe = we();
    Ke = we();
    Xe = "__sentry_xhr_v2__";
    Ze = {};
    et = {};
    st = 1e3;
    dt = null;
    ht = null;
    !function(e2) {
      e2[e2.PENDING = 0] = "PENDING";
      e2[e2.RESOLVED = 1] = "RESOLVED";
      e2[e2.REJECTED = 2] = "REJECTED";
    }(St || (St = {}));
    Mt = class _Mt {
      __init() {
        this._state = St.PENDING;
      }
      __init2() {
        this._handlers = [];
      }
      constructor(e2) {
        _Mt.prototype.__init.call(this), _Mt.prototype.__init2.call(this), _Mt.prototype.__init3.call(this), _Mt.prototype.__init4.call(this), _Mt.prototype.__init5.call(this), _Mt.prototype.__init6.call(this);
        try {
          e2(this._resolve, this._reject);
        } catch (e3) {
          this._reject(e3);
        }
      }
      then(e2, t2) {
        return new _Mt((n2, r2) => {
          this._handlers.push([false, (t3) => {
            if (e2)
              try {
                n2(e2(t3));
              } catch (e3) {
                r2(e3);
              }
            else
              n2(t3);
          }, (e3) => {
            if (t2)
              try {
                n2(t2(e3));
              } catch (e4) {
                r2(e4);
              }
            else
              r2(e3);
          }]), this._executeHandlers();
        });
      }
      catch(e2) {
        return this.then((e3) => e3, e2);
      }
      finally(e2) {
        return new _Mt((t2, n2) => {
          let r2, i2;
          return this.then((t3) => {
            i2 = false, r2 = t3, e2 && e2();
          }, (t3) => {
            i2 = true, r2 = t3, e2 && e2();
          }).then(() => {
            i2 ? n2(r2) : t2(r2);
          });
        });
      }
      __init3() {
        this._resolve = (e2) => {
          this._setResult(St.RESOLVED, e2);
        };
      }
      __init4() {
        this._reject = (e2) => {
          this._setResult(St.REJECTED, e2);
        };
      }
      __init5() {
        this._setResult = (e2, t2) => {
          this._state === St.PENDING && (le(t2) ? t2.then(this._resolve, this._reject) : (this._state = e2, this._value = t2, this._executeHandlers()));
        };
      }
      __init6() {
        this._executeHandlers = () => {
          if (this._state === St.PENDING)
            return;
          const e2 = this._handlers.slice();
          this._handlers = [], e2.forEach((e3) => {
            e3[0] || (this._state === St.RESOLVED && e3[1](this._value), this._state === St.REJECTED && e3[2](this._value), e3[0] = true);
          });
        };
      }
    };
    Ot = ["fatal", "error", "warning", "log", "info", "debug"];
    Pt = we();
    xt = { nowSeconds: () => Date.now() / 1e3 };
    At = "undefined" != typeof __SENTRY_BROWSER_BUNDLE__ && __SENTRY_BROWSER_BUNDLE__ || "[object process]" !== Object.prototype.toString.call("undefined" != typeof process ? process : 0) ? function() {
      const { performance: e2 } = Pt;
      if (!e2 || !e2.now)
        return;
      return { now: () => e2.now(), timeOrigin: Date.now() - e2.now() };
    }() : function() {
      try {
        return (e2 = module, t2 = "perf_hooks", e2.require(t2)).performance;
      } catch (e3) {
        return;
      }
      var e2, t2;
    }();
    jt = void 0 === At ? xt : { nowSeconds: () => (At.timeOrigin + At.now()) / 1e3 };
    Lt = xt.nowSeconds.bind(xt);
    Dt = jt.nowSeconds.bind(jt);
    (() => {
      const { performance: e2 } = Pt;
      if (!e2 || !e2.now)
        return;
      const t2 = 36e5, n2 = e2.now(), r2 = Date.now(), i2 = e2.timeOrigin ? Math.abs(e2.timeOrigin + n2 - r2) : t2, o2 = i2 < t2, a2 = e2.timing && e2.timing.navigationStart, s2 = "number" == typeof a2 ? Math.abs(a2 + n2 - r2) : t2;
      (o2 || s2 < t2) && (i2 <= s2 && e2.timeOrigin);
    })();
    Vt = { session: "session", sessions: "session", attachment: "attachment", transaction: "transaction", event: "error", client_report: "internal", user_report: "default", profile: "profile", replay_event: "replay", replay_recording: "replay", check_in: "monitor" };
    qt = 6e4;
    Jt = "production";
    Ht = class _Ht {
      constructor() {
        this._notifyingListeners = false, this._scopeListeners = [], this._eventProcessors = [], this._breadcrumbs = [], this._attachments = [], this._user = {}, this._tags = {}, this._extra = {}, this._contexts = {}, this._sdkProcessingMetadata = {}, this._propagationContext = Xt();
      }
      static clone(e2) {
        const t2 = new _Ht();
        return e2 && (t2._breadcrumbs = [...e2._breadcrumbs], t2._tags = { ...e2._tags }, t2._extra = { ...e2._extra }, t2._contexts = { ...e2._contexts }, t2._user = e2._user, t2._level = e2._level, t2._span = e2._span, t2._session = e2._session, t2._transactionName = e2._transactionName, t2._fingerprint = e2._fingerprint, t2._eventProcessors = [...e2._eventProcessors], t2._requestSession = e2._requestSession, t2._attachments = [...e2._attachments], t2._sdkProcessingMetadata = { ...e2._sdkProcessingMetadata }, t2._propagationContext = { ...e2._propagationContext }), t2;
      }
      addScopeListener(e2) {
        this._scopeListeners.push(e2);
      }
      addEventProcessor(e2) {
        return this._eventProcessors.push(e2), this;
      }
      setUser(e2) {
        return this._user = e2 || {}, this._session && zt(this._session, { user: e2 }), this._notifyScopeListeners(), this;
      }
      getUser() {
        return this._user;
      }
      getRequestSession() {
        return this._requestSession;
      }
      setRequestSession(e2) {
        return this._requestSession = e2, this;
      }
      setTags(e2) {
        return this._tags = { ...this._tags, ...e2 }, this._notifyScopeListeners(), this;
      }
      setTag(e2, t2) {
        return this._tags = { ...this._tags, [e2]: t2 }, this._notifyScopeListeners(), this;
      }
      setExtras(e2) {
        return this._extra = { ...this._extra, ...e2 }, this._notifyScopeListeners(), this;
      }
      setExtra(e2, t2) {
        return this._extra = { ...this._extra, [e2]: t2 }, this._notifyScopeListeners(), this;
      }
      setFingerprint(e2) {
        return this._fingerprint = e2, this._notifyScopeListeners(), this;
      }
      setLevel(e2) {
        return this._level = e2, this._notifyScopeListeners(), this;
      }
      setTransactionName(e2) {
        return this._transactionName = e2, this._notifyScopeListeners(), this;
      }
      setContext(e2, t2) {
        return null === t2 ? delete this._contexts[e2] : this._contexts[e2] = t2, this._notifyScopeListeners(), this;
      }
      setSpan(e2) {
        return this._span = e2, this._notifyScopeListeners(), this;
      }
      getSpan() {
        return this._span;
      }
      getTransaction() {
        const e2 = this.getSpan();
        return e2 && e2.transaction;
      }
      setSession(e2) {
        return e2 ? this._session = e2 : delete this._session, this._notifyScopeListeners(), this;
      }
      getSession() {
        return this._session;
      }
      update(e2) {
        if (!e2)
          return this;
        if ("function" == typeof e2) {
          const t2 = e2(this);
          return t2 instanceof _Ht ? t2 : this;
        }
        return e2 instanceof _Ht ? (this._tags = { ...this._tags, ...e2._tags }, this._extra = { ...this._extra, ...e2._extra }, this._contexts = { ...this._contexts, ...e2._contexts }, e2._user && Object.keys(e2._user).length && (this._user = e2._user), e2._level && (this._level = e2._level), e2._fingerprint && (this._fingerprint = e2._fingerprint), e2._requestSession && (this._requestSession = e2._requestSession), e2._propagationContext && (this._propagationContext = e2._propagationContext)) : se(e2) && (this._tags = { ...this._tags, ...e2.tags }, this._extra = { ...this._extra, ...e2.extra }, this._contexts = { ...this._contexts, ...e2.contexts }, e2.user && (this._user = e2.user), e2.level && (this._level = e2.level), e2.fingerprint && (this._fingerprint = e2.fingerprint), e2.requestSession && (this._requestSession = e2.requestSession), e2.propagationContext && (this._propagationContext = e2.propagationContext)), this;
      }
      clear() {
        return this._breadcrumbs = [], this._tags = {}, this._extra = {}, this._user = {}, this._contexts = {}, this._level = void 0, this._transactionName = void 0, this._fingerprint = void 0, this._requestSession = void 0, this._span = void 0, this._session = void 0, this._notifyScopeListeners(), this._attachments = [], this._propagationContext = Xt(), this;
      }
      addBreadcrumb(e2, t2) {
        const n2 = "number" == typeof t2 ? t2 : 100;
        if (n2 <= 0)
          return this;
        const r2 = { timestamp: Lt(), ...e2 };
        return this._breadcrumbs = [...this._breadcrumbs, r2].slice(-n2), this._notifyScopeListeners(), this;
      }
      getLastBreadcrumb() {
        return this._breadcrumbs[this._breadcrumbs.length - 1];
      }
      clearBreadcrumbs() {
        return this._breadcrumbs = [], this._notifyScopeListeners(), this;
      }
      addAttachment(e2) {
        return this._attachments.push(e2), this;
      }
      getAttachments() {
        return this._attachments;
      }
      clearAttachments() {
        return this._attachments = [], this;
      }
      applyToEvent(e2, t2 = {}) {
        if (this._extra && Object.keys(this._extra).length && (e2.extra = { ...this._extra, ...e2.extra }), this._tags && Object.keys(this._tags).length && (e2.tags = { ...this._tags, ...e2.tags }), this._user && Object.keys(this._user).length && (e2.user = { ...this._user, ...e2.user }), this._contexts && Object.keys(this._contexts).length && (e2.contexts = { ...this._contexts, ...e2.contexts }), this._level && (e2.level = this._level), this._transactionName && (e2.transaction = this._transactionName), this._span) {
          e2.contexts = { trace: this._span.getTraceContext(), ...e2.contexts };
          const t3 = this._span.transaction;
          if (t3) {
            e2.sdkProcessingMetadata = { dynamicSamplingContext: t3.getDynamicSamplingContext(), ...e2.sdkProcessingMetadata };
            const n2 = t3.name;
            n2 && (e2.tags = { transaction: n2, ...e2.tags });
          }
        }
        return this._applyFingerprint(e2), e2.breadcrumbs = [...e2.breadcrumbs || [], ...this._breadcrumbs], e2.breadcrumbs = e2.breadcrumbs.length > 0 ? e2.breadcrumbs : void 0, e2.sdkProcessingMetadata = { ...e2.sdkProcessingMetadata, ...this._sdkProcessingMetadata, propagationContext: this._propagationContext }, this._notifyEventProcessors([...Qt(), ...this._eventProcessors], e2, t2);
      }
      setSDKProcessingMetadata(e2) {
        return this._sdkProcessingMetadata = { ...this._sdkProcessingMetadata, ...e2 }, this;
      }
      setPropagationContext(e2) {
        return this._propagationContext = e2, this;
      }
      getPropagationContext() {
        return this._propagationContext;
      }
      _notifyEventProcessors(e2, t2, n2, r2 = 0) {
        return new Mt((i2, o2) => {
          const a2 = e2[r2];
          if (null === t2 || "function" != typeof a2)
            i2(t2);
          else {
            const s2 = a2({ ...t2 }, n2);
            ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && a2.id && null === s2 && xe.log(`Event processor "${a2.id}" dropped event`), le(s2) ? s2.then((t3) => this._notifyEventProcessors(e2, t3, n2, r2 + 1).then(i2)).then(null, o2) : this._notifyEventProcessors(e2, s2, n2, r2 + 1).then(i2).then(null, o2);
          }
        });
      }
      _notifyScopeListeners() {
        this._notifyingListeners || (this._notifyingListeners = true, this._scopeListeners.forEach((e2) => {
          e2(this);
        }), this._notifyingListeners = false);
      }
      _applyFingerprint(e2) {
        var t2;
        e2.fingerprint = e2.fingerprint ? (t2 = e2.fingerprint, Array.isArray(t2) ? t2 : [t2]) : [], this._fingerprint && (e2.fingerprint = e2.fingerprint.concat(this._fingerprint)), e2.fingerprint && !e2.fingerprint.length && delete e2.fingerprint;
      }
    };
    Zt = 4;
    en = 100;
    tn = class {
      constructor(e2, t2 = new Ht(), n2 = Zt) {
        this._version = n2, this._stack = [{ scope: t2 }], e2 && this.bindClient(e2);
      }
      isOlderThan(e2) {
        return this._version < e2;
      }
      bindClient(e2) {
        this.getStackTop().client = e2, e2 && e2.setupIntegrations && e2.setupIntegrations();
      }
      pushScope() {
        const e2 = Ht.clone(this.getScope());
        return this.getStack().push({ client: this.getClient(), scope: e2 }), e2;
      }
      popScope() {
        return !(this.getStack().length <= 1) && !!this.getStack().pop();
      }
      withScope(e2) {
        const t2 = this.pushScope();
        try {
          e2(t2);
        } finally {
          this.popScope();
        }
      }
      getClient() {
        return this.getStackTop().client;
      }
      getScope() {
        return this.getStackTop().scope;
      }
      getStack() {
        return this._stack;
      }
      getStackTop() {
        return this._stack[this._stack.length - 1];
      }
      captureException(e2, t2) {
        const n2 = this._lastEventId = t2 && t2.event_id ? t2.event_id : pt(), r2 = new Error("Sentry syntheticException");
        return this._withClient((i2, o2) => {
          i2.captureException(e2, { originalException: e2, syntheticException: r2, ...t2, event_id: n2 }, o2);
        }), n2;
      }
      captureMessage(e2, t2, n2) {
        const r2 = this._lastEventId = n2 && n2.event_id ? n2.event_id : pt(), i2 = new Error(e2);
        return this._withClient((o2, a2) => {
          o2.captureMessage(e2, t2, { originalException: e2, syntheticException: i2, ...n2, event_id: r2 }, a2);
        }), r2;
      }
      captureEvent(e2, t2) {
        const n2 = t2 && t2.event_id ? t2.event_id : pt();
        return e2.type || (this._lastEventId = n2), this._withClient((r2, i2) => {
          r2.captureEvent(e2, { ...t2, event_id: n2 }, i2);
        }), n2;
      }
      lastEventId() {
        return this._lastEventId;
      }
      addBreadcrumb(e2, t2) {
        const { scope: n2, client: r2 } = this.getStackTop();
        if (!r2)
          return;
        const { beforeBreadcrumb: i2 = null, maxBreadcrumbs: o2 = en } = r2.getOptions && r2.getOptions() || {};
        if (o2 <= 0)
          return;
        const a2 = { timestamp: Lt(), ...e2 }, s2 = i2 ? Oe(() => i2(a2, t2)) : a2;
        null !== s2 && (r2.emit && r2.emit("beforeAddBreadcrumb", s2, t2), n2.addBreadcrumb(s2, o2));
      }
      setUser(e2) {
        this.getScope().setUser(e2);
      }
      setTags(e2) {
        this.getScope().setTags(e2);
      }
      setExtras(e2) {
        this.getScope().setExtras(e2);
      }
      setTag(e2, t2) {
        this.getScope().setTag(e2, t2);
      }
      setExtra(e2, t2) {
        this.getScope().setExtra(e2, t2);
      }
      setContext(e2, t2) {
        this.getScope().setContext(e2, t2);
      }
      configureScope(e2) {
        const { scope: t2, client: n2 } = this.getStackTop();
        n2 && e2(t2);
      }
      run(e2) {
        const t2 = rn(this);
        try {
          e2(this);
        } finally {
          rn(t2);
        }
      }
      getIntegration(e2) {
        const t2 = this.getClient();
        if (!t2)
          return null;
        try {
          return t2.getIntegration(e2);
        } catch (t3) {
          return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn(`Cannot retrieve integration ${e2.id} from the current Hub`), null;
        }
      }
      startTransaction(e2, t2) {
        const n2 = this._callExtensionMethod("startTransaction", e2, t2);
        return "undefined" != typeof __SENTRY_DEBUG__ && !__SENTRY_DEBUG__ || n2 || console.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"), n2;
      }
      traceHeaders() {
        return this._callExtensionMethod("traceHeaders");
      }
      captureSession(e2 = false) {
        if (e2)
          return this.endSession();
        this._sendSessionUpdate();
      }
      endSession() {
        const e2 = this.getStackTop().scope, t2 = e2.getSession();
        t2 && function(e3, t3) {
          let n2 = {};
          t3 ? n2 = { status: t3 } : "ok" === e3.status && (n2 = { status: "exited" }), zt(e3, n2);
        }(t2), this._sendSessionUpdate(), e2.setSession();
      }
      startSession(e2) {
        const { scope: t2, client: n2 } = this.getStackTop(), { release: r2, environment: i2 = Jt } = n2 && n2.getOptions() || {}, { userAgent: o2 } = be.navigator || {}, a2 = Wt({ release: r2, environment: i2, user: t2.getUser(), ...o2 && { userAgent: o2 }, ...e2 }), s2 = t2.getSession && t2.getSession();
        return s2 && "ok" === s2.status && zt(s2, { status: "exited" }), this.endSession(), t2.setSession(a2), a2;
      }
      shouldSendDefaultPii() {
        const e2 = this.getClient(), t2 = e2 && e2.getOptions();
        return Boolean(t2 && t2.sendDefaultPii);
      }
      _sendSessionUpdate() {
        const { scope: e2, client: t2 } = this.getStackTop(), n2 = e2.getSession();
        n2 && t2 && t2.captureSession && t2.captureSession(n2);
      }
      _withClient(e2) {
        const { scope: t2, client: n2 } = this.getStackTop();
        n2 && e2(n2, t2);
      }
      _callExtensionMethod(e2, ...t2) {
        const n2 = nn().__SENTRY__;
        if (n2 && n2.extensions && "function" == typeof n2.extensions[e2])
          return n2.extensions[e2].apply(this, t2);
        ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn(`Extension method ${e2} couldn't be found, doing nothing.`);
      }
    };
    cn = "7";
    dn = [];
    fn = /* @__PURE__ */ new WeakMap();
    gn = "Not capturing exception because it's already been captured.";
    mn = class _mn {
      __init() {
        this._integrations = {};
      }
      __init2() {
        this._integrationsInitialized = false;
      }
      __init3() {
        this._numProcessing = 0;
      }
      __init4() {
        this._outcomes = {};
      }
      __init5() {
        this._hooks = {};
      }
      constructor(e2) {
        if (_mn.prototype.__init.call(this), _mn.prototype.__init2.call(this), _mn.prototype.__init3.call(this), _mn.prototype.__init4.call(this), _mn.prototype.__init5.call(this), this._options = e2, e2.dsn ? this._dsn = De(e2.dsn) : ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn("No DSN provided, client will not do anything."), this._dsn) {
          const t2 = function(e3, t3 = {}) {
            const n2 = "string" == typeof t3 ? t3 : t3.tunnel, r2 = "string" != typeof t3 && t3._metadata ? t3._metadata.sdk : void 0;
            return n2 || `${function(e4) {
              return `${function(e5) {
                const t4 = e5.protocol ? `${e5.protocol}:` : "", n3 = e5.port ? `:${e5.port}` : "";
                return `${t4}//${e5.host}${n3}${e5.path ? `/${e5.path}` : ""}/api/`;
              }(e4)}${e4.projectId}/envelope/`;
            }(e3)}?${ln(e3, r2)}`;
          }(this._dsn, e2);
          this._transport = e2.transport({ recordDroppedEvent: this.recordDroppedEvent.bind(this), ...e2.transportOptions, url: t2 });
        }
      }
      captureException(e2, t2, n2) {
        if (yt(e2))
          return void (("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.log(gn));
        let r2 = t2 && t2.event_id;
        return this._process(this.eventFromException(e2, t2).then((e3) => this._captureEvent(e3, t2, n2)).then((e3) => {
          r2 = e3;
        })), r2;
      }
      captureMessage(e2, t2, n2, r2) {
        let i2 = n2 && n2.event_id;
        const o2 = ae(e2) ? this.eventFromMessage(String(e2), t2, n2) : this.eventFromException(e2, n2);
        return this._process(o2.then((e3) => this._captureEvent(e3, n2, r2)).then((e3) => {
          i2 = e3;
        })), i2;
      }
      captureEvent(e2, t2, n2) {
        if (t2 && t2.originalException && yt(t2.originalException))
          return void (("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.log(gn));
        let r2 = t2 && t2.event_id;
        return this._process(this._captureEvent(e2, t2, n2).then((e3) => {
          r2 = e3;
        })), r2;
      }
      captureSession(e2) {
        this._isEnabled() ? "string" != typeof e2.release ? ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn("Discarded session because of missing or non-string release") : (this.sendSession(e2), zt(e2, { init: false })) : ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn("SDK not enabled, will not capture session.");
      }
      getDsn() {
        return this._dsn;
      }
      getOptions() {
        return this._options;
      }
      getSdkMetadata() {
        return this._options._metadata;
      }
      getTransport() {
        return this._transport;
      }
      flush(e2) {
        const t2 = this._transport;
        return t2 ? this._isClientDoneProcessing(e2).then((n2) => t2.flush(e2).then((e3) => n2 && e3)) : kt(true);
      }
      close(e2) {
        return this.flush(e2).then((e3) => (this.getOptions().enabled = false, e3));
      }
      setupIntegrations() {
        this._isEnabled() && !this._integrationsInitialized && (this._integrations = function(e2) {
          const t2 = {};
          return e2.forEach((e3) => {
            e3 && hn(e3, t2);
          }), t2;
        }(this._options.integrations), this._integrationsInitialized = true);
      }
      getIntegrationById(e2) {
        return this._integrations[e2];
      }
      getIntegration(e2) {
        try {
          return this._integrations[e2.id] || null;
        } catch (t2) {
          return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn(`Cannot retrieve integration ${e2.id} from the current Client`), null;
        }
      }
      addIntegration(e2) {
        hn(e2, this._integrations);
      }
      sendEvent(e2, t2 = {}) {
        if (this._dsn) {
          let n2 = un(e2, this._dsn, this._options._metadata, this._options.tunnel);
          for (const e3 of t2.attachments || [])
            n2 = It(n2, Ut(e3, this._options.transportOptions && this._options.transportOptions.textEncoder));
          const r2 = this._sendEnvelope(n2);
          r2 && r2.then((t3) => this.emit("afterSendEvent", e2, t3), null);
        }
      }
      sendSession(e2) {
        if (this._dsn) {
          const t2 = function(e3, t3, n2, r2) {
            const i2 = Gt(n2);
            return Nt({ sent_at: (/* @__PURE__ */ new Date()).toISOString(), ...i2 && { sdk: i2 }, ...!!r2 && { dsn: je(t3) } }, ["aggregates" in e3 ? [{ type: "sessions" }, e3] : [{ type: "session" }, e3.toJSON()]]);
          }(e2, this._dsn, this._options._metadata, this._options.tunnel);
          this._sendEnvelope(t2);
        }
      }
      recordDroppedEvent(e2, t2, n2) {
        if (this._options.sendClientReports) {
          const n3 = `${e2}:${t2}`;
          ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.log(`Adding outcome: "${n3}"`), this._outcomes[n3] = this._outcomes[n3] + 1 || 1;
        }
      }
      on(e2, t2) {
        this._hooks[e2] || (this._hooks[e2] = []), this._hooks[e2].push(t2);
      }
      emit(e2, ...t2) {
        this._hooks[e2] && this._hooks[e2].forEach((e3) => e3(...t2));
      }
      _updateSessionFromEvent(e2, t2) {
        let n2 = false, r2 = false;
        const i2 = t2.exception && t2.exception.values;
        if (i2) {
          r2 = true;
          for (const e3 of i2) {
            const t3 = e3.mechanism;
            if (t3 && false === t3.handled) {
              n2 = true;
              break;
            }
          }
        }
        const o2 = "ok" === e2.status;
        (o2 && 0 === e2.errors || o2 && n2) && (zt(e2, { ...n2 && { status: "crashed" }, errors: e2.errors || Number(r2 || n2) }), this.captureSession(e2));
      }
      _isClientDoneProcessing(e2) {
        return new Mt((t2) => {
          let n2 = 0;
          const r2 = setInterval(() => {
            0 == this._numProcessing ? (clearInterval(r2), t2(true)) : (n2 += 1, e2 && n2 >= e2 && (clearInterval(r2), t2(false)));
          }, 1);
        });
      }
      _isEnabled() {
        return false !== this.getOptions().enabled && void 0 !== this._dsn;
      }
      _prepareEvent(e2, t2, n2) {
        const r2 = this.getOptions(), i2 = Object.keys(this._integrations);
        return !t2.integrations && i2.length > 0 && (t2.integrations = i2), pn(r2, e2, t2, n2).then((e3) => {
          if (null === e3)
            return e3;
          const { propagationContext: t3 } = e3.sdkProcessingMetadata || {};
          if (!(e3.contexts && e3.contexts.trace) && t3) {
            const { traceId: r3, spanId: i3, parentSpanId: o2, dsc: a2 } = t3;
            e3.contexts = { trace: { trace_id: r3, span_id: i3, parent_span_id: o2 }, ...e3.contexts };
            const s2 = a2 || function(e4, t4, n3) {
              const r4 = t4.getOptions(), { publicKey: i4 } = t4.getDsn() || {}, { segment: o3 } = n3 && n3.getUser() || {}, a3 = Ge({ environment: r4.environment || Jt, release: r4.release, user_segment: o3, public_key: i4, trace_id: e4 });
              return t4.emit && t4.emit("createDsc", a3), a3;
            }(r3, this, n2);
            e3.sdkProcessingMetadata = { dynamicSamplingContext: s2, ...e3.sdkProcessingMetadata };
          }
          return e3;
        });
      }
      _captureEvent(e2, t2 = {}, n2) {
        return this._processEvent(e2, t2, n2).then((e3) => e3.event_id, (e3) => {
          if ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) {
            const t3 = e3;
            "log" === t3.logLevel ? xe.log(t3.message) : xe.warn(t3);
          }
        });
      }
      _processEvent(e2, t2, n2) {
        const r2 = this.getOptions(), { sampleRate: i2 } = r2;
        if (!this._isEnabled())
          return Et(new Ne("SDK not enabled, will not capture event.", "log"));
        const o2 = yn(e2), a2 = vn(e2), s2 = e2.type || "error", c2 = `before send for type \`${s2}\``;
        if (a2 && "number" == typeof i2 && Math.random() > i2)
          return this.recordDroppedEvent("sample_rate", "error", e2), Et(new Ne(`Discarding event because it's not included in the random sample (sampling rate = ${i2})`, "log"));
        const l2 = "replay_event" === s2 ? "replay" : s2;
        return this._prepareEvent(e2, t2, n2).then((n3) => {
          if (null === n3)
            throw this.recordDroppedEvent("event_processor", l2, e2), new Ne("An event processor returned `null`, will not send event.", "log");
          if (t2.data && true === t2.data.__sentry__)
            return n3;
          const i3 = function(e3, t3, n4) {
            const { beforeSend: r3, beforeSendTransaction: i4 } = e3;
            if (vn(t3) && r3)
              return r3(t3, n4);
            if (yn(t3) && i4)
              return i4(t3, n4);
            return t3;
          }(r2, n3, t2);
          return function(e3, t3) {
            const n4 = `${t3} must return \`null\` or a valid event.`;
            if (le(e3))
              return e3.then((e4) => {
                if (!se(e4) && null !== e4)
                  throw new Ne(n4);
                return e4;
              }, (e4) => {
                throw new Ne(`${t3} rejected with ${e4}`);
              });
            if (!se(e3) && null !== e3)
              throw new Ne(n4);
            return e3;
          }(i3, c2);
        }).then((r3) => {
          if (null === r3)
            throw this.recordDroppedEvent("before_send", l2, e2), new Ne(`${c2} returned \`null\`, will not send event.`, "log");
          const i3 = n2 && n2.getSession();
          !o2 && i3 && this._updateSessionFromEvent(i3, r3);
          const a3 = r3.transaction_info;
          if (o2 && a3 && r3.transaction !== e2.transaction) {
            const e3 = "custom";
            r3.transaction_info = { ...a3, source: e3 };
          }
          return this.sendEvent(r3, t2), r3;
        }).then(null, (e3) => {
          if (e3 instanceof Ne)
            throw e3;
          throw this.captureException(e3, { data: { __sentry__: true }, originalException: e3 }), new Ne(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e3}`);
        });
      }
      _process(e2) {
        this._numProcessing++, e2.then((e3) => (this._numProcessing--, e3), (e3) => (this._numProcessing--, e3));
      }
      _sendEnvelope(e2) {
        if (this._transport && this._dsn)
          return this.emit("beforeEnvelope", e2), this._transport.send(e2).then(null, (e3) => {
            ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.error("Error while sending event:", e3);
          });
        ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.error("Transport disabled");
      }
      _clearOutcomes() {
        const e2 = this._outcomes;
        return this._outcomes = {}, Object.keys(e2).map((t2) => {
          const [n2, r2] = t2.split(":");
          return { reason: n2, category: r2, quantity: e2[t2] };
        });
      }
    };
    _n = 30;
    Sn = "7.60.1";
    En = class _En {
      constructor() {
        _En.prototype.__init.call(this);
      }
      static __initStatic() {
        this.id = "FunctionToString";
      }
      __init() {
        this.name = _En.id;
      }
      setupOnce() {
        kn = Function.prototype.toString;
        try {
          Function.prototype.toString = function(...e2) {
            const t2 = Fe(this) || this;
            return kn.apply(t2, e2);
          };
        } catch (e2) {
        }
      }
    };
    En.__initStatic();
    Mn = [/^Script error\.?$/, /^Javascript error: Script error\.? on line 0$/];
    Tn = [/^.*healthcheck.*$/, /^.*healthy.*$/, /^.*live.*$/, /^.*ready.*$/, /^.*heartbeat.*$/, /^.*\/health$/, /^.*\/healthz$/];
    Cn = class _Cn {
      static __initStatic() {
        this.id = "InboundFilters";
      }
      __init() {
        this.name = _Cn.id;
      }
      constructor(e2 = {}) {
        this._options = e2, _Cn.prototype.__init.call(this);
      }
      setupOnce(e2, t2) {
        const n2 = (e3) => {
          const n3 = t2();
          if (n3) {
            const t3 = n3.getIntegration(_Cn);
            if (t3) {
              const r2 = n3.getClient(), i2 = r2 ? r2.getOptions() : {}, o2 = function(e4 = {}, t4 = {}) {
                return { allowUrls: [...e4.allowUrls || [], ...t4.allowUrls || []], denyUrls: [...e4.denyUrls || [], ...t4.denyUrls || []], ignoreErrors: [...e4.ignoreErrors || [], ...t4.ignoreErrors || [], ...e4.disableErrorDefaults ? [] : Mn], ignoreTransactions: [...e4.ignoreTransactions || [], ...t4.ignoreTransactions || [], ...e4.disableTransactionDefaults ? [] : Tn], ignoreInternal: void 0 === e4.ignoreInternal || e4.ignoreInternal };
              }(t3._options, i2);
              return function(e4, t4) {
                if (t4.ignoreInternal && function(e5) {
                  try {
                    return "SentryError" === e5.exception.values[0].type;
                  } catch (e6) {
                  }
                  return false;
                }(e4))
                  return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn(`Event dropped due to being internal Sentry Error.
Event: ${gt(e4)}`), true;
                if (function(e5, t5) {
                  if (e5.type || !t5 || !t5.length)
                    return false;
                  return function(e6) {
                    if (e6.message)
                      return [e6.message];
                    if (e6.exception) {
                      const { values: t6 } = e6.exception;
                      try {
                        const { type: e7 = "", value: n4 = "" } = t6 && t6[t6.length - 1] || {};
                        return [`${n4}`, `${e7}: ${n4}`];
                      } catch (t7) {
                        return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.error(`Cannot extract message for event ${gt(e6)}`), [];
                      }
                    }
                    return [];
                  }(e5).some((e6) => fe(e6, t5));
                }(e4, t4.ignoreErrors))
                  return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${gt(e4)}`), true;
                if (function(e5, t5) {
                  if ("transaction" !== e5.type || !t5 || !t5.length)
                    return false;
                  const n4 = e5.transaction;
                  return !!n4 && fe(n4, t5);
                }(e4, t4.ignoreTransactions))
                  return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${gt(e4)}`), true;
                if (function(e5, t5) {
                  if (!t5 || !t5.length)
                    return false;
                  const n4 = On(e5);
                  return !!n4 && fe(n4, t5);
                }(e4, t4.denyUrls))
                  return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${gt(e4)}.
Url: ${On(e4)}`), true;
                if (!function(e5, t5) {
                  if (!t5 || !t5.length)
                    return true;
                  const n4 = On(e5);
                  return !n4 || fe(n4, t5);
                }(e4, t4.allowUrls))
                  return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${gt(e4)}.
Url: ${On(e4)}`), true;
                return false;
              }(e3, o2) ? null : e3;
            }
          }
          return e3;
        };
        n2.id = this.name, e2(n2);
      }
    };
    Cn.__initStatic();
    Pn = Object.freeze({ __proto__: null, FunctionToString: En, InboundFilters: Cn });
    xn = be;
    An = 0;
    Rn = /Minified React error #\d+;/i;
    $n = 1024;
    Gn = "Breadcrumbs";
    qn = class _qn {
      static __initStatic() {
        this.id = Gn;
      }
      __init() {
        this.name = _qn.id;
      }
      constructor(e2) {
        _qn.prototype.__init.call(this), this.options = { console: true, dom: true, fetch: true, history: true, sentry: true, xhr: true, ...e2 };
      }
      setupOnce() {
        this.options.console && nt("console", Yn), this.options.dom && nt("dom", /* @__PURE__ */ function(e2) {
          function t2(t3) {
            let n2, r2 = "object" == typeof e2 ? e2.serializeAttribute : void 0, i2 = "object" == typeof e2 && "number" == typeof e2.maxStringLength ? e2.maxStringLength : void 0;
            i2 && i2 > $n && (("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i2} was configured. Sentry will use 1024 instead.`), i2 = $n), "string" == typeof r2 && (r2 = [r2]);
            try {
              const e3 = t3.event;
              n2 = function(e4) {
                return !!e4 && !!e4.target;
              }(e3) ? Me(e3.target, { keyAttrs: r2, maxStringLength: i2 }) : Me(e3, { keyAttrs: r2, maxStringLength: i2 });
            } catch (e3) {
              n2 = "<unknown>";
            }
            0 !== n2.length && on().addBreadcrumb({ category: `ui.${t3.name}`, message: n2 }, { event: t3.event, name: t3.name, global: t3.global });
          }
          return t2;
        }(this.options.dom)), this.options.xhr && nt("xhr", Jn), this.options.fetch && nt("fetch", Wn), this.options.history && nt("history", zn);
      }
      addSentryBreadcrumb(e2) {
        this.options.sentry && on().addBreadcrumb({ category: "sentry." + ("transaction" === e2.type ? "transaction" : "event"), event_id: e2.event_id, level: e2.level, message: gt(e2) }, { event: e2 });
      }
    };
    qn.__initStatic();
    Hn = class extends mn {
      constructor(e2) {
        const t2 = xn.SENTRY_SDK_SOURCE || "npm";
        e2._metadata = e2._metadata || {}, e2._metadata.sdk = e2._metadata.sdk || { name: "sentry.javascript.browser", packages: [{ name: `${t2}:@sentry/browser`, version: Sn }], version: Sn }, super(e2), e2.sendClientReports && xn.document && xn.document.addEventListener("visibilitychange", () => {
          "hidden" === xn.document.visibilityState && this._flushOutcomes();
        });
      }
      eventFromException(e2, t2) {
        return function(e3, t3, n2, r2) {
          const i2 = Fn(e3, t3, n2 && n2.syntheticException || void 0, r2);
          return vt(i2), i2.level = "error", n2 && n2.event_id && (i2.event_id = n2.event_id), kt(i2);
        }(this._options.stackParser, e2, t2, this._options.attachStacktrace);
      }
      eventFromMessage(e2, t2 = "info", n2) {
        return function(e3, t3, n3 = "info", r2, i2) {
          const o2 = Un(e3, t3, r2 && r2.syntheticException || void 0, i2);
          return o2.level = n3, r2 && r2.event_id && (o2.event_id = r2.event_id), kt(o2);
        }(this._options.stackParser, e2, t2, n2, this._options.attachStacktrace);
      }
      sendEvent(e2, t2) {
        const n2 = this.getIntegrationById(Gn);
        n2 && n2.addSentryBreadcrumb && n2.addSentryBreadcrumb(e2), super.sendEvent(e2, t2);
      }
      captureUserFeedback(e2) {
        if (!this._isEnabled())
          return void (("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn("SDK not enabled, will not capture user feedback."));
        const t2 = function(e3, { metadata: t3, tunnel: n2, dsn: r2 }) {
          const i2 = { event_id: e3.event_id, sent_at: (/* @__PURE__ */ new Date()).toISOString(), ...t3 && t3.sdk && { sdk: { name: t3.sdk.name, version: t3.sdk.version } }, ...!!n2 && !!r2 && { dsn: je(r2) } }, o2 = /* @__PURE__ */ function(e4) {
            return [{ type: "user_report" }, e4];
          }(e3);
          return Nt(i2, [o2]);
        }(e2, { metadata: this.getSdkMetadata(), dsn: this.getDsn(), tunnel: this.getOptions().tunnel });
        this._sendEnvelope(t2);
      }
      _prepareEvent(e2, t2, n2) {
        return e2.platform = e2.platform || "javascript", super._prepareEvent(e2, t2, n2);
      }
      _flushOutcomes() {
        const e2 = this._clearOutcomes();
        if (0 === e2.length)
          return void (("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.log("No outcomes to send"));
        if (!this._dsn)
          return void (("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.log("No dsn provided, will not send outcomes"));
        ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.log("Sending outcomes:", e2);
        const t2 = (n2 = e2, Nt((r2 = this._options.tunnel && je(this._dsn)) ? { dsn: r2 } : {}, [[{ type: "client_report" }, { timestamp: i2 || Lt(), discarded_events: n2 }]]));
        var n2, r2, i2;
        this._sendEnvelope(t2);
      }
    };
    Xn = class _Xn {
      static __initStatic() {
        this.id = "GlobalHandlers";
      }
      __init() {
        this.name = _Xn.id;
      }
      __init2() {
        this._installFunc = { onerror: Zn, onunhandledrejection: er };
      }
      constructor(e2) {
        _Xn.prototype.__init.call(this), _Xn.prototype.__init2.call(this), this._options = { onerror: true, onunhandledrejection: true, ...e2 };
      }
      setupOnce() {
        Error.stackTraceLimit = 50;
        const e2 = this._options;
        for (const n2 in e2) {
          const r2 = this._installFunc[n2];
          r2 && e2[n2] && (t2 = n2, ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.log(`Global Handler attached: ${t2}`), r2(), this._installFunc[n2] = void 0);
        }
        var t2;
      }
    };
    Xn.__initStatic();
    ir = ["EventTarget", "Window", "Node", "ApplicationCache", "AudioTrackList", "ChannelMergerNode", "CryptoOperation", "EventSource", "FileReader", "HTMLUnknownElement", "IDBDatabase", "IDBRequest", "IDBTransaction", "KeyOperation", "MediaController", "MessagePort", "ModalWindow", "Notification", "SVGElementInstance", "Screen", "TextTrack", "TextTrackCue", "TextTrackList", "WebSocket", "WebSocketWorker", "Worker", "XMLHttpRequest", "XMLHttpRequestEventTarget", "XMLHttpRequestUpload"];
    or = class _or {
      static __initStatic() {
        this.id = "TryCatch";
      }
      __init() {
        this.name = _or.id;
      }
      constructor(e2) {
        _or.prototype.__init.call(this), this._options = { XMLHttpRequest: true, eventTarget: true, requestAnimationFrame: true, setInterval: true, setTimeout: true, ...e2 };
      }
      setupOnce() {
        this._options.setTimeout && Ie(xn, "setTimeout", ar), this._options.setInterval && Ie(xn, "setInterval", ar), this._options.requestAnimationFrame && Ie(xn, "requestAnimationFrame", sr), this._options.XMLHttpRequest && "XMLHttpRequest" in xn && Ie(XMLHttpRequest.prototype, "send", cr);
        const e2 = this._options.eventTarget;
        if (e2) {
          (Array.isArray(e2) ? e2 : ir).forEach(lr);
        }
      }
    };
    or.__initStatic();
    ur = class _ur {
      static __initStatic() {
        this.id = "LinkedErrors";
      }
      __init() {
        this.name = _ur.id;
      }
      constructor(e2 = {}) {
        _ur.prototype.__init.call(this), this._key = e2.key || "cause", this._limit = e2.limit || 5;
      }
      setupOnce(e2, t2) {
        e2((e3, n2) => {
          const r2 = t2(), i2 = r2.getClient(), o2 = r2.getIntegration(_ur);
          if (!i2 || !o2)
            return e3;
          const a2 = i2.getOptions();
          return ge(Dn, a2.stackParser, a2.maxValueLength, o2._key, o2._limit, e3, n2), e3;
        });
      }
    };
    ur.__initStatic();
    dr = class _dr {
      constructor() {
        _dr.prototype.__init.call(this);
      }
      static __initStatic() {
        this.id = "HttpContext";
      }
      __init() {
        this.name = _dr.id;
      }
      setupOnce() {
        Kt((e2) => {
          if (on().getIntegration(_dr)) {
            if (!xn.navigator && !xn.location && !xn.document)
              return e2;
            const t2 = e2.request && e2.request.url || xn.location && xn.location.href, { referrer: n2 } = xn.document || {}, { userAgent: r2 } = xn.navigator || {}, i2 = { ...e2.request && e2.request.headers, ...n2 && { Referer: n2 }, ...r2 && { "User-Agent": r2 } }, o2 = { ...e2.request, ...t2 && { url: t2 }, headers: i2 };
            return { ...e2, request: o2 };
          }
          return e2;
        });
      }
    };
    dr.__initStatic();
    hr = class _hr {
      constructor() {
        _hr.prototype.__init.call(this);
      }
      static __initStatic() {
        this.id = "Dedupe";
      }
      __init() {
        this.name = _hr.id;
      }
      setupOnce(e2, t2) {
        const n2 = (e3) => {
          if (e3.type)
            return e3;
          const n3 = t2().getIntegration(_hr);
          if (n3) {
            try {
              if (function(e4, t3) {
                if (!t3)
                  return false;
                if (function(e5, t4) {
                  const n4 = e5.message, r2 = t4.message;
                  if (!n4 && !r2)
                    return false;
                  if (n4 && !r2 || !n4 && r2)
                    return false;
                  if (n4 !== r2)
                    return false;
                  if (!fr(e5, t4))
                    return false;
                  if (!pr(e5, t4))
                    return false;
                  return true;
                }(e4, t3))
                  return true;
                if (function(e5, t4) {
                  const n4 = gr(t4), r2 = gr(e5);
                  if (!n4 || !r2)
                    return false;
                  if (n4.type !== r2.type || n4.value !== r2.value)
                    return false;
                  if (!fr(e5, t4))
                    return false;
                  if (!pr(e5, t4))
                    return false;
                  return true;
                }(e4, t3))
                  return true;
                return false;
              }(e3, n3._previousEvent))
                return ("undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__) && xe.warn("Event dropped due to being a duplicate of previously captured event."), null;
            } catch (t3) {
              return n3._previousEvent = e3;
            }
            return n3._previousEvent = e3;
          }
          return e3;
        };
        n2.id = this.name, e2(n2);
      }
    };
    hr.__initStatic();
    vr = Object.freeze({ __proto__: null, Breadcrumbs: qn, Dedupe: hr, GlobalHandlers: Xn, HttpContext: dr, LinkedErrors: ur, TryCatch: or });
    yr = {};
    xn.Sentry && xn.Sentry.Integrations && (yr = xn.Sentry.Integrations);
    _r = { ...yr, ...Pn, ...vr };
    br = "new";
    wr = "loading";
    Sr = "loaded";
    kr = "joining-meeting";
    Er = "joined-meeting";
    Mr = "left-meeting";
    Tr = "error";
    Cr = "blocked";
    Or = "off";
    Pr = "sendable";
    xr = "loading";
    Ar = "interrupted";
    jr = "playable";
    Lr = "unknown";
    Dr = "full";
    Nr = "lobby";
    Ir = "none";
    Rr = "base";
    Br = "*";
    Fr = "ejected";
    Ur = "nbf-room";
    Vr = "nbf-token";
    $r = "exp-room";
    Gr = "exp-token";
    qr = "no-room";
    Yr = "meeting-full";
    Jr = "end-of-life";
    Wr = "not-allowed";
    zr = "connection-error";
    Hr = "cam-in-use";
    Qr = "mic-in-use";
    Kr = "cam-mic-in-use";
    Xr = "permissions";
    Zr = "undefined-mediadevices";
    ei = "not-found";
    ti = "constraints";
    ni = "unknown";
    ri = "iframe-ready-for-launch-config";
    ii = "iframe-launch-config";
    oi = "theme-updated";
    ai = "loading";
    si = "load-attempt-failed";
    ci = "loaded";
    li = "started-camera";
    ui = "camera-error";
    di = "joining-meeting";
    hi = "joined-meeting";
    pi = "left-meeting";
    fi = "available-devices-updated";
    gi = "participant-joined";
    mi = "participant-updated";
    vi = "participant-left";
    yi = "participant-counts-updated";
    _i = "access-state-updated";
    bi = "meeting-session-summary-updated";
    wi = "meeting-session-state-updated";
    Si = "meeting-session-data-error";
    ki = "waiting-participant-added";
    Ei = "waiting-participant-updated";
    Mi = "waiting-participant-removed";
    Ti = "track-started";
    Ci = "track-stopped";
    Oi = "transcription-started";
    Pi = "transcription-stopped";
    xi = "transcription-error";
    Ai = "recording-started";
    ji = "recording-stopped";
    Li = "recording-stats";
    Di = "recording-error";
    Ni = "recording-upload-completed";
    Ii = "recording-data";
    Ri = "app-message";
    Bi = "transcription-message";
    Fi = "remote-media-player-started";
    Ui = "remote-media-player-updated";
    Vi = "remote-media-player-stopped";
    $i = "local-screen-share-started";
    Gi = "local-screen-share-stopped";
    qi = "local-screen-share-canceled";
    Yi = "active-speaker-change";
    Ji = "active-speaker-mode-change";
    Wi = "network-quality-change";
    zi = "network-connection";
    Hi = "cpu-load-change";
    Qi = "fullscreen";
    Ki = "exited-fullscreen";
    Xi = "live-streaming-started";
    Zi = "live-streaming-updated";
    eo = "live-streaming-stopped";
    to = "live-streaming-error";
    no = "lang-updated";
    ro = "receive-settings-updated";
    io = "input-settings-updated";
    oo = "nonfatal-error";
    ao = "error";
    so = 102400;
    co = "iframe-call-message";
    lo = "local-screen-start";
    uo = "register-input-handler";
    ho = "daily-method-update-live-streaming-endpoints";
    po = "transmit-log";
    fo = "daily-custom-track";
    go = { NONE: "none", BGBLUR: "background-blur", BGIMAGE: "background-image" };
    mo = { NONE: "none", NOISE_CANCELLATION: "noise-cancellation" };
    vo = { PLAY: "play", PAUSE: "pause" };
    yo = 10;
    _o = ["jpg", "png", "jpeg"];
    bo = "add-endpoints";
    wo = "remove-endpoints";
    Po = ["Chrome", "Firefox"];
    Fo = function() {
      function e2() {
        r(this, e2);
      }
      return s(e2, [{ key: "addListenerForMessagesFromCallMachine", value: function(e3, t2, n2) {
        Q();
      } }, { key: "addListenerForMessagesFromDailyJs", value: function(e3, t2, n2) {
        Q();
      } }, { key: "sendMessageToCallMachine", value: function(e3, t2, n2, r2) {
        Q();
      } }, { key: "sendMessageToDailyJs", value: function(e3, t2) {
        Q();
      } }, { key: "removeListener", value: function(e3) {
        Q();
      } }]), e2;
    }();
    Go = function(e2) {
      u(n2, Fo);
      var t2 = $o(n2);
      function n2() {
        var e3;
        return r(this, n2), (e3 = t2.call(this))._wrappedListeners = {}, e3._messageCallbacks = {}, e3;
      }
      return s(n2, [{ key: "addListenerForMessagesFromCallMachine", value: function(e3, t3, n3) {
        var r2 = this, i2 = function(i3) {
          if (i3.data && "iframe-call-message" === i3.data.what && (!i3.data.callFrameId || i3.data.callFrameId === t3) && (!i3.data.from || "module" !== i3.data.from)) {
            var o2 = Vo({}, i3.data);
            if (delete o2.from, o2.callbackStamp && r2._messageCallbacks[o2.callbackStamp]) {
              var a2 = o2.callbackStamp;
              r2._messageCallbacks[a2].call(n3, o2), delete r2._messageCallbacks[a2];
            }
            delete o2.what, delete o2.callbackStamp, e3.call(n3, o2);
          }
        };
        this._wrappedListeners[e3] = i2, window.addEventListener("message", i2);
      } }, { key: "addListenerForMessagesFromDailyJs", value: function(e3, t3, n3) {
        var r2 = function(r3) {
          if (!(!r3.data || r3.data.what !== co || !r3.data.action || r3.data.from && "module" !== r3.data.from || r3.data.callFrameId && t3 && r3.data.callFrameId !== t3)) {
            var i2 = r3.data;
            e3.call(n3, i2);
          }
        };
        this._wrappedListeners[e3] = r2, window.addEventListener("message", r2);
      } }, { key: "sendMessageToCallMachine", value: function(e3, t3, n3, r2) {
        if (!r2)
          throw new Error("undefined callFrameId. Are you trying to use a DailyCall instance previously destroyed?");
        var i2 = Vo({}, e3);
        if (i2.what = co, i2.from = "module", i2.callFrameId = r2, t3) {
          var o2 = H();
          this._messageCallbacks[o2] = t3, i2.callbackStamp = o2;
        }
        var a2 = n3 ? n3.contentWindow : window, s2 = this._callMachineTargetOrigin(n3);
        s2 && a2.postMessage(i2, s2);
      } }, { key: "sendMessageToDailyJs", value: function(e3, t3) {
        e3.what = co, e3.callFrameId = t3, e3.from = "embedded", window.postMessage(e3, this._targetOriginFromWindowLocation());
      } }, { key: "removeListener", value: function(e3) {
        var t3 = this._wrappedListeners[e3];
        t3 && (window.removeEventListener("message", t3), delete this._wrappedListeners[e3]);
      } }, { key: "forwardPackagedMessageToCallMachine", value: function(e3, t3, n3) {
        var r2 = Vo({}, e3);
        r2.callFrameId = n3;
        var i2 = t3 ? t3.contentWindow : window, o2 = this._callMachineTargetOrigin(t3);
        o2 && i2.postMessage(r2, o2);
      } }, { key: "addListenerForPackagedMessagesFromCallMachine", value: function(e3, t3) {
        var n3 = function(n4) {
          if (n4.data && "iframe-call-message" === n4.data.what && (!n4.data.callFrameId || n4.data.callFrameId === t3) && (!n4.data.from || "module" !== n4.data.from)) {
            var r2 = n4.data;
            e3(r2);
          }
        };
        return this._wrappedListeners[e3] = n3, window.addEventListener("message", n3), e3;
      } }, { key: "removeListenerForPackagedMessagesFromCallMachine", value: function(e3) {
        var t3 = this._wrappedListeners[e3];
        t3 && (window.removeEventListener("message", t3), delete this._wrappedListeners[e3]);
      } }, { key: "_callMachineTargetOrigin", value: function(e3) {
        return e3 ? e3.src ? new URL(e3.src).origin : void 0 : this._targetOriginFromWindowLocation();
      } }, { key: "_targetOriginFromWindowLocation", value: function() {
        return "file:" === window.location.protocol ? "*" : window.location.origin;
      } }]), n2;
    }();
    Yo = function(e2) {
      u(n2, Fo);
      var t2 = qo(n2);
      function n2() {
        var e3;
        return r(this, n2), e3 = t2.call(this), global.callMachineToDailyJsEmitter = global.callMachineToDailyJsEmitter || new v.EventEmitter(), global.dailyJsToCallMachineEmitter = global.dailyJsToCallMachineEmitter || new v.EventEmitter(), e3._wrappedListeners = {}, e3._messageCallbacks = {}, e3;
      }
      return s(n2, [{ key: "addListenerForMessagesFromCallMachine", value: function(e3, t3, n3) {
        this._addListener(e3, global.callMachineToDailyJsEmitter, n3, "received call machine message");
      } }, { key: "addListenerForMessagesFromDailyJs", value: function(e3, t3, n3) {
        this._addListener(e3, global.dailyJsToCallMachineEmitter, n3, "received daily-js message");
      } }, { key: "sendMessageToCallMachine", value: function(e3, t3) {
        this._sendMessage(e3, global.dailyJsToCallMachineEmitter, "sending message to call machine", t3);
      } }, { key: "sendMessageToDailyJs", value: function(e3) {
        this._sendMessage(e3, global.callMachineToDailyJsEmitter, "sending message to daily-js");
      } }, { key: "removeListener", value: function(e3) {
        var t3 = this._wrappedListeners[e3];
        t3 && (global.callMachineToDailyJsEmitter.removeListener("message", t3), global.dailyJsToCallMachineEmitter.removeListener("message", t3), delete this._wrappedListeners[e3]);
      } }, { key: "_addListener", value: function(e3, t3, n3, r2) {
        var i2 = this, o2 = function(t4) {
          if (t4.callbackStamp && i2._messageCallbacks[t4.callbackStamp]) {
            var r3 = t4.callbackStamp;
            i2._messageCallbacks[r3].call(n3, t4), delete i2._messageCallbacks[r3];
          }
          e3.call(n3, t4);
        };
        this._wrappedListeners[e3] = o2, t3.addListener("message", o2);
      } }, { key: "_sendMessage", value: function(e3, t3, n3, r2) {
        if (r2) {
          var i2 = H();
          this._messageCallbacks[i2] = r2, e3.callbackStamp = i2;
        }
        t3.emit("message", e3);
      } }]), n2;
    }();
    Jo = "replace";
    Wo = "shallow-merge";
    zo = [Jo, Wo];
    Ho = function() {
      function e2() {
        var t2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n2 = t2.data, i2 = t2.mergeStrategy, o2 = void 0 === i2 ? Jo : i2;
        r(this, e2), e2._validateMergeStrategy(o2), e2._validateData(n2, o2), this.mergeStrategy = o2, this.data = n2;
      }
      return s(e2, [{ key: "isNoOp", value: function() {
        return e2.isNoOpUpdate(this.data, this.mergeStrategy);
      } }], [{ key: "isNoOpUpdate", value: function(e3, t2) {
        return 0 === Object.keys(e3).length && t2 === Wo;
      } }, { key: "_validateMergeStrategy", value: function(e3) {
        if (!zo.includes(e3))
          throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(zo, "]"));
      } }, { key: "_validateData", value: function(e3, t2) {
        if (!function(e4) {
          if (null == e4 || "object" !== i(e4))
            return false;
          var t3 = Object.getPrototypeOf(e4);
          return null == t3 || t3 === Object.prototype;
        }(e3))
          throw Error("Meeting session data must be a plain (map-like) object");
        var n2;
        try {
          if (n2 = JSON.stringify(e3), t2 === Jo) {
            var r2 = JSON.parse(n2);
            N(r2, e3) || console.warn("The meeting session data provided will be modified when serialized.", r2, e3);
          } else if (t2 === Wo) {
            for (var o2 in e3)
              if (Object.hasOwnProperty.call(e3, o2) && void 0 !== e3[o2]) {
                var a2 = JSON.parse(JSON.stringify(e3[o2]));
                N(e3[o2], a2) || console.warn("At least one key in the meeting session data provided will be modified when serialized.", a2, e3[o2]);
              }
          }
        } catch (e4) {
          throw Error("Meeting session data must be serializable to JSON: ".concat(e4));
        }
        if (n2.length > so)
          throw Error("Meeting session data is too large (".concat(n2.length, " characters). Maximum size suppported is ").concat(so, "."));
      } }]), e2;
    }();
    Zo = function() {
      function e2() {
        r(this, e2), this._currentLoad = null;
      }
      return s(e2, [{ key: "load", value: function(e3, t2, n2, r2) {
        if (this.loaded)
          return window._dailyCallObjectSetup(e3), void n2(true);
        !function(e4, t3) {
          window._dailyConfig || (window._dailyConfig = {}), window._dailyConfig.callFrameId = e4, window._dailyConfig.avoidEval = t3;
        }(e3, t2), this._currentLoad && this._currentLoad.cancel(), this._currentLoad = new ea(function() {
          n2(false);
        }, r2), this._currentLoad.start();
      } }, { key: "cancel", value: function() {
        this._currentLoad && this._currentLoad.cancel();
      } }, { key: "loaded", get: function() {
        return this._currentLoad && this._currentLoad.succeeded;
      } }]), e2;
    }();
    ea = function() {
      function e2(t2, n2) {
        r(this, e2), this._attemptsRemaining = 3, this._currentAttempt = null, this._successCallback = t2, this._failureCallback = n2;
      }
      return s(e2, [{ key: "start", value: function() {
        var e3 = this;
        if (!this._currentAttempt) {
          this._currentAttempt = new ra(this._successCallback, function t2(n2) {
            e3._currentAttempt.cancelled || (e3._attemptsRemaining--, e3._failureCallback(n2, e3._attemptsRemaining > 0), e3._attemptsRemaining <= 0 || setTimeout(function() {
              e3._currentAttempt.cancelled || (e3._currentAttempt = new ra(e3._successCallback, t2), e3._currentAttempt.start());
            }, 3e3));
          }), this._currentAttempt.start();
        }
      } }, { key: "cancel", value: function() {
        this._currentAttempt && this._currentAttempt.cancel();
      } }, { key: "cancelled", get: function() {
        return this._currentAttempt && this._currentAttempt.cancelled;
      } }, { key: "succeeded", get: function() {
        return this._currentAttempt && this._currentAttempt.succeeded;
      } }]), e2;
    }();
    ta = function(e2) {
      u(n2, Ko(Error));
      var t2 = Xo(n2);
      function n2() {
        return r(this, n2), t2.apply(this, arguments);
      }
      return s(n2);
    }();
    na = 2e4;
    ra = function() {
      function e2(t3, n2) {
        r(this, e2), this._loadAttemptImpl = ko() || !_dailyConfig.avoidEval ? new ia(t3, n2) : new oa(t3, n2);
      }
      var t2;
      return s(e2, [{ key: "start", value: (t2 = n(function* () {
        return this._loadAttemptImpl.start();
      }), function() {
        return t2.apply(this, arguments);
      }) }, { key: "cancel", value: function() {
        this._loadAttemptImpl.cancel();
      } }, { key: "cancelled", get: function() {
        return this._loadAttemptImpl.cancelled;
      } }, { key: "succeeded", get: function() {
        return this._loadAttemptImpl.succeeded;
      } }]), e2;
    }();
    ia = function() {
      function e2(t3, n2) {
        r(this, e2), this.cancelled = false, this.succeeded = false, this._networkTimedOut = false, this._networkTimeout = null, this._iosCache = "undefined" != typeof iOSCallObjectBundleCache && iOSCallObjectBundleCache, this._refetchHeaders = null, this._successCallback = t3, this._failureCallback = n2;
      }
      var t2, i2, o2, a2;
      return s(e2, [{ key: "start", value: (a2 = n(function* () {
        var e3 = X();
        !(yield this._tryLoadFromIOSCache(e3)) && this._loadFromNetwork(e3);
      }), function() {
        return a2.apply(this, arguments);
      }) }, { key: "cancel", value: function() {
        clearTimeout(this._networkTimeout), this.cancelled = true;
      } }, { key: "_tryLoadFromIOSCache", value: (o2 = n(function* (e3) {
        if (!this._iosCache)
          return false;
        try {
          var t3 = yield this._iosCache.get(e3);
          return !!this.cancelled || !!t3 && (t3.code ? (Function('"use strict";' + t3.code)(), this.succeeded = true, this._successCallback(), true) : (this._refetchHeaders = t3.refetchHeaders, false));
        } catch (e4) {
          return false;
        }
      }), function(e3) {
        return o2.apply(this, arguments);
      }) }, { key: "_loadFromNetwork", value: (i2 = n(function* (e3) {
        var t3 = this;
        this._networkTimeout = setTimeout(function() {
          t3._networkTimedOut = true, t3._failureCallback("Timed out (>".concat(na, " ms) when loading call object bundle ").concat(e3));
        }, na);
        try {
          var n2 = this._refetchHeaders ? { headers: this._refetchHeaders } : {}, r2 = yield fetch(e3, n2);
          if (clearTimeout(this._networkTimeout), this.cancelled || this._networkTimedOut)
            throw new ta();
          var i3 = yield this._getBundleCodeFromResponse(e3, r2);
          if (this.cancelled)
            throw new ta();
          Function('"use strict";' + i3)(), this._iosCache && this._iosCache.set(e3, i3, r2.headers), this.succeeded = true, this._successCallback();
        } catch (t4) {
          if (clearTimeout(this._networkTimeout), t4 instanceof ta || this.cancelled || this._networkTimedOut)
            return;
          this._failureCallback("Failed to load call object bundle ".concat(e3, ": ").concat(t4));
        }
      }), function(e3) {
        return i2.apply(this, arguments);
      }) }, { key: "_getBundleCodeFromResponse", value: (t2 = n(function* (e3, t3) {
        if (t3.ok)
          return yield t3.text();
        if (this._iosCache && 304 === t3.status)
          return (yield this._iosCache.renew(e3, t3.headers)).code;
        throw new Error("Received ".concat(t3.status, " response"));
      }), function(e3, n2) {
        return t2.apply(this, arguments);
      }) }]), e2;
    }();
    oa = function() {
      function e2(t3, n2) {
        r(this, e2), this.cancelled = false, this.succeeded = false, this._successCallback = t3, this._failureCallback = n2, this._attemptId = H(), this._networkTimeout = null, this._scriptElement = null;
      }
      var t2;
      return s(e2, [{ key: "start", value: (t2 = n(function* () {
        window._dailyCallMachineLoadWaitlist || (window._dailyCallMachineLoadWaitlist = /* @__PURE__ */ new Set());
        var e3 = X();
        "object" === ("undefined" == typeof document ? "undefined" : i(document)) ? this._startLoading(e3) : this._failureCallback("Call object bundle must be loaded in a DOM/web context");
      }), function() {
        return t2.apply(this, arguments);
      }) }, { key: "cancel", value: function() {
        this._stopLoading(), this.cancelled = true;
      } }, { key: "_startLoading", value: function(e3) {
        var t3 = this;
        this._signUpForCallMachineLoadWaitlist(), this._networkTimeout = setTimeout(function() {
          t3._stopLoading(), t3._failureCallback("Timed out (>".concat(na, " ms) when loading call object bundle ").concat(e3));
        }, na);
        var r2 = document.getElementsByTagName("head")[0], i2 = document.createElement("script");
        this._scriptElement = i2, i2.onload = n(function* () {
          t3._stopLoading(), t3.succeeded = true, t3._successCallback();
        }), i2.onerror = function() {
          var e4 = n(function* (e5) {
            t3._stopLoading(), t3._failureCallback("Failed to load call object bundle ".concat(e5.target.src));
          });
          return function(t4) {
            return e4.apply(this, arguments);
          };
        }(), i2.src = e3, r2.appendChild(i2);
      } }, { key: "_stopLoading", value: function() {
        this._withdrawFromCallMachineLoadWaitlist(), clearTimeout(this._networkTimeout), this._scriptElement && (this._scriptElement.onload = null, this._scriptElement.onerror = null);
      } }, { key: "_signUpForCallMachineLoadWaitlist", value: function() {
        window._dailyCallMachineLoadWaitlist.add(this._attemptId);
      } }, { key: "_withdrawFromCallMachineLoadWaitlist", value: function() {
        window._dailyCallMachineLoadWaitlist.delete(this._attemptId);
      } }]), e2;
    }();
    aa = function(e2, t2, n2) {
      return true === la(e2.local, t2, n2);
    };
    sa = function(e2, t2, n2) {
      return e2.local.streams && e2.local.streams[t2] && e2.local.streams[t2].stream && e2.local.streams[t2].stream["get".concat("video" === n2 ? "Video" : "Audio", "Tracks")]()[0];
    };
    ca = function(e2, t2, n2, r2) {
      var i2 = ua(e2, t2, n2, r2);
      return i2 && i2.pendingTrack;
    };
    la = function(e2, t2, n2) {
      if (!e2)
        return false;
      var r2 = function(e3) {
        switch (e3) {
          case "avatar":
            return true;
          case "staged":
            return e3;
          default:
            return !!e3;
        }
      }, i2 = e2.public.subscribedTracks;
      return i2 && i2[t2] ? -1 === ["cam-audio", "cam-video", "screen-video", "screen-audio", "rmpAudio", "rmpVideo"].indexOf(n2) && i2[t2].custom ? [true, "staged"].includes(i2[t2].custom) ? r2(i2[t2].custom) : r2(i2[t2].custom[n2]) : r2(i2[t2][n2]) : !i2 || r2(i2.ALL);
    };
    ua = function(e2, t2, n2, r2) {
      var i2 = Object.values(e2.streams || {}).filter(function(e3) {
        return e3.participantId === t2 && e3.type === n2 && e3.pendingTrack && e3.pendingTrack.kind === r2;
      }).sort(function(e3, t3) {
        return new Date(t3.starttime) - new Date(e3.starttime);
      });
      return i2 && i2[0];
    };
    da = function(e2, t2) {
      var n2 = e2.local.public.customTracks;
      if (n2 && n2[t2])
        return n2[t2].track;
    };
    ya = /* @__PURE__ */ new Map();
    _a = null;
    Sa = /* @__PURE__ */ new Map();
    ka = null;
    Ea = 3e3;
    Oa = /* @__PURE__ */ new Set();
    Aa = ["videoTrack"];
    ja = ["result"];
    La = ["preserveIframe"];
    Fa = "video";
    Ua = "voice";
    Va = ko() ? { data: {} } : { data: {}, topology: "none" };
    $a = { present: 0, hidden: 0 };
    Ga = { maxBitrate: { min: 1e5, max: 25e5 }, maxFramerate: { min: 1, max: 30 }, scaleResolutionDownBy: { min: 1, max: 8 } };
    qa = Object.keys(Ga);
    Ya = ["state", "volume", "simulcastEncodings"];
    Ja = { androidInCallNotification: { title: "string", subtitle: "string", iconName: "string", disableForCustomOverride: "boolean" }, disableAutoDeviceManagement: { audio: "boolean", video: "boolean" } };
    Wa = { id: { iconPath: "string", iconPathDarkMode: "string", label: "string", tooltip: "string" } };
    za = { id: { allow: "string", controlledBy: "'*' | 'owners' | string[]", csp: "string", iconURL: "string", label: "string", loading: "'eager' | 'lazy'", location: "'main' | 'sidebar'", name: "string", referrerPolicy: "string", sandbox: "string", src: "string", srcdoc: "string", shared: "string[] | 'owners' | boolean" } };
    Ha = { customIntegrations: { validate: ms, help: fs() }, customTrayButtons: { validate: gs, help: "customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Wa)) }, url: { validate: function(e2) {
      return "string" == typeof e2;
    }, help: "url should be a string" }, baseUrl: { validate: function(e2) {
      return "string" == typeof e2;
    }, help: "baseUrl should be a string" }, token: { validate: function(e2) {
      return "string" == typeof e2;
    }, help: "token should be a string", queryString: "t" }, dailyConfig: { validate: function(e2, t2) {
      try {
        return t2.validateDailyConfig(e2), window._dailyConfig || (window._dailyConfig = {}), window._dailyConfig.experimentalGetUserMediaConstraintsModify = e2.experimentalGetUserMediaConstraintsModify, window._dailyConfig.userMediaVideoConstraints = e2.userMediaVideoConstraints, window._dailyConfig.userMediaAudioConstraints = e2.userMediaAudioConstraints, window._dailyConfig.callObjectBundleUrlOverride = e2.callObjectBundleUrlOverride, window._dailyConfig.proxyUrl = e2.proxyUrl, window._dailyConfig.iceConfig = e2.iceConfig, true;
      } catch (e3) {
        console.error("Failed to validate dailyConfig", e3);
      }
      return false;
    }, help: "Unsupported dailyConfig. Check error logs for detailed info." }, reactNativeConfig: { validate: function(e2) {
      return vs(e2, Ja);
    }, help: "reactNativeConfig should look like ".concat(JSON.stringify(Ja), ", all fields optional") }, lang: { validate: function(e2) {
      return ["de", "en-us", "en", "es", "fi", "fr", "it", "jp", "ka", "nl", "no", "pl", "pt", "pt-BR", "ru", "sv", "tr", "user"].includes(e2);
    }, help: "language not supported. Options are: de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user" }, userName: true, userData: { validate: function(e2) {
      try {
        return cs(e2), true;
      } catch (e3) {
        return console.error(e3), false;
      }
    }, help: "invalid userData type provided" }, startVideoOff: true, startAudioOff: true, activeSpeakerMode: true, showLeaveButton: true, showLocalVideo: true, showParticipantsBar: true, showFullscreenButton: true, showUserNameChangeUI: true, iframeStyle: true, customLayout: true, cssFile: true, cssText: true, bodyClass: true, videoSource: { validate: function(e2, t2) {
      return t2._preloadCache.videoDeviceId = e2, true;
    } }, audioSource: { validate: function(e2, t2) {
      return t2._preloadCache.audioDeviceId = e2, true;
    } }, subscribeToTracksAutomatically: { validate: function(e2, t2) {
      return t2._preloadCache.subscribeToTracksAutomatically = e2, true;
    } }, theme: { validate: function(e2) {
      var t2 = ["accent", "accentText", "background", "backgroundAccent", "baseText", "border", "mainAreaBg", "mainAreaBgAccent", "mainAreaText", "supportiveText"], n2 = function(e3) {
        for (var n3 = 0, r2 = Object.keys(e3); n3 < r2.length; n3++) {
          var i2 = r2[n3];
          if (!t2.includes(i2))
            return console.error('unsupported color "'.concat(i2, '". Valid colors: ').concat(t2.join(", "))), false;
          if (!e3[i2].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))
            return console.error("".concat(i2, ' theme color should be provided in valid hex color format. Received: "').concat(e3[i2], '"')), false;
        }
        return true;
      };
      return "object" === i(e2) && ("light" in e2 && "dark" in e2 || "colors" in e2) ? "light" in e2 && "dark" in e2 ? "colors" in e2.light ? "colors" in e2.dark ? n2(e2.light.colors) && n2(e2.dark.colors) : (console.error('Dark theme is missing "colors" property.', e2), false) : (console.error('Light theme is missing "colors" property.', e2), false) : n2(e2.colors) : (console.error('Theme must contain either both "light" and "dark" properties, or "colors".', e2), false);
    }, help: "unsupported theme configuration. Check error logs for detailed info." }, layoutConfig: { validate: function(e2) {
      if ("grid" in e2) {
        var t2 = e2.grid;
        if ("maxTilesPerPage" in t2) {
          if (!Number.isInteger(t2.maxTilesPerPage))
            return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t2.maxTilesPerPage, ".")), false;
          if (t2.maxTilesPerPage > 49)
            return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."), false;
        }
        if ("minTilesPerPage" in t2) {
          if (!Number.isInteger(t2.minTilesPerPage))
            return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t2.minTilesPerPage, ".")), false;
          if (t2.minTilesPerPage < 1)
            return console.error("grid.minTilesPerPage can't be lower than 1."), false;
          if ("maxTilesPerPage" in t2 && t2.minTilesPerPage > t2.maxTilesPerPage)
            return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."), false;
        }
      }
      return true;
    }, help: "unsupported layoutConfig. Check error logs for detailed info." }, receiveSettings: { validate: function(e2) {
      return ls(e2, { allowAllParticipantsKey: false });
    }, help: ps({ allowAllParticipantsKey: false }) }, sendSettings: { validate: function(e2, t2) {
      return !!function(e3, t3) {
        try {
          return t3.validateUpdateSendSettings(e3), true;
        } catch (e4) {
          return console.error("Failed to validate send settings", e4), false;
        }
      }(e2, t2) && (t2._preloadCache.sendSettings = e2, true);
    }, help: "Invalid sendSettings provided. Check error logs for detailed info." }, inputSettings: { validate: function(e2, t2) {
      return !!us(e2) && (t2._preloadCache.inputSettings || (t2._preloadCache.inputSettings = {}), ds(e2), e2.audio && (t2._preloadCache.inputSettings.audio = e2.audio), e2.video && (t2._preloadCache.inputSettings.video = e2.video), true);
    }, help: hs() }, layout: { validate: function(e2) {
      return "custom-v1" === e2 || "browser" === e2 || "none" === e2;
    }, help: 'layout may only be set to "custom-v1"', queryString: "layout" }, emb: { queryString: "emb" }, embHref: { queryString: "embHref" }, dailyJsVersion: { queryString: "dailyJsVersion" }, proxy: { queryString: "proxy" }, strictMode: true };
    Qa = { styles: { validate: function(e2) {
      for (var t2 in e2)
        if ("cam" !== t2 && "screen" !== t2)
          return false;
      if (e2.cam) {
        for (var n2 in e2.cam)
          if ("div" !== n2 && "video" !== n2)
            return false;
      }
      if (e2.screen) {
        for (var r2 in e2.screen)
          if ("div" !== r2 && "video" !== r2)
            return false;
      }
      return true;
    }, help: "styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }" }, setSubscribedTracks: { validate: function(e2, t2) {
      if (t2._preloadCache.subscribeToTracksAutomatically)
        return false;
      var n2 = [true, false, "staged"];
      if (n2.includes(e2) || !ko() && "avatar" === e2)
        return true;
      var r2 = ["audio", "video", "screenAudio", "screenVideo", "rmpAudio", "rmpVideo"];
      return function e3(t3) {
        var i2 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        for (var o2 in t3)
          if ("custom" === o2) {
            if (!n2.includes(t3[o2]) && !e3(t3[o2], true))
              return false;
          } else {
            var a2 = !i2 && !r2.includes(o2), s2 = !n2.includes(t3[o2]);
            if (a2 || s2)
              return false;
          }
        return true;
      }(e2);
    }, help: "setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: " + "true".concat(ko() ? "" : " | 'avatar'", " | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }") }, setAudio: true, setVideo: true, setScreenShare: { validate: function(e2) {
      return false === e2;
    }, help: "setScreenShare must be false, as it's only meant for stopping remote participants' screen shares" }, eject: true, updatePermissions: { validate: function(e2) {
      for (var t2 = 0, n2 = Object.entries(e2); t2 < n2.length; t2++) {
        var r2 = g(n2[t2], 2), i2 = r2[0], o2 = r2[1];
        switch (i2) {
          case "hasPresence":
            if ("boolean" != typeof o2)
              return false;
            break;
          case "canSend":
            if (o2 instanceof Set || o2 instanceof Array) {
              var a2, s2 = ["video", "audio", "screenVideo", "screenAudio", "customVideo", "customAudio"], c2 = Ra(o2);
              try {
                for (c2.s(); !(a2 = c2.n()).done; ) {
                  var l2 = a2.value;
                  if (!s2.includes(l2))
                    return false;
                }
              } catch (e3) {
                c2.e(e3);
              } finally {
                c2.f();
              }
            } else if ("boolean" != typeof o2)
              return false;
            o2 instanceof Array && (e2.canSend = new Set(o2));
            break;
          case "canAdmin":
            if (o2 instanceof Set || o2 instanceof Array) {
              var u2, d2 = ["participants", "streaming", "transcription"], h2 = Ra(o2);
              try {
                for (h2.s(); !(u2 = h2.n()).done; ) {
                  var p2 = u2.value;
                  if (!d2.includes(p2))
                    return false;
                }
              } catch (e3) {
                h2.e(e3);
              } finally {
                h2.f();
              }
            } else if ("boolean" != typeof o2)
              return false;
            o2 instanceof Array && (e2.canAdmin = new Set(o2));
            break;
          default:
            return false;
        }
      }
      return true;
    }, help: "updatePermissions can take hasPresence, canSend, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)." } };
    Ka = function(t2) {
      u(te2, v);
      var o2, a2, l2, d2, h2, f2, m2, y2, _2, b2, w2, S2, k2, E2, M2, T2, C2, O2, P2, x2, A2, j2, L2, D2, I2, R2, B2, F2, U2, V2, $2, G2, q2, Y2, J2, W2, Q2, Z2, ee2 = Ia(te2);
      function te2(e2) {
        var t3, n2, i2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        if (r(this, te2), p(c(t3 = ee2.call(this)), "startListeningForDeviceChanges", function() {
          Ma(t3.handleDeviceChange);
        }), p(c(t3), "stopListeningForDeviceChanges", function() {
          Ta(t3.handleDeviceChange);
        }), p(c(t3), "handleDeviceChange", function(e3) {
          e3 = e3.map(function(e4) {
            return JSON.parse(JSON.stringify(e4));
          }), t3.emit(fi, { action: fi, availableDevices: e3 });
        }), p(c(t3), "handleNativeAppActiveStateChange", function(e3) {
          t3.disableReactNativeAutoDeviceManagement("video") || (e3 ? t3.camUnmutedBeforeLosingNativeActiveState && t3.setLocalVideo(true) : (t3.camUnmutedBeforeLosingNativeActiveState = t3.localVideo(), t3.camUnmutedBeforeLosingNativeActiveState && t3.setLocalVideo(false)));
        }), p(c(t3), "handleNativeAudioFocusChange", function(e3) {
          t3.disableReactNativeAutoDeviceManagement("audio") || (t3._hasNativeAudioFocus = e3, t3.toggleParticipantAudioBasedOnNativeAudioFocus(), t3._hasNativeAudioFocus ? t3.micUnmutedBeforeLosingNativeAudioFocus && t3.setLocalAudio(true) : (t3.micUnmutedBeforeLosingNativeAudioFocus = t3.localAudio(), t3.setLocalAudio(false)));
        }), p(c(t3), "handleNativeSystemScreenCaptureStop", function() {
          t3.stopScreenShare();
        }), t3.strictMode = void 0 === i2.strictMode || i2.strictMode, xa) {
          if (t3._logDuplicateInstanceAttempt(), t3.strictMode)
            throw new Error("Duplicate DailyIframe instances are not allowed");
        } else
          n2 = c(t3), xa = n2;
        if (i2.dailyJsVersion = te2.version(), t3._iframe = e2, t3._callObjectMode = "none" === i2.layout && !t3._iframe, t3._preloadCache = { subscribeToTracksAutomatically: true, audioDeviceId: null, videoDeviceId: null, outputDeviceId: null, inputSettings: null, sendSettings: null, videoTrackForNetworkConnectivityTest: null, videoTrackForConnectionQualityTest: null }, t3._callObjectMode && (window._dailyPreloadCache = t3._preloadCache), void 0 !== i2.showLocalVideo ? t3._callObjectMode ? console.error("showLocalVideo is not available in call object mode") : t3._showLocalVideo = !!i2.showLocalVideo : t3._showLocalVideo = true, void 0 !== i2.showParticipantsBar ? t3._callObjectMode ? console.error("showParticipantsBar is not available in call object mode") : t3._showParticipantsBar = !!i2.showParticipantsBar : t3._showParticipantsBar = true, void 0 !== i2.customIntegrations ? t3._callObjectMode ? console.error("customIntegrations is not available in call object mode") : t3._customIntegrations = i2.customIntegrations : t3._customIntegrations = {}, void 0 !== i2.customTrayButtons ? t3._callObjectMode ? console.error("customTrayButtons is not available in call object mode") : t3._customTrayButtons = i2.customTrayButtons : t3._customTrayButtons = {}, void 0 !== i2.activeSpeakerMode ? t3._callObjectMode ? console.error("activeSpeakerMode is not available in call object mode") : t3._activeSpeakerMode = !!i2.activeSpeakerMode : t3._activeSpeakerMode = false, i2.receiveSettings ? t3._callObjectMode ? t3._receiveSettings = i2.receiveSettings : console.error("receiveSettings is only available in call object mode") : t3._receiveSettings = {}, t3.validateProperties(i2), t3.properties = Na({}, i2), t3._preloadCache.inputSettings || (t3._preloadCache.inputSettings = {}), i2.inputSettings && i2.inputSettings.audio && (t3._preloadCache.inputSettings.audio = i2.inputSettings.audio), i2.inputSettings && i2.inputSettings.video && (t3._preloadCache.inputSettings.video = i2.inputSettings.video), t3._callObjectLoader = t3._callObjectMode ? new Zo() : null, t3._callState = br, t3._isPreparingToJoin = false, t3._accessState = { access: Lr }, t3._meetingSessionSummary = {}, t3._finalSummaryOfPrevSession = {}, t3._meetingSessionState = bs(Va, t3._callObjectMode), t3._nativeInCallAudioMode = Fa, t3._participants = {}, t3._participantCounts = $a, t3._rmpPlayerState = {}, t3._waitingParticipants = {}, t3._inputEventsOn = {}, t3._network = { threshold: "good", quality: 100 }, t3._activeSpeaker = {}, t3._callFrameId = H(), t3._localAudioLevel = 0, t3._remoteParticipantsAudioLevel = {}, t3._messageChannel = ko() ? new Yo() : new Go(), t3._iframe && (t3._iframe.requestFullscreen ? t3._iframe.addEventListener("fullscreenchange", function() {
          document.fullscreenElement === t3._iframe ? (t3.emit(Qi, { action: Qi }), t3.sendMessageToCallMachine({ action: Qi })) : (t3.emit(Ki, { action: Ki }), t3.sendMessageToCallMachine({ action: Ki }));
        }) : t3._iframe.webkitRequestFullscreen && t3._iframe.addEventListener("webkitfullscreenchange", function() {
          document.webkitFullscreenElement === t3._iframe ? (t3.emit(Qi, { action: Qi }), t3.sendMessageToCallMachine({ action: Qi })) : (t3.emit(Ki, { action: Ki }), t3.sendMessageToCallMachine({ action: Ki }));
        })), ko()) {
          var o3 = t3.nativeUtils();
          o3.addAudioFocusChangeListener && o3.removeAudioFocusChangeListener && o3.addAppActiveStateChangeListener && o3.removeAppActiveStateChangeListener && o3.addSystemScreenCaptureStopListener && o3.removeSystemScreenCaptureStopListener || console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"), t3._hasNativeAudioFocus = true, o3.addAudioFocusChangeListener(t3.handleNativeAudioFocusChange), o3.addAppActiveStateChangeListener(t3.handleNativeAppActiveStateChange), o3.addSystemScreenCaptureStopListener(t3.handleNativeSystemScreenCaptureStop);
        }
        return t3._callObjectMode && t3.startListeningForDeviceChanges(), t3._messageChannel.addListenerForMessagesFromCallMachine(t3.handleMessageFromCallMachine, t3._callFrameId, c(t3)), t3;
      }
      return s(te2, [{ key: "destroy", value: (Z2 = n(function* () {
        try {
          yield this.leave();
        } catch (e3) {
        }
        var e2 = this._iframe;
        if (e2) {
          var t3 = e2.parentElement;
          t3 && t3.removeChild(e2);
        }
        if (this._messageChannel.removeListener(this.handleMessageFromCallMachine), ko()) {
          var n2 = this.nativeUtils();
          n2.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange), n2.removeAppActiveStateChangeListener(this.handleNativeAppActiveStateChange), n2.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop);
        }
        this._callObjectMode && this.stopListeningForDeviceChanges(), this.resetMeetingDependentVars(), this._destroyed = true;
        try {
          this.emit("call-instance-destroyed", { action: "call-instance-destroyed" });
        } catch (e3) {
          console.log("could not emit call-instance-destroyed");
        }
        this.strictMode && (this._callFrameId = void 0), xa = void 0;
      }), function() {
        return Z2.apply(this, arguments);
      }) }, { key: "isDestroyed", value: function() {
        return !!this._destroyed;
      } }, { key: "loadCss", value: function(e2) {
        var t3 = e2.bodyClass, n2 = e2.cssFile, r2 = e2.cssText;
        return as(), this.sendMessageToCallMachine({ action: "load-css", cssFile: this.absoluteUrl(n2), bodyClass: t3, cssText: r2 }), this;
      } }, { key: "iframe", value: function() {
        return as(), this._iframe;
      } }, { key: "meetingState", value: function() {
        return this._callState;
      } }, { key: "accessState", value: function() {
        return is(this._callObjectMode, "accessState()"), this._accessState;
      } }, { key: "participants", value: function() {
        return this._participants;
      } }, { key: "participantCounts", value: function() {
        return this._participantCounts;
      } }, { key: "waitingParticipants", value: function() {
        return is(this._callObjectMode, "waitingParticipants()"), this._waitingParticipants;
      } }, { key: "validateParticipantProperties", value: function(e2, t3) {
        for (var n2 in t3) {
          if (!Qa[n2])
            throw new Error("unrecognized updateParticipant property ".concat(n2));
          if (Qa[n2].validate && !Qa[n2].validate(t3[n2], this, this._participants[e2]))
            throw new Error(Qa[n2].help);
        }
      } }, { key: "updateParticipant", value: function(e2, t3) {
        return this._participants.local && this._participants.local.session_id === e2 && (e2 = "local"), e2 && t3 && (this.validateParticipantProperties(e2, t3), this.sendMessageToCallMachine({ action: "update-participant", id: e2, properties: t3 })), this;
      } }, { key: "updateParticipants", value: function(e2) {
        var t3 = this._participants.local && this._participants.local.session_id;
        for (var n2 in e2)
          n2 === t3 && (n2 = "local"), n2 && e2[n2] && this.validateParticipantProperties(n2, e2[n2]);
        return this.sendMessageToCallMachine({ action: "update-participants", participants: e2 }), this;
      } }, { key: "updateWaitingParticipant", value: (Q2 = n(function* () {
        var e2 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        if (is(this._callObjectMode, "updateWaitingParticipant()"), Za(this._callState, "updateWaitingParticipant()"), "string" != typeof t3 || "object" !== i(n2))
          throw new Error("updateWaitingParticipant() must take an id string and a updates object");
        return new Promise(function(r2, i2) {
          e2.sendMessageToCallMachine({ action: "daily-method-update-waiting-participant", id: t3, updates: n2 }, function(e3) {
            e3.error && i2(e3.error), e3.id || i2(new Error("unknown error in updateWaitingParticipant()")), r2({ id: e3.id });
          });
        });
      }), function() {
        return Q2.apply(this, arguments);
      }) }, { key: "updateWaitingParticipants", value: (W2 = n(function* () {
        var e2 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        if (is(this._callObjectMode, "updateWaitingParticipants()"), Za(this._callState, "updateWaitingParticipants()"), "object" !== i(t3))
          throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");
        return new Promise(function(n2, r2) {
          e2.sendMessageToCallMachine({ action: "daily-method-update-waiting-participants", updatesById: t3 }, function(e3) {
            e3.error && r2(e3.error), e3.ids || r2(new Error("unknown error in updateWaitingParticipants()")), n2({ ids: e3.ids });
          });
        });
      }), function() {
        return W2.apply(this, arguments);
      }) }, { key: "requestAccess", value: (J2 = n(function* () {
        var e2 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n2 = t3.access, r2 = void 0 === n2 ? { level: Dr } : n2, i2 = t3.name, o3 = void 0 === i2 ? "" : i2;
        return is(this._callObjectMode, "requestAccess()"), Za(this._callState, "requestAccess()"), new Promise(function(t4, n3) {
          e2.sendMessageToCallMachine({ action: "daily-method-request-access", access: r2, name: o3 }, function(e3) {
            e3.error && n3(e3.error), e3.access || n3(new Error("unknown error in requestAccess()")), t4({ access: e3.access, granted: e3.granted });
          });
        });
      }), function() {
        return J2.apply(this, arguments);
      }) }, { key: "localAudio", value: function() {
        return this._participants.local ? !["blocked", "off"].includes(this._participants.local.tracks.audio.state) : null;
      } }, { key: "localVideo", value: function() {
        return this._participants.local ? !["blocked", "off"].includes(this._participants.local.tracks.video.state) : null;
      } }, { key: "setLocalAudio", value: function(e2) {
        return this.sendMessageToCallMachine({ action: "local-audio", state: e2 }), this;
      } }, { key: "setLocalVideo", value: function(e2) {
        return this.sendMessageToCallMachine({ action: "local-video", state: e2 }), this;
      } }, { key: "getReceiveSettings", value: (Y2 = n(function* (e2) {
        var t3 = this, n2 = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).showInheritedValues, r2 = void 0 !== n2 && n2;
        if (is(this._callObjectMode, "getReceiveSettings()"), !this._dailyMainExecuted)
          return this._receiveSettings;
        switch (i(e2)) {
          case "string":
            return new Promise(function(n3) {
              t3.sendMessageToCallMachine({ action: "get-single-participant-receive-settings", id: e2, showInheritedValues: r2 }, function(e3) {
                n3(e3.receiveSettings);
              });
            });
          case "undefined":
            return this._receiveSettings;
          default:
            throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments');
        }
      }), function(e2) {
        return Y2.apply(this, arguments);
      }) }, { key: "updateReceiveSettings", value: (q2 = n(function* (e2) {
        var t3 = this;
        if (is(this._callObjectMode, "updateReceiveSettings()"), !ls(e2, { allowAllParticipantsKey: true }))
          throw new Error(ps({ allowAllParticipantsKey: true }));
        return Za(this._callState, "updateReceiveSettings()", "To specify receive settings earlier, use the receiveSettings config property."), new Promise(function(n2) {
          t3.sendMessageToCallMachine({ action: "update-receive-settings", receiveSettings: e2 }, function(e3) {
            n2({ receiveSettings: e3.receiveSettings });
          });
        });
      }), function(e2) {
        return q2.apply(this, arguments);
      }) }, { key: "_prepInputSettingsToPresentToUser", value: function(e2) {
        var t3, n2, r2, i2, o3, a3, s2, c2;
        if (e2) {
          var l3 = {}, u2 = "none" === (null === (t3 = e2.audio) || void 0 === t3 || null === (n2 = t3.processor) || void 0 === n2 ? void 0 : n2.type) && (null === (r2 = e2.audio) || void 0 === r2 || null === (i2 = r2.processor) || void 0 === i2 ? void 0 : i2._isDefaultWhenNone);
          if (e2.audio && !u2) {
            var d3 = Na({}, e2.audio.processor);
            delete d3._isDefaultWhenNone, l3.audio = Na(Na({}, e2.audio), {}, { processor: d3 });
          }
          var h3 = "none" === (null === (o3 = e2.video) || void 0 === o3 || null === (a3 = o3.processor) || void 0 === a3 ? void 0 : a3.type) && (null === (s2 = e2.video) || void 0 === s2 || null === (c2 = s2.processor) || void 0 === c2 ? void 0 : c2._isDefaultWhenNone);
          if (e2.video && !h3) {
            var p2 = Na({}, e2.video.processor);
            delete p2._isDefaultWhenNone, l3.video = Na(Na({}, e2.video), {}, { processor: p2 });
          }
          return l3;
        }
      } }, { key: "getInputSettings", value: function() {
        var e2 = this;
        return new Promise(function(t3) {
          t3(e2._getInputSettings());
        });
      } }, { key: "_getInputSettings", value: function() {
        var e2, t3, n2, r2, i2, o3, a3, s2, c2 = { processor: { type: "none", _isDefaultWhenNone: true } };
        this._inputSettings ? (e2 = (null === (n2 = this._inputSettings) || void 0 === n2 ? void 0 : n2.video) || c2, t3 = (null === (r2 = this._inputSettings) || void 0 === r2 ? void 0 : r2.audio) || c2) : (e2 = (null === (i2 = this._preloadCache) || void 0 === i2 || null === (o3 = i2.inputSettings) || void 0 === o3 ? void 0 : o3.video) || c2, t3 = (null === (a3 = this._preloadCache) || void 0 === a3 || null === (s2 = a3.inputSettings) || void 0 === s2 ? void 0 : s2.audio) || c2);
        var l3 = { audio: t3, video: e2 };
        return this._prepInputSettingsToPresentToUser(l3);
      } }, { key: "updateInputSettings", value: (G2 = n(function* (e2) {
        var t3 = this;
        return us(e2) ? (e2 && (this._preloadCache.inputSettings || (this._preloadCache.inputSettings = {}), ds(e2), e2.audio && (this._preloadCache.inputSettings.audio = e2.audio), e2.video && (this._preloadCache.inputSettings.video = e2.video)), us(e2) ? this._callObjectMode && this.needsLoad() ? this._getInputSettings() : new Promise(function(n2, r2) {
          t3.sendMessageToCallMachine({ action: "update-input-settings", inputSettings: e2 }, function(e3) {
            e3.error ? r2(e3.error) : n2({ inputSettings: t3._prepInputSettingsToPresentToUser(e3.inputSettings) });
          });
        }) : this._getInputSettings()) : (console.error(hs()), Promise.reject(hs()));
      }), function(e2) {
        return G2.apply(this, arguments);
      }) }, { key: "setBandwidth", value: function(e2) {
        var t3 = e2.kbs, n2 = e2.trackConstraints;
        if (as(), this._dailyMainExecuted)
          return this.sendMessageToCallMachine({ action: "set-bandwidth", kbs: t3, trackConstraints: n2 }), this;
      } }, { key: "getDailyLang", value: function() {
        var e2 = this;
        if (as(), this._dailyMainExecuted)
          return new Promise(function(t3) {
            e2.sendMessageToCallMachine({ action: "get-daily-lang" }, function(e3) {
              delete e3.action, delete e3.callbackStamp, t3(e3);
            });
          });
      } }, { key: "setDailyLang", value: function(e2) {
        return as(), this.sendMessageToCallMachine({ action: "set-daily-lang", lang: e2 }), this;
      } }, { key: "setProxyUrl", value: function(e2) {
        return this.sendMessageToCallMachine({ action: "set-proxy-url", proxyUrl: e2 }), this;
      } }, { key: "setIceConfig", value: function(e2) {
        return this.sendMessageToCallMachine({ action: "set-ice-config", iceConfig: e2 }), this;
      } }, { key: "meetingSessionSummary", value: function() {
        return [Mr, Tr].includes(this._callState) ? this._finalSummaryOfPrevSession : this._meetingSessionSummary;
      } }, { key: "getMeetingSession", value: ($2 = n(function* () {
        var e2 = this;
        return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"), Za(this._callState, "getMeetingSession()"), new Promise(function(t3) {
          e2.sendMessageToCallMachine({ action: "get-meeting-session" }, function(e3) {
            delete e3.action, delete e3.callbackStamp, delete e3.callFrameId, t3(e3);
          });
        });
      }), function() {
        return $2.apply(this, arguments);
      }) }, { key: "meetingSessionState", value: function() {
        return Za(this._callState, "meetingSessionState"), this._meetingSessionState;
      } }, { key: "setMeetingSessionData", value: function(e2) {
        var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "replace";
        is(this._callObjectMode, "setMeetingSessionData()"), Za(this._callState, "setMeetingSessionData");
        try {
          !function(e3, t4) {
            new Ho({ data: e3, mergeStrategy: t4 });
          }(e2, t3);
        } catch (e3) {
          throw console.error(e3), e3;
        }
        try {
          this.sendMessageToCallMachine({ action: "set-session-data", data: e2, mergeStrategy: t3 });
        } catch (e3) {
          throw new Error("Error setting meeting session data: ".concat(e3));
        }
      } }, { key: "setUserName", value: function(e2, t3) {
        var n2 = this;
        return this.properties.userName = e2, new Promise(function(r2) {
          n2.sendMessageToCallMachine({ action: "set-user-name", name: null != e2 ? e2 : "", thisMeetingOnly: ko() || !!t3 && !!t3.thisMeetingOnly }, function(e3) {
            delete e3.action, delete e3.callbackStamp, r2(e3);
          });
        });
      } }, { key: "setUserData", value: (V2 = n(function* (e2) {
        var t3 = this;
        try {
          cs(e2);
        } catch (e3) {
          throw console.error(e3), e3;
        }
        if (this.properties.userData = e2, this._dailyMainExecuted)
          return new Promise(function(n2) {
            try {
              t3.sendMessageToCallMachine({ action: "set-user-data", userData: e2 }, function(e3) {
                delete e3.action, delete e3.callbackStamp, delete e3.callFrameId, n2(e3);
              });
            } catch (e3) {
              throw new Error("Error setting user data: ".concat(e3));
            }
          });
      }), function(e2) {
        return V2.apply(this, arguments);
      }) }, { key: "validateAudioLevelInterval", value: function(e2) {
        if (e2 && (e2 < 100 || "number" != typeof e2))
          throw new Error("The interval must be a number greater than or equal to 100 milliseconds.");
      } }, { key: "startLocalAudioLevelObserver", value: function(e2) {
        var t3 = this;
        if (as(), this.validateAudioLevelInterval(e2), this._dailyMainExecuted)
          return new Promise(function(n2, r2) {
            t3.sendMessageToCallMachine({ action: "start-local-audio-level-observer", interval: e2 }, function(e3) {
              e3.error ? r2({ error: e3.error }) : n2();
            });
          });
        this._preloadCache.localAudioLevelObserver = { enabled: true, interval: e2 };
      } }, { key: "stopLocalAudioLevelObserver", value: (U2 = n(function* () {
        as(), this._preloadCache.localAudioLevelObserver = null, this._localAudioLevel = 0, this.sendMessageToCallMachine({ action: "stop-local-audio-level-observer" });
      }), function() {
        return U2.apply(this, arguments);
      }) }, { key: "startRemoteParticipantsAudioLevelObserver", value: function(e2) {
        var t3 = this;
        if (as(), this.validateAudioLevelInterval(e2), this._dailyMainExecuted)
          return new Promise(function(n2, r2) {
            t3.sendMessageToCallMachine({ action: "start-remote-participants-audio-level-observer", interval: e2 }, function(e3) {
              e3.error ? r2({ error: e3.error }) : n2();
            });
          });
        this._preloadCache.remoteParticipantsAudioLevelObserver = { enabled: true, interval: e2 };
      } }, { key: "stopRemoteParticipantsAudioLevelObserver", value: (F2 = n(function* () {
        as(), this._preloadCache.remoteParticipantsAudioLevelObserver = null, this._remoteParticipantsAudioLevel = {}, this.sendMessageToCallMachine({ action: "stop-remote-participants-audio-level-observer" });
      }), function() {
        return F2.apply(this, arguments);
      }) }, { key: "startCamera", value: (B2 = n(function* () {
        var e2 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        if (is(this._callObjectMode, "startCamera()"), ts(this._callState, this._isPreparingToJoin, "startCamera()", "Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"), rs(this._testCallInProgress, "startCamera()"), this.needsLoad())
          try {
            yield this.load(t3);
          } catch (e3) {
            return Promise.reject(e3);
          }
        else {
          if (this._didPreAuth) {
            if (t3.url && t3.url !== this.properties.url)
              return console.error("url in startCamera() is different than the one used in preAuth()"), Promise.reject();
            if (t3.token && t3.token !== this.properties.token)
              return console.error("token in startCamera() is different than the one used in preAuth()"), Promise.reject();
          }
          this.validateProperties(t3), this.properties = Na(Na({}, this.properties), t3);
        }
        return new Promise(function(t4) {
          e2.sendMessageToCallMachine({ action: "start-camera", properties: Xa(e2.properties), preloadCache: Xa(e2._preloadCache) }, function(e3) {
            delete e3.action, delete e3.callbackStamp, t4(e3);
          });
        });
      }), function() {
        return B2.apply(this, arguments);
      }) }, { key: "validateCustomTrack", value: function(e2, t3, n2) {
        if (n2 && n2.length > 50)
          throw new Error("Custom track `trackName` must not be more than 50 characters");
        if (t3 && "music" !== t3 && "speech" !== t3 && !(t3 instanceof Object))
          throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");
        if (!!n2 && ["cam-audio", "cam-video", "screen-video", "screen-audio", "rmpAudio", "rmpVideo", "customVideoDefaults"].includes(n2))
          throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");
        if (!(e2 instanceof MediaStreamTrack))
          throw new Error("Custom tracks provided must be instances of MediaStreamTrack");
      } }, { key: "startCustomTrack", value: function() {
        var e2 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { track, mode, trackName };
        return as(), Za(this._callState, "startCustomTrack()"), this.validateCustomTrack(t3.track, t3.mode, t3.trackName), new Promise(function(n2, r2) {
          window._dailyPreloadCache.customTrack = t3.track, t3.track = fo, e2.sendMessageToCallMachine({ action: "start-custom-track", properties: t3 }, function(e3) {
            e3.error ? r2({ error: e3.error }) : n2(e3.mediaTag);
          });
        });
      } }, { key: "stopCustomTrack", value: function(e2) {
        var t3 = this;
        return as(), Za(this._callState, "stopCustomTrack()"), new Promise(function(n2) {
          t3.sendMessageToCallMachine({ action: "stop-custom-track", mediaTag: e2 }, function(e3) {
            n2(e3.mediaTag);
          });
        });
      } }, { key: "setCamera", value: function(e2) {
        var t3 = this;
        return ss(), ns(this._dailyMainExecuted, "setCamera()"), new Promise(function(n2) {
          t3.sendMessageToCallMachine({ action: "set-camera", cameraDeviceId: e2 }, function(e3) {
            n2({ device: e3.device });
          });
        });
      } }, { key: "setAudioDevice", value: (R2 = n(function* (e2) {
        return ss(), this.nativeUtils().setAudioDevice(e2), { deviceId: yield this.nativeUtils().getAudioDevice() };
      }), function(e2) {
        return R2.apply(this, arguments);
      }) }, { key: "cycleCamera", value: function() {
        var e2 = this;
        return new Promise(function(t3) {
          e2.sendMessageToCallMachine({ action: "cycle-camera" }, function(e3) {
            t3({ device: e3.device });
          });
        });
      } }, { key: "cycleMic", value: function() {
        var e2 = this;
        return as(), new Promise(function(t3) {
          e2.sendMessageToCallMachine({ action: "cycle-mic" }, function(e3) {
            t3({ device: e3.device });
          });
        });
      } }, { key: "getCameraFacingMode", value: function() {
        var e2 = this;
        return ss(), new Promise(function(t3) {
          e2.sendMessageToCallMachine({ action: "get-camera-facing-mode" }, function(e3) {
            t3(e3.facingMode);
          });
        });
      } }, { key: "setInputDevicesAsync", value: (I2 = n(function* (e2) {
        var t3 = this, n2 = e2.audioDeviceId, r2 = e2.videoDeviceId, i2 = e2.audioSource, o3 = e2.videoSource;
        return as(), void 0 !== i2 && (n2 = i2), void 0 !== o3 && (r2 = o3), n2 && (this._preloadCache.audioDeviceId = n2), r2 && (this._preloadCache.videoDeviceId = r2), this._callObjectMode && this.needsLoad() ? { camera: { deviceId: this._preloadCache.videoDeviceId }, mic: { deviceId: this._preloadCache.audioDeviceId }, speaker: { deviceId: this._preloadCache.outputDeviceId } } : (n2 instanceof MediaStreamTrack && (n2 = fo), r2 instanceof MediaStreamTrack && (r2 = fo), new Promise(function(e3) {
          t3.sendMessageToCallMachine({ action: "set-input-devices", audioDeviceId: n2, videoDeviceId: r2 }, function(n3) {
            delete n3.action, delete n3.callbackStamp, n3.returnPreloadCache ? e3({ camera: { deviceId: t3._preloadCache.videoDeviceId }, mic: { deviceId: t3._preloadCache.audioDeviceId }, speaker: { deviceId: t3._preloadCache.outputDeviceId } }) : e3(n3);
          });
        }));
      }), function(e2) {
        return I2.apply(this, arguments);
      }) }, { key: "setOutputDeviceAsync", value: (D2 = n(function* (e2) {
        var t3 = this, n2 = e2.outputDeviceId;
        return as(), n2 && (this._preloadCache.outputDeviceId = n2), this._callObjectMode && this.needsLoad() ? { camera: { deviceId: this._preloadCache.videoDeviceId }, mic: { deviceId: this._preloadCache.audioDeviceId }, speaker: { deviceId: this._preloadCache.outputDeviceId } } : new Promise(function(e3) {
          t3.sendMessageToCallMachine({ action: "set-output-device", outputDeviceId: n2 }, function(n3) {
            delete n3.action, delete n3.callbackStamp, n3.returnPreloadCache ? e3({ camera: { deviceId: t3._preloadCache.videoDeviceId }, mic: { deviceId: t3._preloadCache.audioDeviceId }, speaker: { deviceId: t3._preloadCache.outputDeviceId } }) : e3(n3);
          });
        });
      }), function(e2) {
        return D2.apply(this, arguments);
      }) }, { key: "getInputDevices", value: (L2 = n(function* () {
        var e2 = this;
        return this._callObjectMode && this.needsLoad() ? { camera: { deviceId: this._preloadCache.videoDeviceId }, mic: { deviceId: this._preloadCache.audioDeviceId }, speaker: { deviceId: this._preloadCache.outputDeviceId } } : new Promise(function(t3) {
          e2.sendMessageToCallMachine({ action: "get-input-devices" }, function(n2) {
            delete n2.action, delete n2.callbackStamp, n2.returnPreloadCache ? t3({ camera: { deviceId: e2._preloadCache.videoDeviceId }, mic: { deviceId: e2._preloadCache.audioDeviceId }, speaker: { deviceId: e2._preloadCache.outputDeviceId } }) : t3(n2);
          });
        });
      }), function() {
        return L2.apply(this, arguments);
      }) }, { key: "nativeInCallAudioMode", value: function() {
        return ss(), this._nativeInCallAudioMode;
      } }, { key: "setNativeInCallAudioMode", value: function(e2) {
        if (ss(), [Fa, Ua].includes(e2)) {
          if (e2 !== this._nativeInCallAudioMode)
            return this._nativeInCallAudioMode = e2, !this.disableReactNativeAutoDeviceManagement("audio") && es(this._callState, this._isPreparingToJoin) && this.nativeUtils().setAudioMode(this._nativeInCallAudioMode), this;
        } else
          console.error("invalid in-call audio mode specified: ", e2);
      } }, { key: "preAuth", value: (j2 = n(function* () {
        var e2 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        if (is(this._callObjectMode, "preAuth()"), ts(this._callState, this._isPreparingToJoin, "preAuth()"), rs(this._testCallInProgress, "preAuth()"), this.needsLoad() && (yield this.load(t3)), !t3.url)
          throw new Error("preAuth() requires at least a url to be provided");
        return this.validateProperties(t3), this.properties = Na(Na({}, this.properties), t3), new Promise(function(t4, n2) {
          e2.sendMessageToCallMachine({ action: "daily-method-preauth", properties: Xa(e2.properties), preloadCache: Xa(e2._preloadCache) }, function(r2) {
            return r2.error ? n2(r2.error) : r2.access ? (e2._didPreAuth = true, void t4({ access: r2.access })) : n2(new Error("unknown error in preAuth()"));
          });
        });
      }), function() {
        return j2.apply(this, arguments);
      }) }, { key: "load", value: (A2 = n(function* (e2) {
        var t3 = this;
        if (this.needsLoad()) {
          if (this._destroyed && (this._logUseAfterDestroy(), this.strictMode))
            throw new Error("Use after destroy");
          if (e2 && (this.validateProperties(e2), this.properties = Na(Na({}, this.properties), e2)), !this._callObjectMode && !this.properties.url)
            throw new Error("can't load iframe meeting because url property isn't set");
          this._updateCallState(wr);
          try {
            this.emit(ai, { action: ai });
          } catch (e3) {
            console.log("could not emit 'loading'", e3);
          }
          return this._callObjectMode ? new Promise(function(e3, n2) {
            t3._callObjectLoader.cancel();
            var r2 = Date.now();
            t3._callObjectLoader.load(t3._callFrameId, t3.properties.dailyConfig && t3.properties.dailyConfig.avoidEval, function(n3) {
              t3._bundleLoadTime = n3 ? "no-op" : Date.now() - r2, t3._updateCallState(Sr), n3 && t3.emit(ci, { action: ci }), e3();
            }, function(e4, r3) {
              if (t3.emit(si, { action: si, errorMsg: e4 }), !r3) {
                t3._updateCallState(Tr), t3.resetMeetingDependentVars();
                var i2 = { action: ao, errorMsg: e4, error: { type: "connection-error", msg: "Failed to load call object bundle.", details: { on: "load", sourceError: new Error(e4), bundleUrl: X() } } };
                t3._maybeSendToSentry(i2), t3.emit(ao, i2), n2(e4);
              }
            });
          }) : (this._iframe.src = K(this.assembleMeetingUrl()), new Promise(function(e3, n2) {
            t3._loadedCallback = function(r2) {
              if (t3._callState !== Tr) {
                for (var i2 in t3._updateCallState(Sr), (t3.properties.cssFile || t3.properties.cssText) && t3.loadCss(t3.properties), t3._inputEventsOn)
                  t3.sendMessageToCallMachine({ action: uo, on: i2 });
                e3();
              } else
                n2(r2);
            };
          }));
        }
      }), function(e2) {
        return A2.apply(this, arguments);
      }) }, { key: "join", value: (x2 = n(function* () {
        var e2 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        rs(this._testCallInProgress, "join()");
        var n2 = false;
        if (this.needsLoad()) {
          this.updateIsPreparingToJoin(true);
          try {
            yield this.load(t3);
          } catch (e3) {
            return this.updateIsPreparingToJoin(false), Promise.reject(e3);
          }
        } else {
          if (n2 = !(!this.properties.cssFile && !this.properties.cssText), this._didPreAuth) {
            if (t3.url && t3.url !== this.properties.url)
              return console.error("url in join() is different than the one used in preAuth()"), this.updateIsPreparingToJoin(false), Promise.reject();
            if (t3.token && t3.token !== this.properties.token)
              return console.error("token in join() is different than the one used in preAuth()"), this.updateIsPreparingToJoin(false), Promise.reject();
          }
          if (t3.url && !this._callObjectMode && t3.url && t3.url !== this.properties.url)
            return console.error("url in join() is different than the one used in load() (".concat(this.properties.url, " -> ").concat(t3.url, ")")), this.updateIsPreparingToJoin(false), Promise.reject();
          this.validateProperties(t3), this.properties = Na(Na({}, this.properties), t3);
        }
        if (void 0 !== t3.showLocalVideo && (this._callObjectMode ? console.error("showLocalVideo is not available in callObject mode") : this._showLocalVideo = !!t3.showLocalVideo), void 0 !== t3.showParticipantsBar && (this._callObjectMode ? console.error("showParticipantsBar is not available in callObject mode") : this._showParticipantsBar = !!t3.showParticipantsBar), this._callState === Er || this._callState === kr)
          return console.warn("already joined meeting, call leave() before joining again"), void this.updateIsPreparingToJoin(false);
        this._updateCallState(kr, false);
        try {
          this.emit(di, { action: di });
        } catch (e3) {
          console.log("could not emit 'joining-meeting'", e3);
        }
        return this._preloadCache.inputSettings || (this._preloadCache.inputSettings = {}), t3.inputSettings && t3.inputSettings.audio && (this._preloadCache.inputSettings.audio = t3.inputSettings.audio), t3.inputSettings && t3.inputSettings.video && (this._preloadCache.inputSettings.video = t3.inputSettings.video), this.sendMessageToCallMachine({ action: "join-meeting", properties: Xa(this.properties), preloadCache: Xa(this._preloadCache) }), new Promise(function(t4, r2) {
          e2._joinedCallback = function(i2, o3) {
            if (e2._callState !== Tr) {
              if (e2._updateCallState(Er), i2)
                for (var a3 in i2)
                  e2._callObjectMode && (ha(i2[a3]), pa(i2[a3]), ga(i2[a3], e2._participants[a3])), e2._participants[a3] = Na({}, i2[a3]), e2.toggleParticipantAudioBasedOnNativeAudioFocus();
              n2 && e2.loadCss(e2.properties), t4(i2);
            } else
              r2(o3);
          };
        });
      }), function() {
        return x2.apply(this, arguments);
      }) }, { key: "leave", value: (P2 = n(function* () {
        var e2 = this;
        return rs(this._testCallInProgress, "leave()"), new Promise(function(t3) {
          if (e2._callState === Mr || e2._callState === Tr)
            t3();
          else if (e2._callObjectLoader && !e2._callObjectLoader.loaded) {
            e2._callObjectLoader.cancel(), e2._updateCallState(Mr), e2.resetMeetingDependentVars();
            try {
              e2.emit(Mr, { action: Mr });
            } catch (e3) {
              console.log("could not emit 'left-meeting'", e3);
            }
            t3();
          } else
            e2._resolveLeave = t3, e2.sendMessageToCallMachine({ action: "leave-meeting" });
        });
      }), function() {
        return P2.apply(this, arguments);
      }) }, { key: "startScreenShare", value: (O2 = n(function* () {
        var e2 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        if (ns(this._dailyMainExecuted, "startScreenShare()"), t3.screenVideoSendSettings && this._validateVideoSendSettings("screenVideo", t3.screenVideoSendSettings), t3.mediaStream && (this._preloadCache.screenMediaStream = t3.mediaStream, t3.mediaStream = fo), "undefined" != typeof DailyNativeUtils && void 0 !== DailyNativeUtils.isIOS && DailyNativeUtils.isIOS) {
          var n2 = this.nativeUtils();
          if (yield n2.isScreenBeingCaptured())
            return void this.emit(oo, { action: oo, type: "screen-share-error", errorMsg: "Could not start the screen sharing. The screen is already been captured!" });
          n2.setSystemScreenCaptureStartCallback(function() {
            n2.setSystemScreenCaptureStartCallback(null), e2.sendMessageToCallMachine({ action: lo, captureOptions: t3 });
          }), n2.presentSystemScreenCapturePrompt();
        } else
          this.sendMessageToCallMachine({ action: lo, captureOptions: t3 });
      }), function() {
        return O2.apply(this, arguments);
      }) }, { key: "stopScreenShare", value: function() {
        ns(this._dailyMainExecuted, "stopScreenShare()"), this.sendMessageToCallMachine({ action: "local-screen-stop" });
      } }, { key: "startRecording", value: function() {
        var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        this.sendMessageToCallMachine(Na({ action: "local-recording-start" }, e2));
      } }, { key: "updateRecording", value: function(e2) {
        var t3 = e2.layout, n2 = void 0 === t3 ? { preset: "default" } : t3, r2 = e2.instanceId;
        this.sendMessageToCallMachine({ action: "daily-method-update-recording", layout: n2, instanceId: r2 });
      } }, { key: "stopRecording", value: function() {
        var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        this.sendMessageToCallMachine(Na({ action: "local-recording-stop" }, e2));
      } }, { key: "startLiveStreaming", value: function() {
        var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        this.sendMessageToCallMachine(Na({ action: "daily-method-start-live-streaming" }, e2));
      } }, { key: "updateLiveStreaming", value: function(e2) {
        var t3 = e2.layout, n2 = void 0 === t3 ? { preset: "default" } : t3, r2 = e2.instanceId;
        this.sendMessageToCallMachine({ action: "daily-method-update-live-streaming", layout: n2, instanceId: r2 });
      } }, { key: "addLiveStreamingEndpoints", value: function(e2) {
        var t3 = e2.endpoints, n2 = e2.instanceId;
        this.sendMessageToCallMachine({ action: ho, endpointsOp: bo, endpoints: t3, instanceId: n2 });
      } }, { key: "removeLiveStreamingEndpoints", value: function(e2) {
        var t3 = e2.endpoints, n2 = e2.instanceId;
        this.sendMessageToCallMachine({ action: ho, endpointsOp: wo, endpoints: t3, instanceId: n2 });
      } }, { key: "stopLiveStreaming", value: function() {
        var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        this.sendMessageToCallMachine(Na({ action: "daily-method-stop-live-streaming" }, e2));
      } }, { key: "validateDailyConfig", value: function(e2) {
        e2.camSimulcastEncodings && (console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."), this.validateSimulcastEncodings(e2.camSimulcastEncodings)), e2.screenSimulcastEncodings && console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings.");
      } }, { key: "validateSimulcastEncodings", value: function(e2) {
        var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, n2 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
        if (e2) {
          if (!(e2 instanceof Array))
            throw new Error("encodings must be an Array");
          if (!_s(e2.length, 1, 3))
            throw new Error("encodings must be an Array with between 1 to ".concat(3, " layers"));
          for (var r2 = 0; r2 < e2.length; r2++) {
            var i2 = e2[r2];
            for (var o3 in this._validateEncodingLayerHasValidProperties(i2), i2) {
              if (!qa.includes(o3))
                throw new Error("Invalid key ".concat(o3, ", valid keys are:") + Object.values(qa));
              if ("number" != typeof i2[o3])
                throw new Error("".concat(o3, " must be a number"));
              if (t3) {
                var a3 = t3[o3], s2 = a3.min, c2 = a3.max;
                if (!_s(i2[o3], s2, c2))
                  throw new Error("".concat(o3, " value not in range. valid range: ").concat(s2, " to ").concat(c2));
              }
            }
            if (n2 && !i2.hasOwnProperty("maxBitrate"))
              throw new Error("maxBitrate is not specified");
          }
        }
      } }, { key: "startRemoteMediaPlayer", value: (C2 = n(function* (e2) {
        var t3 = this, n2 = e2.url, r2 = e2.settings, i2 = void 0 === r2 ? { state: vo.PLAY } : r2;
        try {
          !function(e3) {
            if ("string" != typeof e3)
              throw new Error('url parameter must be "string" type');
          }(n2), ys(i2), function(e3) {
            for (var t4 in e3)
              if (!Ya.includes(t4))
                throw new Error("Invalid key ".concat(t4, ", valid keys are: ").concat(Ya));
            e3.simulcastEncodings && this.validateSimulcastEncodings(e3.simulcastEncodings, Ga, true);
          }(i2);
        } catch (e3) {
          throw console.error("invalid argument Error: ".concat(e3)), console.error('startRemoteMediaPlayer arguments must be of the form:\n  { url: "playback url",\n  settings?:\n  {state: "play"|"pause", simulcastEncodings?: [{}] } }'), e3;
        }
        return new Promise(function(e3, r3) {
          t3.sendMessageToCallMachine({ action: "daily-method-start-remote-media-player", url: n2, settings: i2 }, function(t4) {
            t4.error ? r3({ error: t4.error, errorMsg: t4.errorMsg }) : e3({ session_id: t4.session_id, remoteMediaPlayerState: { state: t4.state, settings: t4.settings } });
          });
        });
      }), function(e2) {
        return C2.apply(this, arguments);
      }) }, { key: "stopRemoteMediaPlayer", value: (T2 = n(function* (e2) {
        var t3 = this;
        if ("string" != typeof e2)
          throw new Error(" remotePlayerID must be of type string");
        return new Promise(function(n2, r2) {
          t3.sendMessageToCallMachine({ action: "daily-method-stop-remote-media-player", session_id: e2 }, function(e3) {
            e3.error ? r2({ error: e3.error, errorMsg: e3.errorMsg }) : n2();
          });
        });
      }), function(e2) {
        return T2.apply(this, arguments);
      }) }, { key: "updateRemoteMediaPlayer", value: (M2 = n(function* (e2) {
        var t3 = this, n2 = e2.session_id, r2 = e2.settings;
        try {
          ys(r2);
        } catch (e3) {
          throw console.error("invalid argument Error: ".concat(e3)), console.error('updateRemoteMediaPlayer arguments must be of the form:\n  session_id: "participant session",\n  { settings?: {state: "play"|"pause"} }'), e3;
        }
        return new Promise(function(e3, i2) {
          t3.sendMessageToCallMachine({ action: "daily-method-update-remote-media-player", session_id: n2, settings: r2 }, function(t4) {
            t4.error ? i2({ error: t4.error, errorMsg: t4.errorMsg }) : e3({ session_id: t4.session_id, remoteMediaPlayerState: { state: t4.state, settings: t4.settings } });
          });
        });
      }), function(e2) {
        return M2.apply(this, arguments);
      }) }, { key: "startTranscription", value: function(e2) {
        this.sendMessageToCallMachine(Na({ action: "daily-method-start-transcription" }, e2));
      } }, { key: "stopTranscription", value: function() {
        this.sendMessageToCallMachine({ action: "daily-method-stop-transcription" });
      } }, { key: "startDialOut", value: (E2 = n(function* (e2) {
        var t3 = this;
        Za(this._callState, "startDialOut()");
        var n2 = function(e3) {
          if (e3) {
            if (!Array.isArray(e3))
              throw new Error("Error starting dial out: audio codec must be an array");
            if (e3.length <= 0)
              throw new Error("Error starting dial out: audio codec array specified but empty");
            e3.forEach(function(e4) {
              if ("string" != typeof e4)
                throw new Error("Error starting dial out: audio codec must be a string");
              if ("OPUS" !== e4 && "PCMU" !== e4 && "PCMA" !== e4 && "G722" !== e4)
                throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722");
            });
          }
        };
        if (!e2.sipUri && !e2.phoneNumber)
          throw new Error("Error starting dial out: either a sip uri or phone number must be provided");
        if (e2.sipUri && e2.phoneNumber)
          throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");
        if (e2.sipUri) {
          if ("string" != typeof e2.sipUri)
            throw new Error("Error starting dial out: sipUri must be a string");
          if (!e2.sipUri.startsWith("sip:"))
            throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");
          if (e2.video && "boolean" != typeof e2.video)
            throw new Error("Error starting dial out: video must be a boolean value");
          !function(e3) {
            if (e3 && (n2(e3.audio), e3.video)) {
              if (!Array.isArray(e3.video))
                throw new Error("Error starting dial out: video codec must be an array");
              if (e3.video.length <= 0)
                throw new Error("Error starting dial out: video codec array specified but empty");
              e3.video.forEach(function(e4) {
                if ("string" != typeof e4)
                  throw new Error("Error starting dial out: video codec must be a string");
                if ("H264" !== e4 && "VP8" !== e4)
                  throw new Error("Error starting dial out: video codec must be H264 or VP8");
              });
            }
          }(e2.codecs);
        }
        if (e2.phoneNumber) {
          if ("string" != typeof e2.phoneNumber)
            throw new Error("Error starting dial out: phoneNumber must be a string");
          if (!/^\+\d{1,}$/.test(e2.phoneNumber))
            throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");
          e2.codecs && n2(e2.codecs.audio);
        }
        return new Promise(function(n3, r2) {
          t3.sendMessageToCallMachine(Na({ action: "dialout-start" }, e2), function(e3) {
            e3.error ? r2(e3.error) : n3(e3);
          });
        });
      }), function(e2) {
        return E2.apply(this, arguments);
      }) }, { key: "stopDialOut", value: function(e2) {
        var t3 = this;
        return Za(this._callState, "stopDialOut()"), new Promise(function(n2, r2) {
          t3.sendMessageToCallMachine(Na({ action: "dialout-stop" }, e2), function(e3) {
            e3.error ? r2(e3.error) : n2(e3);
          });
        });
      } }, { key: "sendDTMF", value: (k2 = n(function* (e2) {
        var t3 = this;
        return Za(this._callState, "sendDTMF()"), function(e3) {
          var t4 = e3.sessionId, n2 = e3.tones;
          if (!t4 || !n2)
            throw new Error("sessionId and tones are mandatory parameter");
          if ("string" != typeof t4 || "string" != typeof n2)
            throw new Error("sessionId and tones should be of string type");
          if (n2.length > 20)
            throw new Error("tones string must be upto 20 characters");
          var r2 = /[^0-9A-D*#]/g, i2 = n2.match(r2);
          if (i2 && i2[0])
            throw new Error("".concat(i2[0], " is not valid DTMF tone"));
        }(e2), new Promise(function(n2, r2) {
          t3.sendMessageToCallMachine(Na({ action: "send-dtmf" }, e2), function(e3) {
            e3.error ? r2(e3.error) : n2(e3);
          });
        });
      }), function(e2) {
        return k2.apply(this, arguments);
      }) }, { key: "getNetworkStats", value: function() {
        var e2 = this;
        if (this._callState !== Er) {
          return { stats: { latest: {} } };
        }
        return new Promise(function(t3) {
          e2.sendMessageToCallMachine({ action: "get-calc-stats" }, function(n2) {
            t3(Na({ stats: n2.stats }, e2._network));
          });
        });
      } }, { key: "testWebsocketConnectivity", value: (S2 = n(function* () {
        var e2 = this;
        if (rs(this._testCallInProgress, "testWebsocketConnectivity()"), this.needsLoad())
          try {
            yield this.load();
          } catch (e3) {
            return Promise.reject(e3);
          }
        return new Promise(function(t3, n2) {
          e2.sendMessageToCallMachine({ action: "test-websocket-connectivity" }, function(e3) {
            e3.error ? n2(e3.error) : t3(e3.results);
          });
        });
      }), function() {
        return S2.apply(this, arguments);
      }) }, { key: "abortTestWebsocketConnectivity", value: function() {
        this.sendMessageToCallMachine({ action: "abort-test-websocket-connectivity" });
      } }, { key: "_validateVideoTrackForNetworkTests", value: function(e2) {
        return e2 ? e2 instanceof MediaStreamTrack ? !!Pa(e2, { isLocalScreenVideo: false }) || (console.error("Video track is not playable. This test needs a live video track."), false) : (console.error("Video track needs to be of type `MediaStreamTrack`."), false) : (console.error("Missing video track. You must provide a video track in order to run this test."), false);
      } }, { key: "testCallQuality", value: (w2 = n(function* (t3) {
        var n2 = this;
        if (function(e2) {
          var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "This daily-js method", n3 = arguments.length > 2 ? arguments[2] : void 0;
          if (e2) {
            var r3 = "".concat(t4, " can not be called after preAuth(), startCamera(), or join() and call state has been initialized.");
            throw n3 && (r3 += " ".concat(n3)), console.error(r3), new Error(r3);
          }
        }(this._dailyMainExecuted, "testCallQuality()"), t3.videoTrack && !this._validateVideoTrackForNetworkTests(t3.videoTrack))
          throw new Error("Video track error");
        var r2 = this._testCallAlreadyInProgress, i2 = function(e2) {
          r2 || (n2._testCallInProgress = e2);
        };
        i2(true);
        var o3 = t3.videoTrack, a3 = e(t3, Aa);
        if (this._preloadCache.videoTrackForConnectionQualityTest = o3, this.needsLoad())
          try {
            var s2 = this._callState;
            yield this.load(), this._callState = s2;
          } catch (e2) {
            return i2(false), Promise.reject(e2);
          }
        return new Promise(function(t4) {
          n2.sendMessageToCallMachine(Na(Na({ action: "test-call-quality" }, a3), {}, { dailyJsVersion: n2.properties.dailyJsVersion }), function(r3) {
            var o4 = r3.results, a4 = o4.result, s3 = e(o4, ja);
            if ("failed" === a4) {
              var c2, l3 = Na({}, s3);
              null !== (c2 = s3.error) && void 0 !== c2 && c2.details ? (s3.error.details = JSON.parse(s3.error.details), l3.error = Na(Na({}, l3.error), {}, { details: Na({}, l3.error.details) }), l3.error.details.duringTest = "testCallQuality") : (l3.error = l3.error ? Na({}, l3.error) : {}, l3.error.details = { duringTest: "testCallQuality" }), n2._maybeSendToSentry(l3);
            }
            i2(false), t4(Na({ result: a4 }, s3));
          });
        });
      }), function(e2) {
        return w2.apply(this, arguments);
      }) }, { key: "stopTestCallQuality", value: function() {
        this.sendMessageToCallMachine({ action: "stop-test-call-quality" });
      } }, { key: "testConnectionQuality", value: (b2 = n(function* (e2) {
        console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead");
        var t3 = yield this.testPeerToPeerCallQuality(e2), n2 = { result: t3.result, secondsElapsed: t3.secondsElapsed };
        return t3.data && (n2.data = { maxRTT: t3.data.maxRoundTripTime, packetLoss: t3.data.avgRecvPacketLoss }), n2;
      }), function(e2) {
        return b2.apply(this, arguments);
      }) }, { key: "testPeerToPeerCallQuality", value: (_2 = n(function* (e2) {
        var t3 = this;
        if (rs(this._testCallInProgress, "testConnectionQuality()"), this.needsLoad())
          try {
            yield this.load();
          } catch (e3) {
            return Promise.reject(e3);
          }
        var n2 = e2.videoTrack, r2 = e2.duration;
        if (!this._validateVideoTrackForNetworkTests(n2))
          throw new Error("Video track error");
        return this._preloadCache.videoTrackForConnectionQualityTest = n2, new Promise(function(e3, n3) {
          t3.sendMessageToCallMachine({ action: "test-p2p-call-quality", duration: r2 }, function(t4) {
            t4.error ? n3(t4.error) : e3(t4.results);
          });
        });
      }), function(e2) {
        return _2.apply(this, arguments);
      }) }, { key: "stopTestConnectionQuality", value: function() {
        console.warn("stopTestConnectionQuality() is deprecated: use stopTestPeerToPeerCallQuality() instead"), this.stopTestPeerToPeerCallQuality();
      } }, { key: "stopTestPeerToPeerCallQuality", value: function() {
        this.sendMessageToCallMachine({ action: "stop-test-p2p-call-quality" });
      } }, { key: "testNetworkConnectivity", value: (y2 = n(function* (e2) {
        var t3 = this;
        if (rs(this._testCallInProgress, "testNetworkConnectivity()"), this.needsLoad())
          try {
            yield this.load();
          } catch (e3) {
            return Promise.reject(e3);
          }
        if (!this._validateVideoTrackForNetworkTests(e2))
          throw new Error("Video track error");
        return this._preloadCache.videoTrackForNetworkConnectivityTest = e2, new Promise(function(e3, n2) {
          t3.sendMessageToCallMachine({ action: "test-network-connectivity" }, function(t4) {
            t4.error ? n2(t4.error) : e3(t4.results);
          });
        });
      }), function(e2) {
        return y2.apply(this, arguments);
      }) }, { key: "abortTestNetworkConnectivity", value: function() {
        this.sendMessageToCallMachine({ action: "abort-test-network-connectivity" });
      } }, { key: "getCpuLoadStats", value: function() {
        var e2 = this;
        return new Promise(function(t3, n2) {
          if (e2._callState === Er) {
            e2.sendMessageToCallMachine({ action: "get-cpu-load-stats" }, function(e3) {
              t3(e3.cpuStats);
            });
          } else
            t3({ cpuLoadState: void 0, cpuLoadStateReason: void 0, stats: {} });
        });
      } }, { key: "_validateEncodingLayerHasValidProperties", value: function(e2) {
        var t3;
        if (!((null === (t3 = Object.keys(e2)) || void 0 === t3 ? void 0 : t3.length) > 0))
          throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:" + Object.values(qa));
      } }, { key: "_validateVideoSendSettings", value: function(e2, t3) {
        var n2 = "screenVideo" === e2 ? ["default-screen-video", "detail-optimized", "motion-optimized", "motion-and-detail-balanced"] : ["default-video", "bandwidth-optimized", "bandwidth-and-quality-balanced", "quality-optimized", "adaptive-2-layers", "adaptive-3-layers"], r2 = "Video send settings should be either an object or one of the supported presets: ".concat(n2.join());
        if ("string" == typeof t3) {
          if (!n2.includes(t3))
            throw new Error(r2);
        } else {
          if ("object" !== i(t3))
            throw new Error(r2);
          if (!t3.maxQuality && !t3.encodings && void 0 === t3.allowAdaptiveLayers)
            throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");
          if (t3.maxQuality && -1 === ["low", "medium", "high"].indexOf(t3.maxQuality))
            throw new Error("maxQuality must be either low, medium or high");
          if (t3.encodings) {
            var o3 = false;
            switch (Object.keys(t3.encodings).length) {
              case 1:
                o3 = !t3.encodings.low;
                break;
              case 2:
                o3 = !t3.encodings.low || !t3.encodings.medium;
                break;
              case 3:
                o3 = !t3.encodings.low || !t3.encodings.medium || !t3.encodings.high;
                break;
              default:
                o3 = true;
            }
            if (o3)
              throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");
            t3.encodings.low && this._validateEncodingLayerHasValidProperties(t3.encodings.low), t3.encodings.medium && this._validateEncodingLayerHasValidProperties(t3.encodings.medium), t3.encodings.high && this._validateEncodingLayerHasValidProperties(t3.encodings.high);
          }
        }
      } }, { key: "validateUpdateSendSettings", value: function(e2) {
        var t3 = this;
        if (!e2 || 0 === Object.keys(e2).length)
          throw new Error("Send settings must contain at least information for one track!");
        Object.entries(e2).forEach(function(e3) {
          var n2 = g(e3, 2), r2 = n2[0], i2 = n2[1];
          t3._validateVideoSendSettings(r2, i2);
        });
      } }, { key: "updateSendSettings", value: function(e2) {
        var t3 = this;
        return this.validateUpdateSendSettings(e2), this.needsLoad() ? (this._preloadCache.sendSettings = e2, { sendSettings: this._preloadCache.sendSettings }) : new Promise(function(n2, r2) {
          t3.sendMessageToCallMachine({ action: "update-send-settings", sendSettings: e2 }, function(e3) {
            e3.error ? r2(e3.error) : n2(e3.sendSettings);
          });
        });
      } }, { key: "getSendSettings", value: function() {
        return this._sendSettings || this._preloadCache.sendSettings;
      } }, { key: "getLocalAudioLevel", value: function() {
        return this._localAudioLevel;
      } }, { key: "getRemoteParticipantsAudioLevel", value: function() {
        return this._remoteParticipantsAudioLevel;
      } }, { key: "getActiveSpeaker", value: function() {
        return as(), this._activeSpeaker;
      } }, { key: "setActiveSpeakerMode", value: function(e2) {
        return as(), this.sendMessageToCallMachine({ action: "set-active-speaker-mode", enabled: e2 }), this;
      } }, { key: "activeSpeakerMode", value: function() {
        return as(), this._activeSpeakerMode;
      } }, { key: "subscribeToTracksAutomatically", value: function() {
        return this._preloadCache.subscribeToTracksAutomatically;
      } }, { key: "setSubscribeToTracksAutomatically", value: function(e2) {
        return Za(this._callState, "setSubscribeToTracksAutomatically()", "Use the subscribeToTracksAutomatically configuration property."), this._preloadCache.subscribeToTracksAutomatically = e2, this.sendMessageToCallMachine({ action: "daily-method-subscribe-to-tracks-automatically", enabled: e2 }), this;
      } }, { key: "enumerateDevices", value: (m2 = n(function* () {
        var e2 = this;
        if (this._callObjectMode) {
          var t3 = yield navigator.mediaDevices.enumerateDevices();
          return "Firefox" === Lo() && Do().major > 115 && (t3 = t3.filter(function(e3) {
            return "audiooutput" !== e3.kind;
          })), { devices: t3.map(function(e3) {
            return JSON.parse(JSON.stringify(e3));
          }) };
        }
        return new Promise(function(t4) {
          e2.sendMessageToCallMachine({ action: "enumerate-devices" }, function(e3) {
            t4({ devices: e3.devices });
          });
        });
      }), function() {
        return m2.apply(this, arguments);
      }) }, { key: "sendAppMessage", value: function(e2) {
        var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "*";
        if (Za(this._callState, "sendAppMessage()"), JSON.stringify(e2).length > 4096)
          throw new Error("Message data too large. Max size is 4096");
        return this.sendMessageToCallMachine({ action: "app-msg", data: e2, to: t3 }), this;
      } }, { key: "addFakeParticipant", value: function(e2) {
        return as(), Za(this._callState, "addFakeParticipant()"), this.sendMessageToCallMachine(Na({ action: "add-fake-participant" }, e2)), this;
      } }, { key: "setShowNamesMode", value: function(e2) {
        return os(this._callObjectMode, "setShowNamesMode()"), as(), e2 && "always" !== e2 && "never" !== e2 ? (console.error('setShowNamesMode argument should be "always", "never", or false'), this) : (this.sendMessageToCallMachine({ action: "set-show-names", mode: e2 }), this);
      } }, { key: "setShowLocalVideo", value: function() {
        var e2 = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
        return os(this._callObjectMode, "setShowLocalVideo()"), as(), Za(this._callState, "setShowLocalVideo()"), "boolean" != typeof e2 ? (console.error("setShowLocalVideo only accepts a boolean value"), this) : (this.sendMessageToCallMachine({ action: "set-show-local-video", show: e2 }), this._showLocalVideo = e2, this);
      } }, { key: "showLocalVideo", value: function() {
        return os(this._callObjectMode, "showLocalVideo()"), as(), this._showLocalVideo;
      } }, { key: "setShowParticipantsBar", value: function() {
        var e2 = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
        return os(this._callObjectMode, "setShowParticipantsBar()"), as(), Za(this._callState, "setShowParticipantsBar()"), "boolean" != typeof e2 ? (console.error("setShowParticipantsBar only accepts a boolean value"), this) : (this.sendMessageToCallMachine({ action: "set-show-participants-bar", show: e2 }), this._showParticipantsBar = e2, this);
      } }, { key: "showParticipantsBar", value: function() {
        return os(this._callObjectMode, "showParticipantsBar()"), as(), this._showParticipantsBar;
      } }, { key: "customIntegrations", value: function() {
        return as(), os(this._callObjectMode, "customIntegrations()"), this._customIntegrations;
      } }, { key: "setCustomIntegrations", value: function(e2) {
        return as(), os(this._callObjectMode, "setCustomIntegrations()"), Za(this._callState, "setCustomIntegrations()"), ms(e2) ? (this.sendMessageToCallMachine({ action: "set-custom-integrations", integrations: e2 }), this._customIntegrations = e2, this) : this;
      } }, { key: "startCustomIntegrations", value: function(e2) {
        var t3 = this;
        if (as(), os(this._callObjectMode, "startCustomIntegrations()"), Za(this._callState, "startCustomIntegrations()"), Array.isArray(e2) && e2.some(function(e3) {
          return "string" != typeof e3;
        }) || !Array.isArray(e2) && "string" != typeof e2)
          return console.error("startCustomIntegrations() only accepts string | string[]"), this;
        var n2 = "string" == typeof e2 ? [e2] : e2, r2 = n2.filter(function(e3) {
          return !(e3 in t3._customIntegrations);
        });
        return r2.length ? (console.error(`Can't find custom integration(s): "`.concat(r2.join(", "), '"')), this) : (this.sendMessageToCallMachine({ action: "start-custom-integrations", ids: n2 }), this);
      } }, { key: "stopCustomIntegrations", value: function(e2) {
        var t3 = this;
        if (as(), os(this._callObjectMode, "stopCustomIntegrations()"), Za(this._callState, "stopCustomIntegrations()"), Array.isArray(e2) && e2.some(function(e3) {
          return "string" != typeof e3;
        }) || !Array.isArray(e2) && "string" != typeof e2)
          return console.error("stopCustomIntegrations() only accepts string | string[]"), this;
        var n2 = "string" == typeof e2 ? [e2] : e2, r2 = n2.filter(function(e3) {
          return !(e3 in t3._customIntegrations);
        });
        return r2.length ? (console.error(`Can't find custom integration(s): "`.concat(r2.join(", "), '"')), this) : (this.sendMessageToCallMachine({ action: "stop-custom-integrations", ids: n2 }), this);
      } }, { key: "customTrayButtons", value: function() {
        return os(this._callObjectMode, "customTrayButtons()"), as(), this._customTrayButtons;
      } }, { key: "updateCustomTrayButtons", value: function(e2) {
        return os(this._callObjectMode, "updateCustomTrayButtons()"), as(), Za(this._callState, "updateCustomTrayButtons()"), gs(e2) ? (this.sendMessageToCallMachine({ action: "update-custom-tray-buttons", btns: e2 }), this._customTrayButtons = e2, this) : (console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Wa))), this);
      } }, { key: "theme", value: function() {
        return os(this._callObjectMode, "theme()"), this.properties.theme;
      } }, { key: "setTheme", value: function(e2) {
        var t3 = this;
        return os(this._callObjectMode, "setTheme()"), new Promise(function(n2, r2) {
          try {
            t3.validateProperties({ theme: e2 }), t3.properties.theme = Na({}, e2), t3.sendMessageToCallMachine({ action: "set-theme", theme: t3.properties.theme });
            try {
              t3.emit(oi, { action: oi, theme: t3.properties.theme });
            } catch (e3) {
              console.log("could not emit 'theme-updated'", e3);
            }
            n2(t3.properties.theme);
          } catch (e3) {
            r2(e3);
          }
        });
      } }, { key: "requestFullscreen", value: (f2 = n(function* () {
        if (as(), this._iframe && !document.fullscreenElement && Co())
          try {
            (yield this._iframe.requestFullscreen) ? this._iframe.requestFullscreen() : this._iframe.webkitRequestFullscreen();
          } catch (e2) {
            console.log("could not make video call fullscreen", e2);
          }
      }), function() {
        return f2.apply(this, arguments);
      }) }, { key: "exitFullscreen", value: function() {
        as(), document.fullscreenElement ? document.exitFullscreen() : document.webkitFullscreenElement && document.webkitExitFullscreen();
      } }, { key: "getSidebarView", value: (h2 = n(function* () {
        var e2 = this;
        return this._callObjectMode ? (console.error("getSidebarView is not available in callObject mode"), Promise.resolve(null)) : new Promise(function(t3) {
          e2.sendMessageToCallMachine({ action: "get-sidebar-view" }, function(e3) {
            t3(e3.view);
          });
        });
      }), function() {
        return h2.apply(this, arguments);
      }) }, { key: "setSidebarView", value: function(e2) {
        return this._callObjectMode ? (console.error("setSidebarView is not available in callObject mode"), this) : (this.sendMessageToCallMachine({ action: "set-sidebar-view", view: e2 }), this);
      } }, { key: "room", value: (d2 = n(function* () {
        var e2 = this, t3 = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).includeRoomConfigDefaults, n2 = void 0 === t3 || t3;
        return this._accessState.access === Lr || this.needsLoad() ? this.properties.url ? { roomUrlPendingJoin: this.properties.url } : null : new Promise(function(t4) {
          e2.sendMessageToCallMachine({ action: "lib-room-info", includeRoomConfigDefaults: n2 }, function(e3) {
            delete e3.action, delete e3.callbackStamp, t4(e3);
          });
        });
      }), function() {
        return d2.apply(this, arguments);
      }) }, { key: "geo", value: (l2 = n(function* () {
        try {
          var e2 = yield fetch("https://gs.daily.co/_ks_/x-swsl/:");
          return { current: (yield e2.json()).geo };
        } catch (e3) {
          return console.error("geo lookup failed", e3), { current: "" };
        }
      }), function() {
        return l2.apply(this, arguments);
      }) }, { key: "setNetworkTopology", value: (a2 = n(function* (e2) {
        var t3 = this;
        return as(), Za(this._callState, "setNetworkTopology()"), new Promise(function(n2, r2) {
          t3.sendMessageToCallMachine({ action: "set-network-topology", opts: e2 }, function(e3) {
            e3.error ? r2({ error: e3.error }) : n2({ workerId: e3.workerId });
          });
        });
      }), function(e2) {
        return a2.apply(this, arguments);
      }) }, { key: "getNetworkTopology", value: (o2 = n(function* () {
        var e2 = this;
        return new Promise(function(t3, n2) {
          e2.needsLoad() && t3({ topology: "none" }), e2.sendMessageToCallMachine({ action: "get-network-topology" }, function(e3) {
            e3.error ? n2({ error: e3.error }) : t3({ topology: e3.topology });
          });
        });
      }), function() {
        return o2.apply(this, arguments);
      }) }, { key: "setPlayNewParticipantSound", value: function(e2) {
        if (as(), "number" != typeof e2 && true !== e2 && false !== e2)
          throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(e2));
        this.sendMessageToCallMachine({ action: "daily-method-set-play-ding", arg: e2 });
      } }, { key: "on", value: function(e2, t3) {
        return this._inputEventsOn[e2] = {}, this.sendMessageToCallMachine({ action: uo, on: e2 }), v.prototype.on.call(this, e2, t3);
      } }, { key: "once", value: function(e2, t3) {
        return this._inputEventsOn[e2] = {}, this.sendMessageToCallMachine({ action: uo, on: e2 }), v.prototype.once.call(this, e2, t3);
      } }, { key: "off", value: function(e2, t3) {
        return delete this._inputEventsOn[e2], this.isDestroyed() || this.sendMessageToCallMachine({ action: uo, off: e2 }), v.prototype.off.call(this, e2, t3);
      } }, { key: "validateProperties", value: function(e2) {
        for (var t3 in e2) {
          if (!Ha[t3])
            throw new Error("unrecognized property '".concat(t3, "'"));
          if (Ha[t3].validate && !Ha[t3].validate(e2[t3], this))
            throw new Error("property '".concat(t3, "': ").concat(Ha[t3].help));
        }
      } }, { key: "assembleMeetingUrl", value: function() {
        var e2, t3, n2 = Na(Na({}, this.properties), {}, { emb: this._callFrameId, embHref: encodeURIComponent(window.location.href), proxy: null !== (e2 = window._dailyConfig) && void 0 !== e2 && e2.proxyUrl ? encodeURIComponent(null === (t3 = window._dailyConfig) || void 0 === t3 ? void 0 : t3.proxyUrl) : void 0 }), r2 = n2.url.match(/\?/) ? "&" : "?";
        return n2.url + r2 + Object.keys(Ha).filter(function(e3) {
          return Ha[e3].queryString && void 0 !== n2[e3];
        }).map(function(e3) {
          return "".concat(Ha[e3].queryString, "=").concat(n2[e3]);
        }).join("&");
      } }, { key: "needsLoad", value: function() {
        return [br, wr, Mr, Tr].includes(this._callState);
      } }, { key: "sendMessageToCallMachine", value: function(e2, t3) {
        if (this._destroyed && (this._logUseAfterDestroy(), this.strictMode))
          throw new Error("Use after destroy");
        this._messageChannel.sendMessageToCallMachine(e2, t3, this._iframe, this._callFrameId);
      } }, { key: "forwardPackagedMessageToCallMachine", value: function(e2) {
        this._messageChannel.forwardPackagedMessageToCallMachine(e2, this._iframe, this._callFrameId);
      } }, { key: "addListenerForPackagedMessagesFromCallMachine", value: function(e2) {
        return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(e2, this._callFrameId);
      } }, { key: "removeListenerForPackagedMessagesFromCallMachine", value: function(e2) {
        this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(e2);
      } }, { key: "handleMessageFromCallMachine", value: function(t3) {
        switch (t3.action) {
          case ri:
            this.sendMessageToCallMachine(Na({ action: ii }, this.properties));
            break;
          case "daily-main-executed":
            this._dailyMainExecuted = true;
            var n2 = { action: po, level: "log", code: 1011, stats: { event: "bundle load", time: "no-op" === this._bundleLoadTime ? 0 : this._bundleLoadTime, preLoaded: "no-op" === this._bundleLoadTime, url: X() } };
            this.sendMessageToCallMachine(n2), this._delayDuplicateInstanceLog && this._logDuplicateInstanceAttempt();
            break;
          case ci:
            this._loadedCallback && (this._loadedCallback(), this._loadedCallback = null);
            try {
              this.emit(t3.action, t3);
            } catch (e2) {
              console.log("could not emit", t3, e2);
            }
            break;
          case hi:
            this._joinedCallback && (this._joinedCallback(t3.participants), this._joinedCallback = null);
            try {
              this.emit(t3.action, t3);
            } catch (e2) {
              console.log("could not emit", t3, e2);
            }
            break;
          case gi:
          case mi:
            if (this._callState === Mr)
              return;
            if (t3.participant && t3.participant.session_id) {
              var r2 = t3.participant.local ? "local" : t3.participant.session_id;
              this._callObjectMode && (ha(t3.participant), pa(t3.participant), ga(t3.participant, this._participants[r2]));
              try {
                this.maybeParticipantTracksStopped(this._participants[r2], t3.participant), this.maybeParticipantTracksStarted(this._participants[r2], t3.participant), this.maybeEventRecordingStopped(this._participants[r2], t3.participant), this.maybeEventRecordingStarted(this._participants[r2], t3.participant);
              } catch (e2) {
                console.error("track events error", e2);
              }
              if (!this.compareEqualForParticipantUpdateEvent(t3.participant, this._participants[r2])) {
                this._participants[r2] = Na({}, t3.participant), this.toggleParticipantAudioBasedOnNativeAudioFocus();
                try {
                  this.emit(t3.action, t3);
                } catch (e2) {
                  console.log("could not emit", t3, e2);
                }
              }
            }
            break;
          case vi:
            if (t3.participant && t3.participant.session_id) {
              var i2 = this._participants[t3.participant.session_id];
              i2 && this.maybeParticipantTracksStopped(i2, null), delete this._participants[t3.participant.session_id];
              try {
                this.emit(t3.action, t3);
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            }
            break;
          case yi:
            if (!N(this._participantCounts, t3.participantCounts)) {
              this._participantCounts = t3.participantCounts;
              try {
                this.emit(t3.action, t3);
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            }
            break;
          case _i:
            var o3 = { access: t3.access };
            if (t3.awaitingAccess && (o3.awaitingAccess = t3.awaitingAccess), !N(this._accessState, o3)) {
              this._accessState = o3;
              try {
                this.emit(t3.action, t3);
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            }
            break;
          case bi:
            if (t3.meetingSession) {
              this._meetingSessionSummary = t3.meetingSession;
              try {
                delete t3.callFrameId, this.emit(t3.action, t3);
                var a3 = Na(Na({}, t3), {}, { action: "meeting-session-updated" });
                this.emit(a3.action, a3);
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            }
            break;
          case ao:
            var s2;
            this._iframe && !t3.preserveIframe && (this._iframe.src = ""), this._updateCallState(Tr), this.resetMeetingDependentVars(), this._loadedCallback && (this._loadedCallback(t3.errorMsg), this._loadedCallback = null), t3.preserveIframe;
            var c2 = e(t3, La);
            null != c2 && null !== (s2 = c2.error) && void 0 !== s2 && s2.details && (c2.error.details = JSON.parse(c2.error.details)), this._maybeSendToSentry(t3), this._joinedCallback && (this._joinedCallback(null, c2), this._joinedCallback = null);
            try {
              this.emit(t3.action, c2);
            } catch (e2) {
              console.log("could not emit", t3, e2);
            }
            break;
          case pi:
            this._callState !== Tr && this._updateCallState(Mr), this.resetMeetingDependentVars(), this._resolveLeave && (this._resolveLeave(), this._resolveLeave = null);
            try {
              this.emit(t3.action, t3);
            } catch (e2) {
              console.log("could not emit", t3, e2);
            }
            break;
          case "selected-devices-updated":
            if (t3.devices)
              try {
                this.emit(t3.action, t3);
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            break;
          case Wi:
            var l3 = t3.threshold, u2 = t3.quality;
            if (l3 !== this._network.threshold || u2 !== this._network.quality) {
              this._network.quality = u2, this._network.threshold = l3;
              try {
                this.emit(t3.action, t3);
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            }
            break;
          case Hi:
            if (t3 && t3.cpuLoadState)
              try {
                this.emit(t3.action, t3);
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            break;
          case Yi:
            var d3 = t3.activeSpeaker;
            if (this._activeSpeaker.peerId !== d3.peerId) {
              this._activeSpeaker.peerId = d3.peerId;
              try {
                this.emit(t3.action, { action: t3.action, activeSpeaker: this._activeSpeaker });
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            }
            break;
          case "show-local-video-changed":
            if (this._callObjectMode)
              return;
            var h3 = t3.show;
            this._showLocalVideo = h3;
            try {
              this.emit(t3.action, { action: t3.action, show: h3 });
            } catch (e2) {
              console.log("could not emit", t3, e2);
            }
            break;
          case Ji:
            var p2 = t3.enabled;
            if (this._activeSpeakerMode !== p2) {
              this._activeSpeakerMode = p2;
              try {
                this.emit(t3.action, { action: t3.action, enabled: this._activeSpeakerMode });
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            }
            break;
          case ki:
          case Ei:
          case Mi:
            this._waitingParticipants = t3.allWaitingParticipants;
            try {
              this.emit(t3.action, { action: t3.action, participant: t3.participant });
            } catch (e2) {
              console.log("could not emit", t3, e2);
            }
            break;
          case ro:
            if (!N(this._receiveSettings, t3.receiveSettings)) {
              this._receiveSettings = t3.receiveSettings;
              try {
                this.emit(t3.action, { action: t3.action, receiveSettings: t3.receiveSettings });
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            }
            break;
          case io:
            if (!N(this._inputSettings, t3.inputSettings)) {
              var f3 = this._getInputSettings();
              if (this._inputSettings = t3.inputSettings, this._preloadCache.inputSettings = {}, !N(f3, this._getInputSettings()))
                try {
                  this.emit(t3.action, { action: t3.action, inputSettings: this._getInputSettings() });
                } catch (e2) {
                  console.log("could not emit", t3, e2);
                }
            }
            break;
          case "send-settings-updated":
            if (!N(this._sendSettings, t3.sendSettings)) {
              this._sendSettings = t3.sendSettings, this._preloadCache.sendSettings = null;
              try {
                this.emit(t3.action, { action: t3.action, sendSettings: t3.sendSettings });
              } catch (e2) {
                console.log("could not emit", t3, e2);
              }
            }
            break;
          case "local-audio-level":
            this._localAudioLevel = t3.audioLevel, this.emitDailyJSEvent(t3);
            break;
          case "remote-participants-audio-level":
            this._remoteParticipantsAudioLevel = t3.participantsAudioLevel, this.emitDailyJSEvent(t3);
            break;
          case Fi:
            var g2 = t3.session_id;
            this._rmpPlayerState[g2] = t3.playerState, this.emitDailyJSEvent(t3);
            break;
          case Vi:
            delete this._rmpPlayerState[t3.session_id], this.emitDailyJSEvent(t3);
            break;
          case Ui:
            var m3 = t3.session_id, v2 = this._rmpPlayerState[m3];
            v2 && this.compareEqualForRMPUpdateEvent(v2, t3.remoteMediaPlayerState) || (this._rmpPlayerState[m3] = t3.remoteMediaPlayerState, this.emitDailyJSEvent(t3));
            break;
          case "custom-button-click":
          case "sidebar-view-changed":
            this.emitDailyJSEvent(t3);
            break;
          case wi:
            var y3 = this._meetingSessionState.topology !== (t3.meetingSessionState && t3.meetingSessionState.topology);
            this._meetingSessionState = bs(t3.meetingSessionState, this._callObjectMode), (this._callObjectMode || y3) && this.emitDailyJSEvent(t3);
            break;
          case Ai:
          case ji:
          case Li:
          case Di:
          case Ni:
          case Oi:
          case Pi:
          case xi:
          case li:
          case ui:
          case Ri:
          case Bi:
          case $i:
          case Gi:
          case qi:
          case zi:
          case Ii:
          case Xi:
          case Zi:
          case eo:
          case to:
          case oo:
          case no:
          case "dialin-connected":
          case "dialin-error":
          case "dialin-stopped":
          case "dialin-warning":
          case "dialout-connected":
          case "dialout-error":
          case "dialout-stopped":
          case "dialout-warning":
            try {
              this.emit(t3.action, t3);
            } catch (e2) {
              console.log("could not emit", t3, e2);
            }
            break;
          case "request-fullscreen":
            this.requestFullscreen();
            break;
          case "request-exit-fullscreen":
            this.exitFullscreen();
        }
      } }, { key: "maybeEventRecordingStopped", value: function(e2, t3) {
        var n2 = "record";
        if (e2 && !t3.local && false === t3[n2] && e2[n2] !== t3[n2])
          try {
            this.emit(ji, { action: ji });
          } catch (e3) {
            console.log("could not emit", e3);
          }
      } }, { key: "maybeEventRecordingStarted", value: function(e2, t3) {
        var n2 = "record";
        if (e2 && !t3.local && true === t3[n2] && e2[n2] !== t3[n2])
          try {
            this.emit(Ai, { action: Ai });
          } catch (e3) {
            console.log("could not emit", e3);
          }
      } }, { key: "maybeEventTrackStopped", value: function(e2, t3, n2, r2) {
        if (e2 && ("ended" === e2.readyState || !t3 || e2.id !== t3.id))
          try {
            this.emit(Ci, { action: Ci, track: e2, participant: n2, type: r2 });
          } catch (e3) {
            console.log("maybeEventTrackStopped: could not emit", e3);
          }
      } }, { key: "maybeEventTrackStarted", value: function(e2, t3, n2, r2) {
        if (t3 && (!e2 || "ended" === e2.readyState || t3.id !== e2.id))
          try {
            this.emit(Ti, { action: Ti, track: t3, participant: n2, type: r2 });
          } catch (e3) {
            console.log("maybeEventTrackStarted: could not emit", e3);
          }
      } }, { key: "maybeParticipantTracksStopped", value: function(e2, t3) {
        if (e2)
          for (var n2 in e2.tracks)
            this.maybeEventTrackStopped(e2.tracks[n2].track, t3 && t3.tracks[n2] ? t3.tracks[n2].track : null, t3, n2);
      } }, { key: "maybeParticipantTracksStarted", value: function(e2, t3) {
        if (t3)
          for (var n2 in t3.tracks)
            this.maybeEventTrackStarted(e2 && e2.tracks[n2] ? e2.tracks[n2].track : null, t3.tracks[n2].track, t3, n2);
      } }, { key: "compareEqualForRMPUpdateEvent", value: function(e2, t3) {
        var n2, r2;
        return e2.state === t3.state && (null === (n2 = e2.settings) || void 0 === n2 ? void 0 : n2.volume) === (null === (r2 = t3.settings) || void 0 === r2 ? void 0 : r2.volume);
      } }, { key: "emitDailyJSEvent", value: function(e2) {
        try {
          this.emit(e2.action, e2);
        } catch (t3) {
          console.log("could not emit", e2, t3);
        }
      } }, { key: "compareEqualForParticipantUpdateEvent", value: function(e2, t3) {
        return !!N(e2, t3) && ((!e2.videoTrack || !t3.videoTrack || e2.videoTrack.id === t3.videoTrack.id && e2.videoTrack.muted === t3.videoTrack.muted && e2.videoTrack.enabled === t3.videoTrack.enabled) && (!e2.audioTrack || !t3.audioTrack || e2.audioTrack.id === t3.audioTrack.id && e2.audioTrack.muted === t3.audioTrack.muted && e2.audioTrack.enabled === t3.audioTrack.enabled));
      } }, { key: "nativeUtils", value: function() {
        return ko() ? "undefined" == typeof DailyNativeUtils ? (console.warn("in React Native, DailyNativeUtils is expected to be available"), null) : DailyNativeUtils : null;
      } }, { key: "updateIsPreparingToJoin", value: function(e2) {
        this._updateCallState(this._callState, e2);
      } }, { key: "_updateCallState", value: function(e2) {
        var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._isPreparingToJoin;
        if (e2 !== this._callState || t3 !== this._isPreparingToJoin) {
          var n2 = this._callState, r2 = this._isPreparingToJoin;
          this._callState = e2, this._isPreparingToJoin = t3;
          var i2 = es(n2, r2), o3 = es(this._callState, this._isPreparingToJoin);
          i2 !== o3 && (this.updateKeepDeviceAwake(o3), this.updateDeviceAudioMode(o3), this.updateShowAndroidOngoingMeetingNotification(o3), this.updateNoOpRecordingEnsuringBackgroundContinuity(o3));
        }
      } }, { key: "resetMeetingDependentVars", value: function() {
        this._participants = {}, this._participantCounts = $a, this._waitingParticipants = {}, this._activeSpeaker = {}, this._activeSpeakerMode = false, this._didPreAuth = false, this._accessState = { access: Lr }, this._finalSummaryOfPrevSession = this._meetingSessionSummary, this._meetingSessionSummary = {}, this._meetingSessionState = bs(Va, this._callObjectMode), this._receiveSettings = {}, this._inputSettings = void 0, this._sendSettings = {}, this._localAudioLevel = 0, this._remoteParticipantsAudioLevel = {}, this._dailyMainExecuted = false, this._bundleLoadTime = void 0, this._preloadCache;
      } }, { key: "updateKeepDeviceAwake", value: function(e2) {
        ko() && this.nativeUtils().setKeepDeviceAwake(e2, this._callFrameId);
      } }, { key: "updateDeviceAudioMode", value: function(e2) {
        if (ko() && !this.disableReactNativeAutoDeviceManagement("audio")) {
          var t3 = e2 ? this._nativeInCallAudioMode : "idle";
          this.nativeUtils().setAudioMode(t3);
        }
      } }, { key: "updateShowAndroidOngoingMeetingNotification", value: function(e2) {
        if (ko() && this.nativeUtils().setShowOngoingMeetingNotification) {
          var t3, n2, r2, i2;
          if (this.properties.reactNativeConfig && this.properties.reactNativeConfig.androidInCallNotification) {
            var o3 = this.properties.reactNativeConfig.androidInCallNotification;
            t3 = o3.title, n2 = o3.subtitle, r2 = o3.iconName, i2 = o3.disableForCustomOverride;
          }
          i2 && (e2 = false), this.nativeUtils().setShowOngoingMeetingNotification(e2, t3, n2, r2, this._callFrameId);
        }
      } }, { key: "updateNoOpRecordingEnsuringBackgroundContinuity", value: function(e2) {
        ko() && this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity && this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(e2);
      } }, { key: "toggleParticipantAudioBasedOnNativeAudioFocus", value: function() {
        if (ko()) {
          var e2 = window.store.getState();
          for (var t3 in e2.streams) {
            var n2 = e2.streams[t3];
            n2 && n2.pendingTrack && "audio" === n2.pendingTrack.kind && (n2.pendingTrack.enabled = this._hasNativeAudioFocus);
          }
        }
      } }, { key: "disableReactNativeAutoDeviceManagement", value: function(e2) {
        return this.properties.reactNativeConfig && this.properties.reactNativeConfig.disableAutoDeviceManagement && this.properties.reactNativeConfig.disableAutoDeviceManagement[e2];
      } }, { key: "absoluteUrl", value: function(e2) {
        if (void 0 !== e2) {
          var t3 = document.createElement("a");
          return t3.href = e2, t3.href;
        }
      } }, { key: "sayHello", value: function() {
        var e2 = "hello, world.";
        return console.log(e2), e2;
      } }, { key: "_logCallQualityTestResults", value: function(e2) {
        if (this._dailyMainExecuted) {
          var t3 = { action: po, level: "info", code: 1012, results: e2 };
          this.sendMessageToCallMachine(t3);
        } else
          console.warn("_logCallQualityTestResults() must be called after daily initialization");
      } }, { key: "_logUseAfterDestroy", value: function() {
        if (this.needsLoad()) {
          if (xa && !xa.needsLoad()) {
            var e2 = { action: po, level: "error", code: this.strictMode ? 9995 : 9997 };
            xa.sendMessageToCallMachine(e2);
          } else if (!this.strictMode) {
            console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");
          }
        } else {
          var t3 = { action: po, level: "error", code: this.strictMode ? 9995 : 9997 };
          this._messageChannel.sendMessageToCallMachine(t3, null, this._iframe, this._callFrameId);
        }
      } }, { key: "_logDuplicateInstanceAttempt", value: function() {
        var e2 = xa._dailyMainExecuted ? xa : this._dailyMainExecuted ? this : void 0;
        e2 ? e2.sendMessageToCallMachine({ action: po, level: "error", code: this.strictMode ? 9990 : 9992 }) : (this._delayDuplicateInstanceLog = true, xa._delayDuplicateInstanceLog = true);
      } }, { key: "_maybeSendToSentry", value: function(e2) {
        var t3, n2, r2, i2, o3, a3;
        if (null !== (t3 = e2.error) && void 0 !== t3 && t3.type) {
          if (!["connection-error", "end-of-life", "no-room"].includes(e2.error.type))
            return;
        }
        var s2 = null !== (n2 = this.properties) && void 0 !== n2 && n2.url ? new URL(this.properties.url) : void 0, c2 = "production";
        s2 && s2.host.includes(".staging.daily") && (c2 = "staging");
        var l3, u2, d3, h3, p2, f3 = new Hn({ dsn: "https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844", transport: Kn, integrations: [new _r.GlobalHandlers({ onunhandledrejection: false })], environment: c2 }), g2 = new tn(f3, void 0, te2.version());
        if (this.session_id && g2.setExtra("sessionId", this.session_id), this.properties) {
          var m3 = Na({}, this.properties);
          m3.userName = m3.userName ? "[Filtered]" : void 0, m3.userData = m3.userData ? "[Filtered]" : void 0, m3.token = m3.token ? "[Filtered]" : void 0, g2.setExtra("properties", m3);
        }
        if (s2) {
          var v2 = s2.searchParams.get("domain");
          if (!v2) {
            var y3 = s2.host.match(/(.*?)\./);
            v2 = y3 && y3[1] || "";
          }
          v2 && g2.setTag("domain", v2);
        }
        e2.error && (g2.setTag("fatalErrorType", e2.error.type), g2.setExtra("errorDetails", e2.error.details), (null === (l3 = e2.error.details) || void 0 === l3 ? void 0 : l3.uri) && g2.setTag("serverAddress", e2.error.details.uri), (null === (u2 = e2.error.details) || void 0 === u2 ? void 0 : u2.workerGroup) && g2.setTag("workerGroup", e2.error.details.workerGroup), (null === (d3 = e2.error.details) || void 0 === d3 ? void 0 : d3.geoGroup) && g2.setTag("geoGroup", e2.error.details.geoGroup), (null === (h3 = e2.error.details) || void 0 === h3 ? void 0 : h3.bundleUrl) && g2.setTag("bundleUrl", e2.error.details.bundleUrl), (null === (p2 = e2.error.details) || void 0 === p2 ? void 0 : p2.on) && g2.setTag("connectionAttempt", e2.error.details.on));
        g2.setTags({ callMode: this._callObjectMode ? ko() ? "reactNative" : null !== (r2 = this.properties) && void 0 !== r2 && null !== (i2 = r2.dailyConfig) && void 0 !== i2 && null !== (o3 = i2.callMode) && void 0 !== o3 && o3.includes("prebuilt") ? this.properties.dailyConfig.callMode : "custom" : "prebuilt-frame", version: te2.version() });
        var _3 = (null === (a3 = e2.error) || void 0 === a3 ? void 0 : a3.msg) || e2.errorMsg;
        g2.run(function(e3) {
          e3.captureException(new Error(_3));
        });
      } }], [{ key: "supportedBrowser", value: function() {
        if (ko())
          return { supported: true, mobile: true, name: "React Native", version: null, supportsScreenShare: true, supportsSfu: true, supportsVideoProcessing: false, supportsAudioProcessing: false };
        var e2 = z.getParser(So());
        return { supported: !!Ao(), mobile: "mobile" === e2.getPlatformType(), name: e2.getBrowserName(), version: e2.getBrowserVersion(), supportsFullscreen: !!Co(), supportsScreenShare: !!To(), supportsSfu: !!Ao(), supportsVideoProcessing: Oo(), supportsAudioProcessing: xo() };
      } }, { key: "version", value: function() {
        return "0.58.0";
      } }, { key: "createCallObject", value: function() {
        var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        return e2.layout = "none", new te2(null, e2);
      } }, { key: "wrap", value: function(e2) {
        var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        if (as(), !e2 || !e2.contentWindow || "string" != typeof e2.src)
          throw new Error("DailyIframe::Wrap needs an iframe-like first argument");
        return t3.layout || (t3.customLayout ? t3.layout = "custom-v1" : t3.layout = "browser"), new te2(e2, t3);
      } }, { key: "createFrame", value: function(e2, t3) {
        var n2, r2;
        as(), e2 && t3 ? (n2 = e2, r2 = t3) : e2 && e2.append ? (n2 = e2, r2 = {}) : (n2 = document.body, r2 = e2 || {});
        var i2 = r2.iframeStyle;
        i2 || (i2 = n2 === document.body ? { position: "fixed", border: "1px solid black", backgroundColor: "white", width: "375px", height: "450px", right: "1em", bottom: "1em" } : { border: 0, width: "100%", height: "100%" });
        var o3 = document.createElement("iframe");
        window.navigator && window.navigator.userAgent.match(/Chrome\/61\./) ? o3.allow = "microphone, camera" : o3.allow = "microphone; camera; autoplay; display-capture; screen-wake-lock", o3.style.visibility = "hidden", n2.appendChild(o3), o3.style.visibility = null, Object.keys(i2).forEach(function(e3) {
          return o3.style[e3] = i2[e3];
        }), r2.layout || (r2.customLayout ? r2.layout = "custom-v1" : r2.layout = "browser");
        try {
          return new te2(o3, r2);
        } catch (e3) {
          throw n2.removeChild(o3), e3;
        }
      } }, { key: "createTransparentFrame", value: function() {
        var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        as();
        var t3 = document.createElement("iframe");
        return t3.allow = "microphone; camera; autoplay", t3.style.cssText = "\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      border: 0;\n      pointer-events: none;\n    ", document.body.appendChild(t3), e2.layout || (e2.layout = "custom-v1"), te2.wrap(t3, e2);
      } }, { key: "getCallInstance", value: function() {
        return xa;
      } }]), te2;
    }();
  }
});

// node_modules/events/events.js
var require_events = __commonJS({
  "node_modules/events/events.js"(exports, module2) {
    "use strict";
    var R2 = typeof Reflect === "object" ? Reflect : null;
    var ReflectApply = R2 && typeof R2.apply === "function" ? R2.apply : function ReflectApply2(target, receiver, args) {
      return Function.prototype.apply.call(target, receiver, args);
    };
    var ReflectOwnKeys;
    if (R2 && typeof R2.ownKeys === "function") {
      ReflectOwnKeys = R2.ownKeys;
    } else if (Object.getOwnPropertySymbols) {
      ReflectOwnKeys = function ReflectOwnKeys2(target) {
        return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));
      };
    } else {
      ReflectOwnKeys = function ReflectOwnKeys2(target) {
        return Object.getOwnPropertyNames(target);
      };
    }
    function ProcessEmitWarning(warning) {
      if (console && console.warn)
        console.warn(warning);
    }
    var NumberIsNaN = Number.isNaN || function NumberIsNaN2(value) {
      return value !== value;
    };
    function EventEmitter() {
      EventEmitter.init.call(this);
    }
    module2.exports = EventEmitter;
    module2.exports.once = once;
    EventEmitter.EventEmitter = EventEmitter;
    EventEmitter.prototype._events = void 0;
    EventEmitter.prototype._eventsCount = 0;
    EventEmitter.prototype._maxListeners = void 0;
    var defaultMaxListeners = 10;
    function checkListener(listener) {
      if (typeof listener !== "function") {
        throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof listener);
      }
    }
    Object.defineProperty(EventEmitter, "defaultMaxListeners", {
      enumerable: true,
      get: function() {
        return defaultMaxListeners;
      },
      set: function(arg) {
        if (typeof arg !== "number" || arg < 0 || NumberIsNaN(arg)) {
          throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + arg + ".");
        }
        defaultMaxListeners = arg;
      }
    });
    EventEmitter.init = function() {
      if (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) {
        this._events = /* @__PURE__ */ Object.create(null);
        this._eventsCount = 0;
      }
      this._maxListeners = this._maxListeners || void 0;
    };
    EventEmitter.prototype.setMaxListeners = function setMaxListeners(n2) {
      if (typeof n2 !== "number" || n2 < 0 || NumberIsNaN(n2)) {
        throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + n2 + ".");
      }
      this._maxListeners = n2;
      return this;
    };
    function _getMaxListeners(that) {
      if (that._maxListeners === void 0)
        return EventEmitter.defaultMaxListeners;
      return that._maxListeners;
    }
    EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
      return _getMaxListeners(this);
    };
    EventEmitter.prototype.emit = function emit(type) {
      var args = [];
      for (var i2 = 1; i2 < arguments.length; i2++)
        args.push(arguments[i2]);
      var doError = type === "error";
      var events = this._events;
      if (events !== void 0)
        doError = doError && events.error === void 0;
      else if (!doError)
        return false;
      if (doError) {
        var er2;
        if (args.length > 0)
          er2 = args[0];
        if (er2 instanceof Error) {
          throw er2;
        }
        var err = new Error("Unhandled error." + (er2 ? " (" + er2.message + ")" : ""));
        err.context = er2;
        throw err;
      }
      var handler = events[type];
      if (handler === void 0)
        return false;
      if (typeof handler === "function") {
        ReflectApply(handler, this, args);
      } else {
        var len = handler.length;
        var listeners = arrayClone(handler, len);
        for (var i2 = 0; i2 < len; ++i2)
          ReflectApply(listeners[i2], this, args);
      }
      return true;
    };
    function _addListener(target, type, listener, prepend) {
      var m2;
      var events;
      var existing;
      checkListener(listener);
      events = target._events;
      if (events === void 0) {
        events = target._events = /* @__PURE__ */ Object.create(null);
        target._eventsCount = 0;
      } else {
        if (events.newListener !== void 0) {
          target.emit(
            "newListener",
            type,
            listener.listener ? listener.listener : listener
          );
          events = target._events;
        }
        existing = events[type];
      }
      if (existing === void 0) {
        existing = events[type] = listener;
        ++target._eventsCount;
      } else {
        if (typeof existing === "function") {
          existing = events[type] = prepend ? [listener, existing] : [existing, listener];
        } else if (prepend) {
          existing.unshift(listener);
        } else {
          existing.push(listener);
        }
        m2 = _getMaxListeners(target);
        if (m2 > 0 && existing.length > m2 && !existing.warned) {
          existing.warned = true;
          var w2 = new Error("Possible EventEmitter memory leak detected. " + existing.length + " " + String(type) + " listeners added. Use emitter.setMaxListeners() to increase limit");
          w2.name = "MaxListenersExceededWarning";
          w2.emitter = target;
          w2.type = type;
          w2.count = existing.length;
          ProcessEmitWarning(w2);
        }
      }
      return target;
    }
    EventEmitter.prototype.addListener = function addListener(type, listener) {
      return _addListener(this, type, listener, false);
    };
    EventEmitter.prototype.on = EventEmitter.prototype.addListener;
    EventEmitter.prototype.prependListener = function prependListener(type, listener) {
      return _addListener(this, type, listener, true);
    };
    function onceWrapper() {
      if (!this.fired) {
        this.target.removeListener(this.type, this.wrapFn);
        this.fired = true;
        if (arguments.length === 0)
          return this.listener.call(this.target);
        return this.listener.apply(this.target, arguments);
      }
    }
    function _onceWrap(target, type, listener) {
      var state = { fired: false, wrapFn: void 0, target, type, listener };
      var wrapped = onceWrapper.bind(state);
      wrapped.listener = listener;
      state.wrapFn = wrapped;
      return wrapped;
    }
    EventEmitter.prototype.once = function once2(type, listener) {
      checkListener(listener);
      this.on(type, _onceWrap(this, type, listener));
      return this;
    };
    EventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {
      checkListener(listener);
      this.prependListener(type, _onceWrap(this, type, listener));
      return this;
    };
    EventEmitter.prototype.removeListener = function removeListener(type, listener) {
      var list, events, position, i2, originalListener;
      checkListener(listener);
      events = this._events;
      if (events === void 0)
        return this;
      list = events[type];
      if (list === void 0)
        return this;
      if (list === listener || list.listener === listener) {
        if (--this._eventsCount === 0)
          this._events = /* @__PURE__ */ Object.create(null);
        else {
          delete events[type];
          if (events.removeListener)
            this.emit("removeListener", type, list.listener || listener);
        }
      } else if (typeof list !== "function") {
        position = -1;
        for (i2 = list.length - 1; i2 >= 0; i2--) {
          if (list[i2] === listener || list[i2].listener === listener) {
            originalListener = list[i2].listener;
            position = i2;
            break;
          }
        }
        if (position < 0)
          return this;
        if (position === 0)
          list.shift();
        else {
          spliceOne(list, position);
        }
        if (list.length === 1)
          events[type] = list[0];
        if (events.removeListener !== void 0)
          this.emit("removeListener", type, originalListener || listener);
      }
      return this;
    };
    EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
    EventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {
      var listeners, events, i2;
      events = this._events;
      if (events === void 0)
        return this;
      if (events.removeListener === void 0) {
        if (arguments.length === 0) {
          this._events = /* @__PURE__ */ Object.create(null);
          this._eventsCount = 0;
        } else if (events[type] !== void 0) {
          if (--this._eventsCount === 0)
            this._events = /* @__PURE__ */ Object.create(null);
          else
            delete events[type];
        }
        return this;
      }
      if (arguments.length === 0) {
        var keys = Object.keys(events);
        var key;
        for (i2 = 0; i2 < keys.length; ++i2) {
          key = keys[i2];
          if (key === "removeListener")
            continue;
          this.removeAllListeners(key);
        }
        this.removeAllListeners("removeListener");
        this._events = /* @__PURE__ */ Object.create(null);
        this._eventsCount = 0;
        return this;
      }
      listeners = events[type];
      if (typeof listeners === "function") {
        this.removeListener(type, listeners);
      } else if (listeners !== void 0) {
        for (i2 = listeners.length - 1; i2 >= 0; i2--) {
          this.removeListener(type, listeners[i2]);
        }
      }
      return this;
    };
    function _listeners(target, type, unwrap) {
      var events = target._events;
      if (events === void 0)
        return [];
      var evlistener = events[type];
      if (evlistener === void 0)
        return [];
      if (typeof evlistener === "function")
        return unwrap ? [evlistener.listener || evlistener] : [evlistener];
      return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
    }
    EventEmitter.prototype.listeners = function listeners(type) {
      return _listeners(this, type, true);
    };
    EventEmitter.prototype.rawListeners = function rawListeners(type) {
      return _listeners(this, type, false);
    };
    EventEmitter.listenerCount = function(emitter, type) {
      if (typeof emitter.listenerCount === "function") {
        return emitter.listenerCount(type);
      } else {
        return listenerCount.call(emitter, type);
      }
    };
    EventEmitter.prototype.listenerCount = listenerCount;
    function listenerCount(type) {
      var events = this._events;
      if (events !== void 0) {
        var evlistener = events[type];
        if (typeof evlistener === "function") {
          return 1;
        } else if (evlistener !== void 0) {
          return evlistener.length;
        }
      }
      return 0;
    }
    EventEmitter.prototype.eventNames = function eventNames() {
      return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];
    };
    function arrayClone(arr, n2) {
      var copy = new Array(n2);
      for (var i2 = 0; i2 < n2; ++i2)
        copy[i2] = arr[i2];
      return copy;
    }
    function spliceOne(list, index) {
      for (; index + 1 < list.length; index++)
        list[index] = list[index + 1];
      list.pop();
    }
    function unwrapListeners(arr) {
      var ret = new Array(arr.length);
      for (var i2 = 0; i2 < ret.length; ++i2) {
        ret[i2] = arr[i2].listener || arr[i2];
      }
      return ret;
    }
    function once(emitter, name) {
      return new Promise(function(resolve, reject) {
        function errorListener(err) {
          emitter.removeListener(name, resolver);
          reject(err);
        }
        function resolver() {
          if (typeof emitter.removeListener === "function") {
            emitter.removeListener("error", errorListener);
          }
          resolve([].slice.call(arguments));
        }
        ;
        eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });
        if (name !== "error") {
          addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });
        }
      });
    }
    function addErrorHandlerIfEventEmitter(emitter, handler, flags) {
      if (typeof emitter.on === "function") {
        eventTargetAgnosticAddListener(emitter, "error", handler, flags);
      }
    }
    function eventTargetAgnosticAddListener(emitter, name, listener, flags) {
      if (typeof emitter.on === "function") {
        if (flags.once) {
          emitter.once(name, listener);
        } else {
          emitter.on(name, listener);
        }
      } else if (typeof emitter.addEventListener === "function") {
        emitter.addEventListener(name, function wrapListener(arg) {
          if (flags.once) {
            emitter.removeEventListener(name, wrapListener);
          }
          listener(arg);
        });
      } else {
        throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof emitter);
      }
    }
  }
});

// node_modules/@vapi-ai/web/dist/api.js
var require_api = __commonJS({
  "node_modules/@vapi-ai/web/dist/api.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Api = exports.HttpClient = exports.ContentType = exports.CreateWebCallDTO = void 0;
    var CreateWebCallDTO = class {
      constructor() {
        /**
         * This is the assistant that will be used for the call. To use a transient assistant, use `assistant` instead.
         */
        __publicField(this, "assistantId");
        /**
         * Overrides for the assistant's settings and template variables.
         */
        __publicField(this, "assistantOverrides");
        /**
         * This is the assistant that will be used for the call. To use an existing assistant, use `assistantId` instead.
         */
        __publicField(this, "assistant");
        /**
         * This will expose SIP URI you can use to connect to the call. Disabled by default.
         */
        __publicField(this, "sipEnabled");
        /**
         * This is the metadata associated with the call.
         */
        __publicField(this, "metadata");
      }
    };
    exports.CreateWebCallDTO = CreateWebCallDTO;
    var ContentType;
    (function(ContentType2) {
      ContentType2["Json"] = "application/json";
      ContentType2["FormData"] = "multipart/form-data";
      ContentType2["UrlEncoded"] = "application/x-www-form-urlencoded";
      ContentType2["Text"] = "text/plain";
    })(ContentType || (exports.ContentType = ContentType = {}));
    var HttpClient = class {
      constructor(apiConfig = {}) {
        __publicField(this, "baseUrl", "https://api.vapi.ai");
        __publicField(this, "securityData", null);
        __publicField(this, "securityWorker");
        __publicField(this, "abortControllers", /* @__PURE__ */ new Map());
        __publicField(this, "customFetch", (...fetchParams) => fetch(...fetchParams));
        __publicField(this, "baseApiParams", {
          credentials: "same-origin",
          headers: {},
          redirect: "follow",
          referrerPolicy: "no-referrer"
        });
        __publicField(this, "setSecurityData", (data) => {
          this.securityData = data;
        });
        __publicField(this, "contentFormatters", {
          [ContentType.Json]: (input) => input !== null && (typeof input === "object" || typeof input === "string") ? JSON.stringify(input) : input,
          [ContentType.Text]: (input) => input !== null && typeof input !== "string" ? JSON.stringify(input) : input,
          [ContentType.FormData]: (input) => Object.keys(input || {}).reduce((formData, key) => {
            const property = input[key];
            formData.append(key, property instanceof Blob ? property : typeof property === "object" && property !== null ? JSON.stringify(property) : `${property}`);
            return formData;
          }, new FormData()),
          [ContentType.UrlEncoded]: (input) => this.toQueryString(input)
        });
        __publicField(this, "createAbortSignal", (cancelToken) => {
          if (this.abortControllers.has(cancelToken)) {
            const abortController2 = this.abortControllers.get(cancelToken);
            if (abortController2) {
              return abortController2.signal;
            }
            return void 0;
          }
          const abortController = new AbortController();
          this.abortControllers.set(cancelToken, abortController);
          return abortController.signal;
        });
        __publicField(this, "abortRequest", (cancelToken) => {
          const abortController = this.abortControllers.get(cancelToken);
          if (abortController) {
            abortController.abort();
            this.abortControllers.delete(cancelToken);
          }
        });
        __publicField(this, "request", async ({ body, secure, path, type, query, format, baseUrl, cancelToken, ...params }) => {
          const secureParams = (typeof secure === "boolean" ? secure : this.baseApiParams.secure) && this.securityWorker && await this.securityWorker(this.securityData) || {};
          const requestParams = this.mergeRequestParams(params, secureParams);
          const queryString = query && this.toQueryString(query);
          const payloadFormatter = this.contentFormatters[type || ContentType.Json];
          const responseFormat = format || requestParams.format;
          return this.customFetch(`${baseUrl || this.baseUrl || ""}${path}${queryString ? `?${queryString}` : ""}`, {
            ...requestParams,
            headers: {
              ...requestParams.headers || {},
              ...type && type !== ContentType.FormData ? { "Content-Type": type } : {}
            },
            signal: (cancelToken ? this.createAbortSignal(cancelToken) : requestParams.signal) || null,
            body: typeof body === "undefined" || body === null ? null : payloadFormatter(body)
          }).then(async (response) => {
            const r2 = response;
            r2.data = null;
            r2.error = null;
            const data = !responseFormat ? r2 : await response[responseFormat]().then((data2) => {
              if (r2.ok) {
                r2.data = data2;
              } else {
                r2.error = data2;
              }
              return r2;
            }).catch((e2) => {
              r2.error = e2;
              return r2;
            });
            if (cancelToken) {
              this.abortControllers.delete(cancelToken);
            }
            if (!response.ok)
              throw data;
            return data;
          });
        });
        Object.assign(this, apiConfig);
      }
      encodeQueryParam(key, value) {
        const encodedKey = encodeURIComponent(key);
        return `${encodedKey}=${encodeURIComponent(typeof value === "number" ? value : `${value}`)}`;
      }
      addQueryParam(query, key) {
        return this.encodeQueryParam(key, query[key]);
      }
      addArrayQueryParam(query, key) {
        const value = query[key];
        return value.map((v2) => this.encodeQueryParam(key, v2)).join("&");
      }
      toQueryString(rawQuery) {
        const query = rawQuery || {};
        const keys = Object.keys(query).filter((key) => "undefined" !== typeof query[key]);
        return keys.map((key) => Array.isArray(query[key]) ? this.addArrayQueryParam(query, key) : this.addQueryParam(query, key)).join("&");
      }
      addQueryParams(rawQuery) {
        const queryString = this.toQueryString(rawQuery);
        return queryString ? `?${queryString}` : "";
      }
      mergeRequestParams(params1, params2) {
        return {
          ...this.baseApiParams,
          ...params1,
          ...params2 || {},
          headers: {
            ...this.baseApiParams.headers || {},
            ...params1.headers || {},
            ...params2 && params2.headers || {}
          }
        };
      }
    };
    exports.HttpClient = HttpClient;
    var Api = class extends HttpClient {
      constructor() {
        super(...arguments);
        __publicField(this, "assistant", {
          /**
           * No description
           *
           * @tags Assistants
           * @name AssistantControllerCreate
           * @summary Create Assistant
           * @request POST:/assistant
           * @secure
           */
          assistantControllerCreate: (data, params = {}) => this.request({
            path: `/assistant`,
            method: "POST",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Assistants
           * @name AssistantControllerFindAll
           * @summary List Assistants
           * @request GET:/assistant
           * @secure
           */
          assistantControllerFindAll: (query, params = {}) => this.request({
            path: `/assistant`,
            method: "GET",
            query,
            secure: true,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Assistants
           * @name AssistantControllerFindOne
           * @summary Get Assistant
           * @request GET:/assistant/{id}
           * @secure
           */
          assistantControllerFindOne: (id, params = {}) => this.request({
            path: `/assistant/${id}`,
            method: "GET",
            secure: true,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Assistants
           * @name AssistantControllerUpdate
           * @summary Update Assistant
           * @request PATCH:/assistant/{id}
           * @secure
           */
          assistantControllerUpdate: (id, data, params = {}) => this.request({
            path: `/assistant/${id}`,
            method: "PATCH",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Assistants
           * @name AssistantControllerReplace
           * @summary Replace Assistant
           * @request PUT:/assistant/{id}
           * @secure
           */
          assistantControllerReplace: (id, data, params = {}) => this.request({
            path: `/assistant/${id}`,
            method: "PUT",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Assistants
           * @name AssistantControllerRemove
           * @summary Delete Assistant
           * @request DELETE:/assistant/{id}
           * @secure
           */
          assistantControllerRemove: (id, params = {}) => this.request({
            path: `/assistant/${id}`,
            method: "DELETE",
            secure: true,
            format: "json",
            ...params
          })
        });
        __publicField(this, "call", {
          /**
           * No description
           *
           * @tags Calls
           * @name CallControllerFindAll
           * @summary List Calls
           * @request GET:/call
           * @secure
           */
          callControllerFindAll: (query, params = {}) => this.request({
            path: `/call`,
            method: "GET",
            query,
            secure: true,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Calls
           * @name CallControllerFindOne
           * @summary Get Call
           * @request GET:/call/{id}
           * @secure
           */
          callControllerFindOne: (id, params = {}) => this.request({
            path: `/call/${id}`,
            method: "GET",
            secure: true,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Calls
           * @name CallControllerCreatePhoneCall
           * @summary Create Phone Call
           * @request POST:/call/phone
           * @secure
           */
          callControllerCreatePhoneCall: (data, params = {}) => this.request({
            path: `/call/phone`,
            method: "POST",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Calls
           * @name CallControllerCreateWebCall
           * @summary Create Web Call
           * @request POST:/call/web
           * @secure
           */
          callControllerCreateWebCall: (data, params = {}) => this.request({
            path: `/call/web`,
            method: "POST",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          })
        });
        __publicField(this, "credential", {
          /**
           * No description
           *
           * @tags Credentials
           * @name CredentialControllerCreate
           * @summary Create Credential
           * @request POST:/credential
           * @secure
           */
          credentialControllerCreate: (data, params = {}) => this.request({
            path: `/credential`,
            method: "POST",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Credentials
           * @name CredentialControllerFindAll
           * @summary List Credentials
           * @request GET:/credential
           * @secure
           */
          credentialControllerFindAll: (query, params = {}) => this.request({
            path: `/credential`,
            method: "GET",
            query,
            secure: true,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Credentials
           * @name CredentialControllerFindOne
           * @summary Get Credential
           * @request GET:/credential/{id}
           * @secure
           */
          credentialControllerFindOne: (id, params = {}) => this.request({
            path: `/credential/${id}`,
            method: "GET",
            secure: true,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Credentials
           * @name CredentialControllerUpdate
           * @summary Update Credential
           * @request PUT:/credential/{id}
           * @secure
           */
          credentialControllerUpdate: (id, data, params = {}) => this.request({
            path: `/credential/${id}`,
            method: "PUT",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Credentials
           * @name CredentialControllerRemove
           * @summary Delete Credential
           * @request DELETE:/credential/{id}
           * @secure
           */
          credentialControllerRemove: (id, params = {}) => this.request({
            path: `/credential/${id}`,
            method: "DELETE",
            secure: true,
            format: "json",
            ...params
          })
        });
        __publicField(this, "phoneNumber", {
          /**
           * No description
           *
           * @tags Phone Numbers
           * @name PhoneNumberControllerBuy
           * @summary Buy Phone Number
           * @request POST:/phone-number/buy
           * @secure
           */
          phoneNumberControllerBuy: (data, params = {}) => this.request({
            path: `/phone-number/buy`,
            method: "POST",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Phone Numbers
           * @name PhoneNumberControllerImportTwilio
           * @summary Import Twilio Number
           * @request POST:/phone-number/import/twilio
           * @secure
           */
          phoneNumberControllerImportTwilio: (data, params = {}) => this.request({
            path: `/phone-number/import/twilio`,
            method: "POST",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Phone Numbers
           * @name PhoneNumberControllerImportVonage
           * @summary Import Vonage Number
           * @request POST:/phone-number/import/vonage
           * @secure
           */
          phoneNumberControllerImportVonage: (data, params = {}) => this.request({
            path: `/phone-number/import/vonage`,
            method: "POST",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Phone Numbers
           * @name PhoneNumberControllerFindAll
           * @summary List Phone Numbers
           * @request GET:/phone-number
           * @secure
           */
          phoneNumberControllerFindAll: (query, params = {}) => this.request({
            path: `/phone-number`,
            method: "GET",
            query,
            secure: true,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Phone Numbers
           * @name PhoneNumberControllerFindOne
           * @summary Get Phone Number
           * @request GET:/phone-number/{id}
           * @secure
           */
          phoneNumberControllerFindOne: (id, params = {}) => this.request({
            path: `/phone-number/${id}`,
            method: "GET",
            secure: true,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Phone Numbers
           * @name PhoneNumberControllerUpdate
           * @summary Update Phone Number
           * @request PATCH:/phone-number/{id}
           * @secure
           */
          phoneNumberControllerUpdate: (id, data, params = {}) => this.request({
            path: `/phone-number/${id}`,
            method: "PATCH",
            body: data,
            secure: true,
            type: ContentType.Json,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Phone Numbers
           * @name PhoneNumberControllerRemove
           * @summary Delete Phone Number
           * @request DELETE:/phone-number/{id}
           * @secure
           */
          phoneNumberControllerRemove: (id, params = {}) => this.request({
            path: `/phone-number/${id}`,
            method: "DELETE",
            secure: true,
            format: "json",
            ...params
          })
        });
        __publicField(this, "metrics", {
          /**
           * No description
           *
           * @tags Metrics
           * @name MetricsControllerFindAll
           * @summary List Metrics
           * @request GET:/metrics
           * @secure
           */
          metricsControllerFindAll: (query, params = {}) => this.request({
            path: `/metrics`,
            method: "GET",
            query,
            secure: true,
            format: "json",
            ...params
          })
        });
        __publicField(this, "voiceLibrary", {
          /**
           * No description
           *
           * @tags Voice Library
           * @name VoiceLibraryControllerVoiceGetByProvider
           * @summary Get voices in Voice Library by Providers
           * @request GET:/voice-library/{provider}
           * @secure
           */
          voiceLibraryControllerVoiceGetByProvider: (provider, params = {}) => this.request({
            path: `/voice-library/${provider}`,
            method: "GET",
            secure: true,
            format: "json",
            ...params
          }),
          /**
           * No description
           *
           * @tags Voice Library
           * @name VoiceLibraryControllerVoiceLibrarySyncByProvider
           * @summary Sync voices in Voice Library by Providers
           * @request POST:/voice-library/sync/{provider}
           * @secure
           */
          voiceLibraryControllerVoiceLibrarySyncByProvider: (provider, params = {}) => this.request({
            path: `/voice-library/sync/${provider}`,
            method: "POST",
            secure: true,
            format: "json",
            ...params
          })
        });
        __publicField(this, "logging", {
          /**
           * No description
           *
           * @tags Logging
           * @name LoggingControllerGetLogs
           * @summary Get Logging Logs
           * @request GET:/logging
           * @secure
           */
          loggingControllerGetLogs: (query, params = {}) => this.request({
            path: `/logging`,
            method: "GET",
            query,
            secure: true,
            format: "json",
            ...params
          })
        });
      }
    };
    exports.Api = Api;
  }
});

// node_modules/@vapi-ai/web/dist/client.js
var require_client = __commonJS({
  "node_modules/@vapi-ai/web/dist/client.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.client = void 0;
    var api_1 = require_api();
    var api = new api_1.Api({
      baseUrl: "https://api.vapi.ai",
      baseApiParams: {
        secure: true
      },
      securityWorker: async (securityData) => {
        if (securityData) {
          return {
            headers: {
              Authorization: `Bearer ${securityData}`
            }
          };
        }
      }
    });
    exports.client = api;
  }
});

// node_modules/@vapi-ai/web/dist/vapi.js
var require_vapi = __commonJS({
  "node_modules/@vapi-ai/web/dist/vapi.js"(exports) {
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var daily_js_1 = __importDefault((init_daily_esm(), __toCommonJS(daily_esm_exports)));
    var events_1 = __importDefault(require_events());
    var client_1 = require_client();
    function destroyAudioPlayer(participantId) {
      const player = document.querySelector(`audio[data-participant-id="${participantId}"]`);
      player == null ? void 0 : player.remove();
    }
    async function startPlayer(player, track2) {
      player.muted = false;
      player.autoplay = true;
      if (track2 != null) {
        player.srcObject = new MediaStream([track2]);
        await player.play();
      }
    }
    async function buildAudioPlayer(track2, participantId) {
      const player = document.createElement("audio");
      player.dataset.participantId = participantId;
      document.body.appendChild(player);
      await startPlayer(player, track2);
      return player;
    }
    function subscribeToTracks(e2, call) {
      if (e2.participant.local)
        return;
      call.updateParticipant(e2.participant.session_id, {
        setSubscribedTracks: {
          audio: true,
          video: false
        }
      });
    }
    var VapiEventEmitter = class extends events_1.default {
      on(event, listener) {
        super.on(event, listener);
        return this;
      }
      once(event, listener) {
        super.once(event, listener);
        return this;
      }
      emit(event, ...args) {
        return super.emit(event, ...args);
      }
      removeListener(event, listener) {
        super.removeListener(event, listener);
        return this;
      }
      removeAllListeners(event) {
        super.removeAllListeners(event);
        return this;
      }
    };
    var Vapi = class extends VapiEventEmitter {
      constructor(apiToken, apiBaseUrl) {
        super();
        __publicField(this, "started", false);
        __publicField(this, "call", null);
        __publicField(this, "speakingTimeout", null);
        __publicField(this, "averageSpeechLevel", 0);
        client_1.client.baseUrl = apiBaseUrl ?? "https://api.vapi.ai";
        client_1.client.setSecurityData(apiToken);
      }
      cleanup() {
        var _a2;
        this.started = false;
        (_a2 = this.call) == null ? void 0 : _a2.destroy();
        this.call = null;
        this.speakingTimeout = null;
      }
      async start(assistant, assistantOverrides) {
        var _a2;
        if (this.started) {
          return null;
        }
        this.started = true;
        try {
          const webCall = (await client_1.client.call.callControllerCreateWebCall({
            assistant: typeof assistant === "string" ? void 0 : assistant,
            assistantId: typeof assistant === "string" ? assistant : void 0,
            assistantOverrides
          })).data;
          if (this.call) {
            this.cleanup();
          }
          this.call = daily_js_1.default.createCallObject({
            audioSource: true,
            videoSource: false
          });
          (_a2 = this.call.iframe()) == null ? void 0 : _a2.style.setProperty("display", "none");
          this.call.on("left-meeting", () => {
            this.emit("call-end");
            this.cleanup();
          });
          this.call.on("participant-left", (e2) => {
            if (!e2)
              return;
            destroyAudioPlayer(e2.participant.session_id);
          });
          this.call.on("error", (error) => {
            this.emit("error", error);
          });
          this.call.on("camera-error", (error) => {
            this.emit("error", error);
          });
          this.call.on("track-started", async (e2) => {
            var _a3, _b, _c;
            if (!e2 || !e2.participant)
              return;
            if ((_a3 = e2.participant) == null ? void 0 : _a3.local)
              return;
            if (e2.track.kind !== "audio")
              return;
            await buildAudioPlayer(e2.track, e2.participant.session_id);
            if (((_b = e2 == null ? void 0 : e2.participant) == null ? void 0 : _b.user_name) !== "Vapi Speaker")
              return;
            (_c = this.call) == null ? void 0 : _c.sendAppMessage("playable");
          });
          this.call.on("participant-joined", (e2) => {
            if (!e2 || !this.call)
              return;
            subscribeToTracks(e2, this.call);
          });
          await this.call.join({
            url: webCall.webCallUrl,
            subscribeToTracksAutomatically: false
          });
          this.call.startRemoteParticipantsAudioLevelObserver(100);
          this.call.on("remote-participants-audio-level", (e2) => {
            if (e2)
              this.handleRemoteParticipantsAudioLevel(e2);
          });
          this.call.on("app-message", (e2) => this.onAppMessage(e2));
          this.call.updateInputSettings({
            audio: {
              processor: {
                type: "noise-cancellation"
              }
            }
          });
          return webCall;
        } catch (e2) {
          console.error(e2);
          this.emit("error", e2);
          this.cleanup();
          return null;
        }
      }
      onAppMessage(e2) {
        if (!e2)
          return;
        try {
          if (e2.data === "listening") {
            return this.emit("call-start");
          } else {
            try {
              const parsedMessage = JSON.parse(e2.data);
              this.emit("message", parsedMessage);
            } catch (parseError) {
              console.log("Error parsing message data: ", parseError);
            }
          }
        } catch (e3) {
          console.error(e3);
        }
      }
      handleRemoteParticipantsAudioLevel(e2) {
        const speechLevel = Object.values(e2.participantsAudioLevel).reduce((a2, b2) => a2 + b2, 0);
        this.emit("volume-level", Math.min(1, speechLevel / 0.15));
        const isSpeaking = speechLevel > 0.01;
        if (!isSpeaking)
          return;
        if (this.speakingTimeout) {
          clearTimeout(this.speakingTimeout);
          this.speakingTimeout = null;
        } else {
          this.emit("speech-start");
        }
        this.speakingTimeout = setTimeout(() => {
          this.emit("speech-end");
          this.speakingTimeout = null;
        }, 1e3);
      }
      stop() {
        var _a2;
        this.started = false;
        (_a2 = this.call) == null ? void 0 : _a2.destroy();
        this.call = null;
      }
      send(message) {
        var _a2;
        (_a2 = this.call) == null ? void 0 : _a2.sendAppMessage(JSON.stringify(message));
      }
      setMuted(mute) {
        try {
          if (!this.call) {
            throw new Error("Call object is not available.");
          }
          this.call.setLocalAudio(!mute);
        } catch (error) {
          throw error;
        }
      }
      isMuted() {
        try {
          if (!this.call) {
            return false;
          }
          return this.call.localAudio() === false;
        } catch (error) {
          throw error;
        }
      }
    };
    exports.default = Vapi;
  }
});
export default require_vapi();
/*! Bundled license information:

@daily-co/daily-js/dist/daily-esm.js:
  (*!
   * Bowser - a browser detector
   * https://github.com/lancedikson/bowser
   * MIT License | (c) Dustin Diaz 2012-2015
   * MIT License | (c) Denis Demchenko 2015-2019
   *)
*/
//# sourceMappingURL=@vapi-ai_web.js.map
